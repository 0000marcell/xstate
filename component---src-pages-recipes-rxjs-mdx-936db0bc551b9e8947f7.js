(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{165:function(e,a,n){"use strict";n.r(a),n.d(a,"_frontmatter",function(){return l});var t=n(167),s=n.n(t),c=n(0),o=n.n(c),m=n(168),r=n(169);a.default=function(e){var a=e.components,n=s()(e,["components"]);return o.a.createElement(m.MDXTag,{name:"wrapper",Layout:r.a,layoutProps:n,components:a},o.a.createElement(m.MDXTag,{name:"h2",components:a,props:{id:"usage-with-rxjs"}},o.a.createElement(m.MDXTag,{name:"a",components:a,parentName:"h2",props:{href:"#usage-with-rxjs","aria-hidden":!0,class:"anchor"}}),"Usage with RxJS"),o.a.createElement(m.MDXTag,{name:"p",components:a},"The ",o.a.createElement(m.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"../guides/interpretation"}},"interpreted machine")," (i.e., ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"service"),") can be used as an event emitter. With RxJS, the ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"fromEventPattern()")," Observable creator can be used to turn the ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"service")," into an observable stream of ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"currentState")," objects:"),o.a.createElement("div",{className:"gatsby-highlight","data-language":"js"},o.a.createElement("pre",{className:"language-js"},o.a.createElement("code",{className:"language-js"},o.a.createElement("span",{className:"token keyword"},"import")," ",o.a.createElement("span",{className:"token punctuation"},"{")," Machine ",o.a.createElement("span",{className:"token punctuation"},"}")," ",o.a.createElement("span",{className:"token keyword"},"from")," ",o.a.createElement("span",{className:"token string"},"'xstate'"),o.a.createElement("span",{className:"token punctuation"},";"),"\n",o.a.createElement("span",{className:"token keyword"},"import")," ",o.a.createElement("span",{className:"token punctuation"},"{")," interpret ",o.a.createElement("span",{className:"token punctuation"},"}")," ",o.a.createElement("span",{className:"token keyword"},"from")," ",o.a.createElement("span",{className:"token string"},"'xstate/lib/interpreter'"),o.a.createElement("span",{className:"token punctuation"},";"),"\n",o.a.createElement("span",{className:"token keyword"},"import")," ",o.a.createElement("span",{className:"token punctuation"},"{")," fromEventPattern ",o.a.createElement("span",{className:"token punctuation"},"}")," ",o.a.createElement("span",{className:"token keyword"},"from")," ",o.a.createElement("span",{className:"token string"},"'rxjs'"),o.a.createElement("span",{className:"token punctuation"},";"),"\n","\n",o.a.createElement("span",{className:"token keyword"},"const")," machine ",o.a.createElement("span",{className:"token operator"},"=")," ",o.a.createElement("span",{className:"token function"},"Machine"),o.a.createElement("span",{className:"token punctuation"},"("),o.a.createElement("span",{className:"token punctuation"},"{"),"\n","  ",o.a.createElement("span",{className:"token comment"},"/* machine definition */"),"\n",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},")"),o.a.createElement("span",{className:"token punctuation"},";"),"\n","\n",o.a.createElement("span",{className:"token keyword"},"const")," service ",o.a.createElement("span",{className:"token operator"},"=")," ",o.a.createElement("span",{className:"token function"},"interpret"),o.a.createElement("span",{className:"token punctuation"},"("),"machine",o.a.createElement("span",{className:"token punctuation"},")"),o.a.createElement("span",{className:"token punctuation"},";"),"\n","\n",o.a.createElement("span",{className:"token keyword"},"const")," state$ ",o.a.createElement("span",{className:"token operator"},"=")," ",o.a.createElement("span",{className:"token function"},"fromEventPattern"),o.a.createElement("span",{className:"token punctuation"},"("),"callback ",o.a.createElement("span",{className:"token operator"},"=>")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","  ","service",o.a.createElement("span",{className:"token punctuation"},"."),o.a.createElement("span",{className:"token function"},"onTransition"),o.a.createElement("span",{className:"token punctuation"},"("),"callback",o.a.createElement("span",{className:"token punctuation"},")"),o.a.createElement("span",{className:"token punctuation"},";"),"\n",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},")"),o.a.createElement("span",{className:"token punctuation"},";"),"\n","\n","state$",o.a.createElement("span",{className:"token punctuation"},"."),o.a.createElement("span",{className:"token function"},"subscribe"),o.a.createElement("span",{className:"token punctuation"},"("),"state ",o.a.createElement("span",{className:"token operator"},"=>")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","  ",o.a.createElement("span",{className:"token comment"},"// Logs the current state"),"\n","  ","console",o.a.createElement("span",{className:"token punctuation"},"."),o.a.createElement("span",{className:"token function"},"log"),o.a.createElement("span",{className:"token punctuation"},"("),"state",o.a.createElement("span",{className:"token punctuation"},")"),o.a.createElement("span",{className:"token punctuation"},";"),"\n",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},")"),o.a.createElement("span",{className:"token punctuation"},";"),"\n","\n",o.a.createElement("span",{className:"token keyword"},"const")," event$ ",o.a.createElement("span",{className:"token operator"},"=")," ",o.a.createElement("span",{className:"token comment"},"// a stream of event objects"),"\n","\n","event$",o.a.createElement("span",{className:"token punctuation"},"."),o.a.createElement("span",{className:"token function"},"subscribe"),o.a.createElement("span",{className:"token punctuation"},"("),"event ",o.a.createElement("span",{className:"token operator"},"=>")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","  ","service",o.a.createElement("span",{className:"token punctuation"},"."),o.a.createElement("span",{className:"token function"},"send"),o.a.createElement("span",{className:"token punctuation"},"("),o.a.createElement("span",{className:"token string"},"'SOME_EVENT'"),o.a.createElement("span",{className:"token punctuation"},")"),o.a.createElement("span",{className:"token punctuation"},";"),"\n",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},")"),o.a.createElement("span",{className:"token punctuation"},";")))))};var l={}}}]);
//# sourceMappingURL=component---src-pages-recipes-rxjs-mdx-936db0bc551b9e8947f7.js.map