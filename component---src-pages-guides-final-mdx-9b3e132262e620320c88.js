(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{152:function(e,a,n){"use strict";n.r(a),n.d(a,"_frontmatter",function(){return p});var t=n(167),s=n.n(t),c=n(0),o=n.n(c),l=n(168),m=n(169);a.default=function(e){var a=e.components,n=s()(e,["components"]);return o.a.createElement(l.MDXTag,{name:"wrapper",Layout:m.a,layoutProps:n,components:a},o.a.createElement(l.MDXTag,{name:"h1",components:a,props:{id:"final-states"}},o.a.createElement(l.MDXTag,{name:"a",components:a,parentName:"h1",props:{href:"#final-states","aria-hidden":!0,class:"anchor"}}),"Final States"),o.a.createElement(l.MDXTag,{name:"p",components:a},'A final state node indicates the completion of a part of the statechart, or the entire statechart. Specifically, it indicates that its parent compound state node is "done". If the parent is the root statechart, then the entire statechart is "done" and any further execution is stopped.'),o.a.createElement(l.MDXTag,{name:"p",components:a},"This has many useful use-cases. To indicate that a state node is final, set its ",o.a.createElement(l.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"type")," property to ",o.a.createElement(l.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"'final'"),":"),o.a.createElement("div",{className:"gatsby-highlight","data-language":"js"},o.a.createElement("pre",{className:"language-js"},o.a.createElement("code",{className:"language-js"},o.a.createElement("span",{className:"token keyword"},"const")," lightMachine ",o.a.createElement("span",{className:"token operator"},"=")," ",o.a.createElement("span",{className:"token function"},"Machine"),o.a.createElement("span",{className:"token punctuation"},"("),o.a.createElement("span",{className:"token punctuation"},"{"),"\n","  ","id",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'light'"),o.a.createElement("span",{className:"token punctuation"},","),"\n","  ","initial",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'green'"),o.a.createElement("span",{className:"token punctuation"},","),"\n","  ","states",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","    ","green",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","      ","on",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{")," ",o.a.createElement("span",{className:"token constant"},"TIMER"),o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'yellow'")," ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","    ",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},","),"\n","    ","yellow",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","      ","on",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{")," ",o.a.createElement("span",{className:"token constant"},"TIMER"),o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'red'")," ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","    ",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},","),"\n","    ","red",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","      ","type",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'parallel'"),o.a.createElement("span",{className:"token punctuation"},","),"\n","      ","states",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","        ","crosswalkNorth",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","          ","initial",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'walk'"),o.a.createElement("span",{className:"token punctuation"},","),"\n","          ","states",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","            ","walk",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","              ","on",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{")," ",o.a.createElement("span",{className:"token constant"},"PED_WAIT"),o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'wait'")," ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","            ",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},","),"\n","            ","wait",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","              ","on",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{")," ",o.a.createElement("span",{className:"token constant"},"PED_STOP"),o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'stop'")," ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","            ",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},","),"\n","            ","stop",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","              ",o.a.createElement("span",{className:"token comment"},"// 'stop' is a final state node for 'crosswalkNorth'"),"\n","              ","type",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'final'"),"\n","            ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","          ",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},","),"\n","          ","onDone",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","            ","actions",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'stopCrosswalkNorth'"),"\n","          ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","        ",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},","),"\n","        ","crosswalkEast",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","          ","initial",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'walk'"),o.a.createElement("span",{className:"token punctuation"},","),"\n","          ","states",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","            ","walk",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","              ","on",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{")," ",o.a.createElement("span",{className:"token constant"},"PED_WAIT"),o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'wait'")," ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","            ",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},","),"\n","            ","wait",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","              ","on",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{")," ",o.a.createElement("span",{className:"token constant"},"PED_STOP"),o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'stop'")," ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","            ",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},","),"\n","            ","stop",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","              ","type",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'final'"),"\n","            ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","          ",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},","),"\n","          ","onDone",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","            ",o.a.createElement("span",{className:"token comment"},"// 'stop' is a final state node for 'crosswalkEast'"),"\n","            ","actions",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'stopCrosswalkEast'"),"\n","          ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","        ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","      ",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},","),"\n","      ","onDone",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'green'"),"\n","    ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","  ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},")"),o.a.createElement("span",{className:"token punctuation"},";")))),o.a.createElement(l.MDXTag,{name:"p",components:a},"In a compound state, reaching a final child state node (with ",o.a.createElement(l.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"{ type: 'final' }"),") will interally raise a ",o.a.createElement(l.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"done(...)")," event for that compound state node (e.g., ",o.a.createElement(l.MDXTag,{name:"inlineCode",components:a,parentName:"p"},'"done.state.light.crosswalkEast"'),"). Using ",o.a.createElement(l.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"onDone")," is equivalent to defining a transition for this event."),o.a.createElement(l.MDXTag,{name:"h2",components:a,props:{id:"parallel-states"}},o.a.createElement(l.MDXTag,{name:"a",components:a,parentName:"h2",props:{href:"#parallel-states","aria-hidden":!0,class:"anchor"}}),"Parallel states"),o.a.createElement(l.MDXTag,{name:"p",components:a},"When every child state node in a parallel state node is ",o.a.createElement(l.MDXTag,{name:"em",components:a,parentName:"p"},"done"),", the parent parallel state node is also ",o.a.createElement(l.MDXTag,{name:"em",components:a,parentName:"p"},"done"),". That is, when every final state node in every child compound node is reached, the ",o.a.createElement(l.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"done(...)")," event will be raised for the parallel state node."),o.a.createElement(l.MDXTag,{name:"p",components:a},"This is very useful in modeling parallel tasks. For example, suppose ",o.a.createElement(l.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"user")," and ",o.a.createElement(l.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"items")," are two parallel tasks:"),o.a.createElement("div",{className:"gatsby-highlight","data-language":"js"},o.a.createElement("pre",{className:"language-js"},o.a.createElement("code",{className:"language-js"},o.a.createElement("span",{className:"token keyword"},"const")," shoppingMachine ",o.a.createElement("span",{className:"token operator"},"=")," ",o.a.createElement("span",{className:"token function"},"Machine"),o.a.createElement("span",{className:"token punctuation"},"("),o.a.createElement("span",{className:"token punctuation"},"{"),"\n","  ","id",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'shopping'"),o.a.createElement("span",{className:"token punctuation"},","),"\n","  ","type",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'parallel'"),o.a.createElement("span",{className:"token punctuation"},","),"\n","  ","states",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","    ","user",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","      ","initial",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'pending'"),o.a.createElement("span",{className:"token punctuation"},","),"\n","      ","states",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","        ","pending",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","          ","onEntry",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'getUser'"),o.a.createElement("span",{className:"token punctuation"},","),"\n","          ","on",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","            ",o.a.createElement("span",{className:"token constant"},"RESOLVE_USER"),o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'success'"),o.a.createElement("span",{className:"token punctuation"},","),"\n","            ",o.a.createElement("span",{className:"token constant"},"REJECT_USER"),o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'failure'"),"\n","          ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","        ",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},","),"\n","        ","success",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{")," type",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'final'")," ",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},","),"\n","        ","failure",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),o.a.createElement("span",{className:"token punctuation"},"}"),"\n","      ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","    ",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},","),"\n","    ","items",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","      ","initial",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'pending'"),o.a.createElement("span",{className:"token punctuation"},","),"\n","      ","states",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","        ","pending",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","          ","onEntry",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'getItems'"),o.a.createElement("span",{className:"token punctuation"},","),"\n","          ","on",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","            ",o.a.createElement("span",{className:"token constant"},"RESOLVE_ITEMS"),o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'success'"),o.a.createElement("span",{className:"token punctuation"},","),"\n","            ",o.a.createElement("span",{className:"token constant"},"REJECT_ITEMS"),o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'failure'"),"\n","          ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","        ",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},","),"\n","        ","success",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{")," type",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'final'")," ",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},","),"\n","        ","failure",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),o.a.createElement("span",{className:"token punctuation"},"}"),"\n","      ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","    ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","  ",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},","),"\n","  ","onDone",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","    ","actions",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'renderScreen'"),"\n","  ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},")"),o.a.createElement("span",{className:"token punctuation"},";")))),o.a.createElement(l.MDXTag,{name:"p",components:a},"Only when all of the child states (e.g., ",o.a.createElement(l.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"'user'")," and ",o.a.createElement(l.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"'items'"),") are in their final states will the ",o.a.createElement(l.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"onDone")," transition take place. In this case, once the ",o.a.createElement(l.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"'shopping.user.success'")," and ",o.a.createElement(l.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"'shopping.items.success'")," state nodes are reached, the ",o.a.createElement(l.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"'renderScreen'")," action will be executed."),o.a.createElement(l.MDXTag,{name:"h2",components:a,props:{id:"scxml"}},o.a.createElement(l.MDXTag,{name:"a",components:a,parentName:"h2",props:{href:"#scxml","aria-hidden":!0,class:"anchor"}}),"SCXML"),o.a.createElement(l.MDXTag,{name:"p",components:a},"Final states correspond to the SCXML spec: ",o.a.createElement(l.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://www.w3.org/TR/scxml/#final"}},"https://www.w3.org/TR/scxml/#final")),o.a.createElement(l.MDXTag,{name:"h2",components:a,props:{id:"notes"}},o.a.createElement(l.MDXTag,{name:"a",components:a,parentName:"h2",props:{href:"#notes","aria-hidden":!0,class:"anchor"}}),"Notes"),o.a.createElement(l.MDXTag,{name:"ul",components:a},o.a.createElement(l.MDXTag,{name:"li",components:a,parentName:"ul"},"A final state node only indicates that its immediate parent is ",o.a.createElement(l.MDXTag,{name:"em",components:a,parentName:"li"},"done"),". It does not affect the ",o.a.createElement(l.MDXTag,{name:"em",components:a,parentName:"li"},"done")," status of any higher parents, except with parallel state nodes, which are ",o.a.createElement(l.MDXTag,{name:"em",components:a,parentName:"li"},"done")," when all of its child compound state nodes are ",o.a.createElement(l.MDXTag,{name:"em",components:a,parentName:"li"},"done"),"."),o.a.createElement(l.MDXTag,{name:"li",components:a,parentName:"ul"},"Final state nodes cannot have any children. They are atomic state nodes."),o.a.createElement(l.MDXTag,{name:"li",components:a,parentName:"ul"},"You can specify ",o.a.createElement(l.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"onEntry")," and ",o.a.createElement(l.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"onExit")," actions on final state nodes.")))};var p={}}}]);
//# sourceMappingURL=component---src-pages-guides-final-mdx-9b3e132262e620320c88.js.map