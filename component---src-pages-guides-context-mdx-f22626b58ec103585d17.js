(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{148:function(e,a,n){"use strict";n.r(a),n.d(a,"_frontmatter",function(){return p});var t=n(167),s=n.n(t),c=n(0),m=n.n(c),o=n(168),l=n(169);a.default=function(e){var a=e.components,n=s()(e,["components"]);return m.a.createElement(o.MDXTag,{name:"wrapper",Layout:l.a,layoutProps:n,components:a},m.a.createElement(o.MDXTag,{name:"h1",components:a,props:{id:"context-extended-state"}},m.a.createElement(o.MDXTag,{name:"a",components:a,parentName:"h1",props:{href:"#context-extended-state","aria-hidden":!0,class:"anchor"}}),"Context (Extended State)"),m.a.createElement(o.MDXTag,{name:"p",components:a},"While ",m.a.createElement(o.MDXTag,{name:"em",components:a,parentName:"p"},"finite")," states are well-defined in finite state machines and statecharts, state that represents ",m.a.createElement(o.MDXTag,{name:"em",components:a,parentName:"p"},"quantitative data")," (e.g., arbitrary strings, numbers, objects, etc.) that can be potentially infinite is represented as ",m.a.createElement(o.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://en.wikipedia.org/wiki/UML_state_machine#Extended_states"}},"extended state")," instead. This makes statecharts much more useful for real-life applications."),m.a.createElement(o.MDXTag,{name:"p",components:a},"In XState, extended state is known as ",m.a.createElement(o.MDXTag,{name:"strong",components:a,parentName:"p"},"context"),". Below is an example of how ",m.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"context")," is used to simulate filling a glass of water:"),m.a.createElement("div",{className:"gatsby-highlight","data-language":"js"},m.a.createElement("pre",{className:"language-js"},m.a.createElement("code",{className:"language-js"},m.a.createElement("span",{className:"token keyword"},"import")," ",m.a.createElement("span",{className:"token punctuation"},"{")," Machine",m.a.createElement("span",{className:"token punctuation"},",")," actions ",m.a.createElement("span",{className:"token punctuation"},"}")," ",m.a.createElement("span",{className:"token keyword"},"from")," ",m.a.createElement("span",{className:"token string"},"'xstate'"),m.a.createElement("span",{className:"token punctuation"},";"),"\n",m.a.createElement("span",{className:"token keyword"},"const")," ",m.a.createElement("span",{className:"token punctuation"},"{")," assign ",m.a.createElement("span",{className:"token punctuation"},"}")," ",m.a.createElement("span",{className:"token operator"},"=")," actions",m.a.createElement("span",{className:"token punctuation"},";"),"\n","\n",m.a.createElement("span",{className:"token comment"},"// Action to increment the context amount"),"\n",m.a.createElement("span",{className:"token keyword"},"const")," addWater ",m.a.createElement("span",{className:"token operator"},"=")," ",m.a.createElement("span",{className:"token function"},"assign"),m.a.createElement("span",{className:"token punctuation"},"("),m.a.createElement("span",{className:"token punctuation"},"{"),"\n","  ","amount",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"("),"ctx",m.a.createElement("span",{className:"token punctuation"},",")," event",m.a.createElement("span",{className:"token punctuation"},")")," ",m.a.createElement("span",{className:"token operator"},"=>")," ctx",m.a.createElement("span",{className:"token punctuation"},"."),"amount ",m.a.createElement("span",{className:"token operator"},"+")," ",m.a.createElement("span",{className:"token number"},"1"),"\n",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},";"),"\n","\n",m.a.createElement("span",{className:"token comment"},"// Guard to check if the glass is full"),"\n",m.a.createElement("span",{className:"token keyword"},"function")," ",m.a.createElement("span",{className:"token function"},"glassIsFull"),m.a.createElement("span",{className:"token punctuation"},"("),"ctx",m.a.createElement("span",{className:"token punctuation"},",")," event",m.a.createElement("span",{className:"token punctuation"},")")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","  ",m.a.createElement("span",{className:"token keyword"},"return")," ctx",m.a.createElement("span",{className:"token punctuation"},"."),"amount ",m.a.createElement("span",{className:"token operator"},">=")," ",m.a.createElement("span",{className:"token number"},"10"),m.a.createElement("span",{className:"token punctuation"},";"),"\n",m.a.createElement("span",{className:"token punctuation"},"}"),"\n","\n",m.a.createElement("span",{className:"token keyword"},"const")," glassMachine ",m.a.createElement("span",{className:"token operator"},"=")," ",m.a.createElement("span",{className:"token function"},"Machine"),m.a.createElement("span",{className:"token punctuation"},"("),m.a.createElement("span",{className:"token punctuation"},"{"),"\n","  ","id",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'glass'"),m.a.createElement("span",{className:"token punctuation"},","),"\n","  ",m.a.createElement("span",{className:"token comment"},"// the initial context (extended state) of the statechart"),"\n","  ","context",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","    ","amount",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token number"},"0"),"\n","  ",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},","),"\n","  ","initial",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'empty'"),m.a.createElement("span",{className:"token punctuation"},","),"\n","  ","states",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","    ","empty",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","      ","on",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","        ",m.a.createElement("span",{className:"token constant"},"FILL"),m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","          ","target",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'filling'"),m.a.createElement("span",{className:"token punctuation"},","),"\n","          ","actions",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'addWater'"),"\n","        ",m.a.createElement("span",{className:"token punctuation"},"}"),"\n","      ",m.a.createElement("span",{className:"token punctuation"},"}"),"\n","    ",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},","),"\n","    ","filling",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","      ","on",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","        ",m.a.createElement("span",{className:"token string"},"''"),m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","          ","target",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'full'"),m.a.createElement("span",{className:"token punctuation"},","),"\n","          ","cond",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'glassIsFull'"),"\n","        ",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},","),"\n","        ",m.a.createElement("span",{className:"token constant"},"FILL"),m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","          ","target",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'filling'"),m.a.createElement("span",{className:"token punctuation"},","),"\n","          ","actions",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'addWater'"),"\n","        ",m.a.createElement("span",{className:"token punctuation"},"}"),"\n","      ",m.a.createElement("span",{className:"token punctuation"},"}"),"\n","    ",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},","),"\n","    ","full",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),m.a.createElement("span",{className:"token punctuation"},"}"),"\n","  ",m.a.createElement("span",{className:"token punctuation"},"}"),"\n",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},",")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","  ","actions",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{")," addWater ",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},","),"\n","  ","guards",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{")," glassIsFull ",m.a.createElement("span",{className:"token punctuation"},"}"),"\n",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},";")))),m.a.createElement(o.MDXTag,{name:"p",components:a},"The current context is referenced on the ",m.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"State")," as ",m.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"state.context"),":"),m.a.createElement("div",{className:"gatsby-highlight","data-language":"js"},m.a.createElement("pre",{className:"language-js"},m.a.createElement("code",{className:"language-js"},m.a.createElement("span",{className:"token keyword"},"const")," nextState ",m.a.createElement("span",{className:"token operator"},"=")," glassMachine","\n","  ",m.a.createElement("span",{className:"token punctuation"},"."),m.a.createElement("span",{className:"token function"},"transition"),m.a.createElement("span",{className:"token punctuation"},"("),"glassMachine",m.a.createElement("span",{className:"token punctuation"},"."),"initialState",m.a.createElement("span",{className:"token punctuation"},",")," ",m.a.createElement("span",{className:"token string"},"'FILL'"),m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},";"),"\n","\n","nextState",m.a.createElement("span",{className:"token punctuation"},"."),"context",m.a.createElement("span",{className:"token punctuation"},";"),"\n",m.a.createElement("span",{className:"token comment"},"// => ","{"," count: 1 ","}")))),m.a.createElement(o.MDXTag,{name:"h2",components:a,props:{id:"initial-context"}},m.a.createElement(o.MDXTag,{name:"a",components:a,parentName:"h2",props:{href:"#initial-context","aria-hidden":!0,class:"anchor"}}),"Initial context"),m.a.createElement(o.MDXTag,{name:"p",components:a},"The initial context is specified on the ",m.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"context")," property of the ",m.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"Machine"),":"),m.a.createElement("div",{className:"gatsby-highlight","data-language":"js"},m.a.createElement("pre",{className:"language-js"},m.a.createElement("code",{className:"language-js"},m.a.createElement("span",{className:"token keyword"},"const")," counterMachine ",m.a.createElement("span",{className:"token operator"},"=")," ",m.a.createElement("span",{className:"token function"},"Machine"),m.a.createElement("span",{className:"token punctuation"},"("),m.a.createElement("span",{className:"token punctuation"},"{"),"\n","  ","id",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'counter'"),m.a.createElement("span",{className:"token punctuation"},",")," ","\n","  ",m.a.createElement("span",{className:"token comment"},"// initial context"),"\n","  ","context",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","    ","count",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token number"},"0"),m.a.createElement("span",{className:"token punctuation"},","),"\n","    ","message",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'Currently empty'"),m.a.createElement("span",{className:"token punctuation"},","),"\n","    ","user",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","      ","name",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'David'"),"\n","    ",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},","),"\n","    ","allowedToIncrement",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token boolean"},"true"),m.a.createElement("span",{className:"token punctuation"},","),"\n","    ",m.a.createElement("span",{className:"token comment"},"// ... etc."),"\n","  ",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},","),"\n","  ","states",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","    ",m.a.createElement("span",{className:"token comment"},"// ..."),"\n","  ",m.a.createElement("span",{className:"token punctuation"},"}"),"\n",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},";")))),m.a.createElement(o.MDXTag,{name:"p",components:a},"For dynamic ",m.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"context"),", you can either provide the context in the third argument of ",m.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"Machine(...)")," (for new machines):"),m.a.createElement("div",{className:"gatsby-highlight","data-language":"js"},m.a.createElement("pre",{className:"language-js"},m.a.createElement("code",{className:"language-js"},m.a.createElement("span",{className:"token comment"},"// retrieved dynamically"),"\n",m.a.createElement("span",{className:"token keyword"},"const")," dynamicContext ",m.a.createElement("span",{className:"token operator"},"=")," ",m.a.createElement("span",{className:"token punctuation"},"{")," count",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token number"},"42")," ",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},";"),"\n","\n",m.a.createElement("span",{className:"token keyword"},"const")," counterMachine ",m.a.createElement("span",{className:"token operator"},"=")," ",m.a.createElement("span",{className:"token function"},"Machine"),m.a.createElement("span",{className:"token punctuation"},"("),m.a.createElement("span",{className:"token punctuation"},"{"),"\n","  ","id",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'counter'"),m.a.createElement("span",{className:"token punctuation"},","),"\n","  ",m.a.createElement("span",{className:"token comment"},"// ..."),"\n",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},",")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","  ","actions",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{")," ",m.a.createElement("span",{className:"token comment"},"/* ... */")," ",m.a.createElement("span",{className:"token punctuation"},"}"),"\n","  ",m.a.createElement("span",{className:"token comment"},"// ... machine options"),"\n",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},",")," dynamicContext",m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},";")," ",m.a.createElement("span",{className:"token comment"},"// provide dynamic context as 3rd argument")))),m.a.createElement(o.MDXTag,{name:"p",components:a},"Or for existing machines, ",m.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"machine.withContext(...)")," should be used:"),m.a.createElement("div",{className:"gatsby-highlight","data-language":"js"},m.a.createElement("pre",{className:"language-js"},m.a.createElement("code",{className:"language-js"},m.a.createElement("span",{className:"token keyword"},"const")," counterMachine ",m.a.createElement("span",{className:"token operator"},"=")," ",m.a.createElement("span",{className:"token function"},"Machine"),m.a.createElement("span",{className:"token punctuation"},"("),m.a.createElement("span",{className:"token punctuation"},"{")," ",m.a.createElement("span",{className:"token comment"},"/* ... */")," ",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},";"),"\n","\n",m.a.createElement("span",{className:"token comment"},"// retrieved dynamically"),"\n",m.a.createElement("span",{className:"token keyword"},"const")," dynamicContext ",m.a.createElement("span",{className:"token operator"},"=")," ",m.a.createElement("span",{className:"token punctuation"},"{")," count",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token number"},"42")," ",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},";"),"\n","\n",m.a.createElement("span",{className:"token keyword"},"const")," dynamicCounterMachine ",m.a.createElement("span",{className:"token operator"},"=")," counterMachine","\n","  ",m.a.createElement("span",{className:"token punctuation"},"."),m.a.createElement("span",{className:"token function"},"withContext"),m.a.createElement("span",{className:"token punctuation"},"("),"dynamicContext",m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},";")))),m.a.createElement(o.MDXTag,{name:"p",components:a},"The initial context of a machine can be retrieved from its initial state:"),m.a.createElement("div",{className:"gatsby-highlight","data-language":"js"},m.a.createElement("pre",{className:"language-js"},m.a.createElement("code",{className:"language-js"},"dynamicCounterMachine",m.a.createElement("span",{className:"token punctuation"},"."),"initialState",m.a.createElement("span",{className:"token punctuation"},"."),"context",m.a.createElement("span",{className:"token punctuation"},";"),"\n",m.a.createElement("span",{className:"token comment"},"// => ","{"," count: 42 ","}")))),m.a.createElement(o.MDXTag,{name:"h2",components:a,props:{id:"updating-context-with-assign"}},m.a.createElement(o.MDXTag,{name:"a",components:a,parentName:"h2",props:{href:"#updating-context-with-assign","aria-hidden":!0,class:"anchor"}}),"Updating context with ",m.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"h2"},"assign")),m.a.createElement(o.MDXTag,{name:"p",components:a},"The ",m.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"assign()")," action is used to update the machine's ",m.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"context"),'. It takes the context "updater", which represents how the current context should be updated.'),m.a.createElement(o.MDXTag,{name:"p",components:a},'The "updater" can be an object (recommended):'),m.a.createElement("div",{className:"gatsby-highlight","data-language":"js"},m.a.createElement("pre",{className:"language-js"},m.a.createElement("code",{className:"language-js"},m.a.createElement("span",{className:"token keyword"},"import")," ",m.a.createElement("span",{className:"token punctuation"},"{")," Machine",m.a.createElement("span",{className:"token punctuation"},",")," actions ",m.a.createElement("span",{className:"token punctuation"},"}")," ",m.a.createElement("span",{className:"token keyword"},"from")," ",m.a.createElement("span",{className:"token string"},"'xstate'"),m.a.createElement("span",{className:"token punctuation"},";"),"\n",m.a.createElement("span",{className:"token keyword"},"const")," ",m.a.createElement("span",{className:"token punctuation"},"{")," assign ",m.a.createElement("span",{className:"token punctuation"},"}")," ",m.a.createElement("span",{className:"token operator"},"=")," actions",m.a.createElement("span",{className:"token punctuation"},";"),"\n",m.a.createElement("span",{className:"token comment"},"// example: property updater"),"\n","\n",m.a.createElement("span",{className:"token comment"},"// ..."),"\n","  ","actions",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token function"},"assign"),m.a.createElement("span",{className:"token punctuation"},"("),m.a.createElement("span",{className:"token punctuation"},"{"),"\n","    ",m.a.createElement("span",{className:"token comment"},"// increment the current count by the event value"),"\n","    ","count",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"("),"ctx",m.a.createElement("span",{className:"token punctuation"},",")," event",m.a.createElement("span",{className:"token punctuation"},")")," ",m.a.createElement("span",{className:"token operator"},"=>")," ctx",m.a.createElement("span",{className:"token punctuation"},"."),"count ",m.a.createElement("span",{className:"token operator"},"+")," event",m.a.createElement("span",{className:"token punctuation"},"."),"value",m.a.createElement("span",{className:"token punctuation"},","),"\n","\n","    ",m.a.createElement("span",{className:"token comment"},"// update the message statically (no function needed)"),"\n","    ","message",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'Count changed'"),"\n","  ",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},","),"\n",m.a.createElement("span",{className:"token comment"},"// ...")))),m.a.createElement(o.MDXTag,{name:"p",components:a},"Or it can be a function that returns the updated state:"),m.a.createElement("div",{className:"gatsby-highlight","data-language":"js"},m.a.createElement("pre",{className:"language-js"},m.a.createElement("code",{className:"language-js"},m.a.createElement("span",{className:"token comment"},"// example: context updater"),"\n","\n",m.a.createElement("span",{className:"token comment"},"// ..."),"\n","\n","  ",m.a.createElement("span",{className:"token comment"},"// return a partial (or full) updated context"),"\n","  ","actions",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token function"},"assign"),m.a.createElement("span",{className:"token punctuation"},"("),m.a.createElement("span",{className:"token punctuation"},"("),"ctx",m.a.createElement("span",{className:"token punctuation"},",")," event",m.a.createElement("span",{className:"token punctuation"},")")," ",m.a.createElement("span",{className:"token operator"},"=>")," ",m.a.createElement("span",{className:"token punctuation"},"("),m.a.createElement("span",{className:"token punctuation"},"{"),"\n","    ","count",m.a.createElement("span",{className:"token punctuation"},":")," ctx",m.a.createElement("span",{className:"token punctuation"},"."),"count ",m.a.createElement("span",{className:"token operator"},"+")," event",m.a.createElement("span",{className:"token punctuation"},"."),"value",m.a.createElement("span",{className:"token punctuation"},","),"\n","    ","message",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'Count changed'"),"\n","  ",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},","),"\n",m.a.createElement("span",{className:"token comment"},"// ...")))),m.a.createElement(o.MDXTag,{name:"p",components:a},"Both the property updater and context updater function signatures above are given two arguments:"),m.a.createElement(o.MDXTag,{name:"ul",components:a},m.a.createElement(o.MDXTag,{name:"li",components:a,parentName:"ul"},m.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"context")," (TContext): the current context (extended state) of the machine"),m.a.createElement(o.MDXTag,{name:"li",components:a,parentName:"ul"},m.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"event")," (EventObject): the event that caused the ",m.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"assign")," action")),m.a.createElement(o.MDXTag,{name:"h2",components:a,props:{id:"notes"}},m.a.createElement(o.MDXTag,{name:"a",components:a,parentName:"h2",props:{href:"#notes","aria-hidden":!0,class:"anchor"}}),"Notes"),m.a.createElement(o.MDXTag,{name:"ul",components:a},m.a.createElement(o.MDXTag,{name:"li",components:a,parentName:"ul"},"Never mutate the machine's ",m.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"context")," externally. Everything happens for a reason, and every context change should happen explicitly due to an event."),m.a.createElement(o.MDXTag,{name:"li",components:a,parentName:"ul"},"Prefer the object syntax of ",m.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"assign({ ... })"),". This makes it possible for future analysis tools to predict ",m.a.createElement(o.MDXTag,{name:"em",components:a,parentName:"li"},"how")," certain properties can change declaratively."),m.a.createElement(o.MDXTag,{name:"li",components:a,parentName:"ul"},"Assignments can be stacked, and will run sequentially:")),m.a.createElement("div",{className:"gatsby-highlight","data-language":"js"},m.a.createElement("pre",{className:"language-js"},m.a.createElement("code",{className:"language-js"},m.a.createElement("span",{className:"token comment"},"// ..."),"\n","  ","actions",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"["),"\n","    ",m.a.createElement("span",{className:"token function"},"assign"),m.a.createElement("span",{className:"token punctuation"},"("),m.a.createElement("span",{className:"token punctuation"},"{")," count",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token number"},"3")," ",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},",")," ",m.a.createElement("span",{className:"token comment"},"// ctx.count === 3"),"\n","    ",m.a.createElement("span",{className:"token function"},"assign"),m.a.createElement("span",{className:"token punctuation"},"("),m.a.createElement("span",{className:"token punctuation"},"{")," count",m.a.createElement("span",{className:"token punctuation"},":")," ctx ",m.a.createElement("span",{className:"token operator"},"=>")," ctx",m.a.createElement("span",{className:"token punctuation"},"."),"count ",m.a.createElement("span",{className:"token operator"},"*")," ",m.a.createElement("span",{className:"token number"},"2")," ",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},")")," ",m.a.createElement("span",{className:"token comment"},"// ctx.count === 6"),"\n","  ",m.a.createElement("span",{className:"token punctuation"},"]"),m.a.createElement("span",{className:"token punctuation"},","),"\n",m.a.createElement("span",{className:"token comment"},"// ...")))),m.a.createElement(o.MDXTag,{name:"ul",components:a},m.a.createElement(o.MDXTag,{name:"li",components:a,parentName:"ul"},"Just like with ",m.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"actions"),", it's best to represent ",m.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"assign()")," actions as strings, and then reference them in the machine options:")),m.a.createElement("div",{className:"gatsby-highlight","data-language":"js"},m.a.createElement("pre",{className:"language-js"},m.a.createElement("code",{className:"language-js"},m.a.createElement("span",{className:"token keyword"},"const")," countMachine ",m.a.createElement("span",{className:"token operator"},"=")," ",m.a.createElement("span",{className:"token function"},"Machine"),m.a.createElement("span",{className:"token punctuation"},"("),m.a.createElement("span",{className:"token punctuation"},"{"),"\n","  ","initial",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'start'"),m.a.createElement("span",{className:"token punctuation"},","),"\n","  ","context",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{")," count",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token number"},"0")," ",m.a.createElement("span",{className:"token punctuation"},"}"),"\n","  ","states",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","    ","start",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","      ","onEntry",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'increment'"),"\n","    ",m.a.createElement("span",{className:"token punctuation"},"}"),"\n","  ",m.a.createElement("span",{className:"token punctuation"},"}"),"\n",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},",")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","  ","actions",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","    ","increment",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token function"},"assign"),m.a.createElement("span",{className:"token punctuation"},"("),m.a.createElement("span",{className:"token punctuation"},"{")," count",m.a.createElement("span",{className:"token punctuation"},":")," ctx ",m.a.createElement("span",{className:"token operator"},"=>")," ctx",m.a.createElement("span",{className:"token punctuation"},"."),"count ",m.a.createElement("span",{className:"token operator"},"+")," ",m.a.createElement("span",{className:"token number"},"1")," ",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},","),"\n","    ","decrement",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token function"},"assign"),m.a.createElement("span",{className:"token punctuation"},"("),m.a.createElement("span",{className:"token punctuation"},"{")," count",m.a.createElement("span",{className:"token punctuation"},":")," ctx ",m.a.createElement("span",{className:"token operator"},"=>")," ctx",m.a.createElement("span",{className:"token punctuation"},"."),"count ",m.a.createElement("span",{className:"token operator"},"-")," ",m.a.createElement("span",{className:"token number"},"1")," ",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},")"),"\n","  ",m.a.createElement("span",{className:"token punctuation"},"}"),"\n",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},";")))),m.a.createElement(o.MDXTag,{name:"ul",components:a},m.a.createElement(o.MDXTag,{name:"li",components:a,parentName:"ul"},"Ideally, the ",m.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"context")," should be representable as a plain JavaScript object; i.e., it should be serializable as JSON.")))};var p={}}}]);
//# sourceMappingURL=component---src-pages-guides-context-mdx-f22626b58ec103585d17.js.map