{"version":3,"sources":["../../lib/utils.js","../../lib/tracker.js","../../lib/Edge.js","../../lib/Button.js","../../lib/Popover.js","../../lib/StateChartAction.js","../../lib/StateChartGuard.js","../../lib/StateChartNode.js","../../lib/StateChartVisualization.js","../../lib/VizTabs.js","../../lib/InitialEdge.js","../../lib/EventName.js","../../lib/StatePanel.js","../../lib/Notifications.js","../../lib/User.js","../../lib/Loader.js","../../lib/LayoutButton.js","../../lib/examples.js","../../lib/App.js","../../lib/logo.js","../../lib/Header.js","../../lib/EventPanel.js","../../lib/Editor.js","../../lib/CodePanel.js","../../lib/StateChart.js","App.tsx","serviceWorker.ts","index.tsx"],"names":["flatten","array","_a","concat","apply","DELAY_EVENT_REGEX","serializeEdge","edge","cond","toString","replace","source","id","event","target","isHidden","el","rect","getBoundingClientRect","width","height","relative","childRect","parentElement","parentRect","top","right","left","bottom","center","x","y","utils_isBuiltInEvent","eventType","indexOf","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","this","tracker","Tracker","timeout_1","_this","elements","Map","window","addEventListener","cancelAnimationFrame","requestAnimationFrame","updateAll","Array","from","keys","forEach","key","update","get","element","set","listeners","Set","undefined","hidden","data","notify","desc","querySelectorAll","getAttribute","listen","listener","add","__extends","_extendStatics","d","b","setPrototypeOf","__proto__","__","constructor","create","templateObject_1","Popover_templateObject_1","StateChartAction_templateObject_1","templateObject_2","StateChartGuard_templateObject_1","StateChartNode_templateObject_1","StateChartNode_templateObject_2","templateObject_3","templateObject_4","templateObject_5","templateObject_6","templateObject_7","templateObject_8","templateObject_9","templateObject_10","templateObject_11","templateObject_12","templateObject_13","templateObject_14","StateChartVisualization_templateObject_1","VizTabs_templateObject_1","Edge_Edge","_super","Edge","state","eventElement","sourceElement","targetElement","sourceData","props","targetData","eventData","ref","react_default","a","createRef","componentDidMount","eventId","setState","parentData","parent","render","svgRef","svg","sourceRect","eventRect","eventContainerRect","targetRect","eventCenterPt","isSelf","ptFns","transition","internal","push","prevPt","color","Math","min","magic","startPt_1","endSide","endPtX","abs","dx","endPt_1","dy","xDir_1","sign","yDir","pts","reduce","acc","ptFn","circles","slice","path","point","prevPoint","nextPoint","nextDx","nextDy","midpoint1","midpoint2","isHighlighted","preview","createElement","stroke","strokeWidth","fill","markerEnd","react","InitialEdge_extends","InitialEdge_InitialEdge","InitialEdge","r","cx","cy","Component","EventName_EventName","match","isMs","Number","isFinite","__makeTemplateObject","cooked","raw","defineProperty","value","StyledButton","styled_components_browser_esm","button","Popover_makeTemplateObject","StyledPopover","aside","Popover_Popover","children","StateChartAction_makeTemplateObject","StateChartAction_assign","__rest","e","getOwnPropertySymbols","StateChartAction_Code","default_highlight","language","style","monokai","customStyle","margin","StyledStateChartAction","li","StyledStateChartActionText","span","StateChartAction_StateChartAction","action","dataAttrs","type","lib_actions","assignment","title","Fragment","map","invoke","send","sendAction","JSON","stringify","to","log","StateChartGuard_makeTemplateObject","StyledSCGuard","div","StateChartGuard_StateChartGuard","guard","valid","predicate","context","name","StateChartNode_makeTemplateObject","StateChartNode_extends","StyledChildStates","StyledChildStatesToggle","StyledToken","StyledStateNodeHeader","header","StyledStateNode","StyledStateNodeState","StyledStateNodeEvents","StyledStateNodeActions","ul","StyledEventDot","StyledEventButtonLabel","label","StyledEventButton","StyledEvent","StyledActiveAnim","StateChartNode_StateChartNode","StateChartNode","toggled","stateRef","componentDidUpdate","stateNode","current","onEvent","onPreEvent","onExitPreEvent","onReset","isActive","matches","join","isPreview","dataType","data-key","data-type","data-active","data-preview","data-open","data-id","transitionCount","--level","level","--depth","data-variant","onClick","onEntry","onExit","stateActions","definition","actionString","data-action-type","data-title","invocation","states","childStateNode","toggledStates","onSelectServiceId","stopPropagation","graph","depth","ownEvent","isBuiltInEvent","disabled","nextEvents","delay","getEventDelay","delayExpr","machine","options","delays","isTransient","--delay","data-disabled","data-internal","onMouseOver","onMouseOut","data-delay","data-builtin","data-transient","actions","StateChartVisualization_makeTemplateObject","StateChartVisualization_assign","StyledVisualization","StateChartVisualization_StateChartVisualization","edges","service","visible","onSelectService","_b","setTransitionCount","_c","lib","_d","useState","previewEvent","useRef","err","console","error","position","--color","overflow","pointerEvents","markerWidth","markerHeight","refX","refY","markerUnits","orient","initialStateNodes","stateKeys","initialStateNode","nextState","serviceId","VizTabs_makeTemplateObject","StyledStateChartContainer","section","VizTabs_StateChartContainer","StatePanel_makeTemplateObject","StatePanel_assign","StyledField","StatePanel_templateObject_1","Field","opacity","data-empty","StatePanel_templateObject_2","StatePanel_templateObject_3","Notifications_templateObject_1","Notifications_templateObject_2","Notifications_templateObject_3","Notifications_templateObject_4","User_templateObject_1","User_templateObject_2","User_templateObject_3","User_templateObject_4","Loader_templateObject_1","LayoutButton_templateObject_1","StyledDetails","details","StyledPanelAction","StatePanel_StatePanel","StatePanel","simplifiedState","open","values","child","Notifications_makeTemplateObject","notificationsMachine","Machine","notifications","initial","inactive","active","entry","on","NOTIFICATION.DISMISS","es_actions","ctx","immer_module","draft","splice","index","NOTIFICATIONS.QUEUE","unshift","StyledNotificationDismissButton","StyledNotification","StyledNotifications","StyledNotificationDescription","Notifications_Notifications","notifier","setCurrent","subscribe","notification","data-severity","severity","--timeout","--index","notificationsActor","message","description","User_makeTemplateObject","StyledUserName","StyledUserDetails","StyledUser","StyledImg","img","User_User","AppContext","user","data-state","toStrings","auth","login","src","avatar_url","as","examples","Loader_makeTemplateObject","StyledLoader","Loader_Loader","LayoutButton_makeTemplateObject","StyledLayoutButton","LayoutButton_LayoutButton","App_makeTemplateObject","App_assign","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","result","done","then","__generator","body","f","g","_","sent","trys","ops","verb","throw","return","Symbol","iterator","v","op","TypeError","pop","StyledHeader","App_templateObject_1","StyledApp","main","App_templateObject_2","StyledLogo","className","version","xmlnsXlink","viewBox","xmlSpace","points","App_templateObject_3","StyledLink","App_templateObject_4","StyledLinks","nav","App_templateObject_5","updateQuery","query","history","fullQuery","query_string_default","parse","location","search","replaceState","authActor","code","_code","l","createAuthActor","authCallback","App_query","appMachine","token","gist","cb","checkingCode","","authorizing","fetch","encodeURI","href","response","ok","Error","json","onDone","access_token","onError","alert","gettingUser","headers","Authorization","authorized","idle","default","patched","after","1000","posted","patching","method","public","files","machine.js","content","bind","posting","GIST.SAVE","toMachine","owner","LOGOUT","unauthorized","LOGIN","pendingAuthorization","CODE","AUTH.CANCEL","AUTH_TIMEOUT","checking","fetching","gistQuery","gistMatch","parseGist","Accept","loaded","initialState","layoutReducer","notificationsService","interpreter","start","toJSON","Header","EventPanel_makeTemplateObject","EventPanel_templateObject_1","EventPanel_templateObject_2","EventPanel_templateObject_3","EventPanel_templateObject_4","EventPanel_templateObject_5","EventPanel_templateObject_6","EventPanel_templateObject_7","Editor_templateObject_1","Editor_templateObject_2","StyledEventPanelEvents","StyledEventPanelEvent","StyledEventPanel","StyledEventPanelButtons","StyledEventPanelButton","StyledEventPanelEditor","StyledTime","time","sendEventContext","eventCode","sendEventMachine","UPDATE","AUTOFILL","SEND","EventPanel_EventPanel","records","execute","sendEventService","editorRef","eventsRef","moveCursor","moveCursorTo","navigateLineEnd","focus","scrollTop","scrollHeight","sendToService","eventOrJSON","pastEventCode","isBuiltIn","date_fns","filter","getNextEvents","nextEvent","react_ace_lib_default","editor","mode","theme","editorProps","$blockScrolling","onChange","setOptions","tabSize","fontSize","showGutter","readOnly","cursorStart","data-size","Editor_makeTemplateObject","StyledEditor","StyledButtons","Editor_Editor","setCode","onSave","changeText","isSaving","wrapEnabled","CodePanel_CodePanel","StateChart_makeTemplateObject","StateChart_extends","StyledViewTab","StateChart_templateObject_1","StyledViewTabs","StateChart_templateObject_2","StyledSidebar","StateChart_templateObject_3","StyledStateChart","StateChart_templateObject_4","createMachine","Function","machines","config","es","StateChart_StateChart","StateChart","view","onTransition","handleTransition","events","formattedEvent","Date","now","prevProps","updateMachine","renderView","reset","stop","background","App","layout","embed","dispatchLayout","data-layout","data-embed","Provider","full","viz","Boolean","hostname","queryString","opener","setTimeout","close","ReactDOM","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.2b5d9a5b.chunk.js","sourcesContent":["export function isChildOf(childState, parentState) {\n  var marker = childState;\n\n  while (marker.parent && marker.parent !== parentState) {\n    marker = marker.parent;\n  }\n\n  return marker === parentState;\n}\nexport function flatten(array) {\n  var _a;\n\n  return (_a = []).concat.apply(_a, array);\n}\nexport function transitions(stateNode) {\n  return flatten(stateNode.ownEvents.map(function (event) {\n    return stateNode.definition.on[event];\n  }));\n}\nexport function condToString(cond) {\n  return cond.type; // if (typeof cond === \"function\") {\n  //   return cond.toString();\n  //   // return cond\n  //   //   .toString()\n  //   //   .replace(/\\n/g, \"\")\n  //   //   .match(/\\{(.*)\\}/)![1]\n  //   //   .trim();\n  // }\n  // return cond;\n}\nexport var DELAY_EVENT_REGEX = /^xstate\\.after\\((.+)\\)#/;\nexport function getEventDelay(event) {\n  var match = event.match(DELAY_EVENT_REGEX);\n\n  if (match) {\n    return Number.isFinite(+match[1]) ? +match[1] : match[1];\n  }\n\n  return false;\n}\nexport function serializeEdge(edge) {\n  var cond = edge.cond ? \"[\" + edge.cond.toString().replace(/\\n/g, '') + \"]\" : '';\n  return edge.source.id + \":\" + edge.event + cond + \"->\" + edge.target.id;\n}\nexport function isHidden(el) {\n  if (!el) {\n    return true;\n  }\n\n  var rect = el.getBoundingClientRect();\n\n  if (rect.width === 0 && rect.height === 0) {\n    return true;\n  }\n\n  return false;\n}\nexport function relative(childRect, parentElement) {\n  var parentRect = parentElement.getBoundingClientRect();\n  return {\n    top: childRect.top - parentRect.top,\n    right: childRect.right - parentRect.left,\n    bottom: childRect.bottom - parentRect.top,\n    left: childRect.left - parentRect.left,\n    width: childRect.width,\n    height: childRect.height\n  };\n}\nexport function initialStateNodes(stateNode) {\n  var stateKeys = Object.keys(stateNode.states);\n  return stateNode.initialStateNodes.concat(flatten(stateKeys.map(function (key) {\n    var childStateNode = stateNode.states[key];\n\n    if (childStateNode.type === 'compound' || childStateNode.type === 'parallel') {\n      return initialStateNodes(stateNode.states[key]);\n    }\n\n    return [];\n  })));\n}\nexport function stateActions(stateNode) {\n  return stateNode.onEntry.concat(stateNode.onExit);\n}\nexport function center(rect) {\n  return {\n    x: rect.left + rect.width / 2,\n    y: rect.top + rect.height / 2\n  };\n}\nexport function isBuiltInEvent(eventType) {\n  return eventType.indexOf('xstate.') === 0 || eventType.indexOf('done.') === 0 || eventType === '';\n}","var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { isHidden } from './utils';\n\nvar Tracker =\n/** @class */\nfunction () {\n  function Tracker() {\n    var _this = this;\n\n    this.elements = new Map();\n\n    if (typeof window !== 'undefined') {\n      var timeout_1;\n      window.addEventListener('resize', function () {\n        if (timeout_1) {\n          cancelAnimationFrame(timeout_1);\n        }\n\n        timeout_1 = requestAnimationFrame(function () {\n          _this.updateAll();\n        });\n      });\n    }\n  }\n\n  Tracker.prototype.updateAll = function () {\n    var _this = this;\n\n    Array.from(this.elements.keys()).forEach(function (key) {\n      _this.update(key, _this.elements.get(key).element);\n    });\n  };\n\n  Tracker.prototype.update = function (id, element) {\n    var _this = this;\n\n    if (!this.elements.get(id)) {\n      this.elements.set(id, {\n        listeners: new Set(),\n        element: element || undefined,\n        rect: element ? element.getBoundingClientRect() : undefined,\n        hidden: isHidden(element)\n      });\n    }\n\n    var data = __assign({}, this.elements.get(id), {\n      element: element || undefined,\n      rect: element ? element.getBoundingClientRect() : undefined,\n      hidden: isHidden(element)\n    });\n\n    this.notify(data);\n\n    if (element) {\n      var desc = element.querySelectorAll(\"[data-id]\");\n      Array.from(desc).forEach(function (el) {\n        var id = el.getAttribute(\"data-id\");\n\n        _this.update(id, el);\n      });\n    }\n  };\n\n  Tracker.prototype.listen = function (id, listener) {\n    if (!this.elements.get(id)) {\n      this.elements.set(id, {\n        listeners: new Set(),\n        element: undefined,\n        rect: undefined,\n        hidden: true\n      });\n    }\n\n    var data = this.elements.get(id);\n    data.listeners.add(listener);\n    this.notify(data);\n  };\n\n  Tracker.prototype.get = function (id) {\n    if (this.elements.get(id)) {\n      return this.elements.get(id);\n    }\n\n    return undefined;\n  };\n\n  Tracker.prototype.notify = function (data) {\n    data.listeners.forEach(function (listener) {\n      listener(data);\n    });\n  };\n\n  return Tracker;\n}();\n\nvar tracker = new Tracker();\nexport { tracker };","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport React, { Component } from 'react';\nimport { serializeEdge, isHidden, relative, center } from './utils';\nimport { tracker } from './tracker';\n\nfunction maybeGet(value, getter) {\n  return value ? getter(value) : undefined;\n}\n\nvar Edge =\n/** @class */\nfunction (_super) {\n  __extends(Edge, _super);\n\n  function Edge() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      eventElement: null,\n      sourceElement: null,\n      targetElement: null,\n      sourceData: tracker.get(_this.props.edge.source.id),\n      targetData: tracker.get(_this.props.edge.target.id),\n      eventData: tracker.get(serializeEdge(_this.props.edge))\n    };\n    _this.ref = React.createRef();\n    return _this;\n  }\n\n  Edge.prototype.componentDidMount = function () {\n    var _this = this;\n\n    var edge = this.props.edge;\n    var eventId = serializeEdge(edge);\n    tracker.listen(eventId, function (data) {\n      _this.setState({\n        eventData: data\n      });\n    });\n    tracker.listen(edge.source.id, function (data) {\n      _this.setState({\n        sourceData: data\n      });\n    });\n    tracker.listen(edge.target.id, function (data) {\n      var target = edge.target;\n      var parentData = data;\n\n      while (isHidden(parentData.element)) {\n        if (!target.parent) {\n          break;\n        }\n\n        target = target.parent;\n        parentData = tracker.get(target.id);\n\n        if (!parentData) {\n          break;\n        }\n      }\n\n      _this.setState({\n        targetData: parentData || undefined\n      });\n    });\n  };\n\n  Edge.prototype.render = function () {\n    var edge = this.props.edge;\n    var _a = this.state,\n        sourceData = _a.sourceData,\n        eventData = _a.eventData,\n        targetData = _a.targetData;\n\n    if (!sourceData || sourceData.hidden || !eventData || eventData.hidden || !targetData || targetData.hidden) {\n      return null;\n    }\n\n    var strokeWidth = 2;\n    var svgRef = this.props.svg;\n    var sourceRect = relative(this.state.sourceData.rect, svgRef);\n    var eventRect = relative(this.state.eventData.rect, svgRef);\n    var eventContainerRect = relative(this.state.eventData.element.parentElement.getBoundingClientRect(), svgRef);\n    var targetRect = relative(this.state.targetData.rect, svgRef);\n    var magic = 10;\n    var borderOffset = 5;\n    var eventCenterPt = center(eventRect);\n    var targetCenterPt = center(targetRect);\n    var isSelf = edge.source === edge.target;\n    var isInternal = edge.transition.internal;\n    var ptFns = [];\n\n    if (isInternal) {\n      ptFns.push(function () {\n        return {\n          x: eventRect.left,\n          y: eventCenterPt.y\n        };\n      });\n      ptFns.push(function (prevPt) {\n        return {\n          x: sourceRect.right,\n          y: prevPt.y\n        };\n      });\n\n      if (!isSelf) {\n        ptFns.push(function (prevPt) {\n          return {\n            x: targetRect.right,\n            y: prevPt.y,\n            color: 'green'\n          };\n        }, function () {\n          return {\n            x: targetRect.right - magic,\n            y: targetRect.top - magic\n          };\n        }, function (prevPt) {\n          return {\n            x: prevPt.x,\n            y: targetRect.top\n          };\n        });\n      } else {\n        ptFns.push(function (prevPt) {\n          if (prevPt.y > sourceRect.bottom) {\n            return {\n              x: targetRect.right - magic,\n              y: sourceRect.bottom\n            };\n          } else {\n            return {\n              x: targetRect.right,\n              y: prevPt.y\n            };\n          }\n        });\n      }\n    } else if (isSelf) {\n      ptFns.push(function () {\n        return {\n          x: sourceRect.right,\n          y: Math.min(eventCenterPt.y, sourceRect.bottom)\n        };\n      }, function (prevPt) {\n        return {\n          x: eventRect.left,\n          y: eventCenterPt.y\n        };\n      }, function (prevPt) {\n        return {\n          x: eventRect.right,\n          y: eventCenterPt.y\n        };\n      }, function (prevPt) {\n        return {\n          x: eventRect.right + magic,\n          y: eventRect.bottom\n        };\n      }, function (prevPt) {\n        return {\n          x: eventRect.right + magic * 2,\n          y: eventCenterPt.y\n        };\n      }, function (prevPt) {\n        return {\n          x: eventRect.right + magic,\n          y: eventRect.top\n        };\n      }, function (prevPt) {\n        return {\n          x: eventRect.right,\n          y: eventCenterPt.y\n        };\n      });\n    } else {\n      // go through event label\n      ptFns.push(function () {\n        return {\n          x: sourceRect.right,\n          y: Math.min(eventCenterPt.y, sourceRect.bottom)\n        };\n      }, function () {\n        return {\n          x: eventRect.left,\n          y: eventCenterPt.y\n        };\n      }, function () {\n        return {\n          x: eventRect.left,\n          y: eventCenterPt.y\n        };\n      }, function () {\n        return {\n          x: eventRect.right,\n          y: eventCenterPt.y\n        };\n      });\n      var startPt_1 = {\n        x: eventRect.right + magic,\n        y: eventCenterPt.y\n      };\n      var endSide = void 0;\n      var endPtX = startPt_1.x < targetRect.right && startPt_1.x > targetRect.left ? startPt_1.x : Math.abs(eventRect.right - targetRect.left) < Math.abs(eventRect.right - targetRect.right) ? targetRect.left : targetRect.right;\n      var dx = endPtX - startPt_1.x;\n      var endPt_1 = {\n        x: endPtX,\n        y: dx < 0 ? targetRect.top : startPt_1.y < targetRect.bottom && startPt_1.y > targetRect.top ? startPt_1.y : Math.abs(eventContainerRect.bottom - targetRect.top) < Math.abs(eventContainerRect.bottom - targetRect.bottom) ? targetRect.top : targetRect.bottom\n      };\n      var dy = endPt_1.y - startPt_1.y;\n\n      if (endPt_1.y === targetRect.top) {\n        endPt_1.y -= borderOffset;\n        endSide = 'top';\n\n        if (endPt_1.x === targetRect.right) {\n          endPt_1.x -= magic;\n        } else if (endPt_1.x === targetRect.left) {\n          endPt_1.x += magic;\n        }\n      } else if (endPt_1.y === targetRect.bottom) {\n        endPt_1.y += borderOffset;\n        endSide = 'bottom';\n\n        if (endPt_1.x === targetRect.right) {\n          endPt_1.x -= magic;\n        } else if (endPt_1.x === targetRect.left) {\n          endPt_1.x += magic;\n        }\n      } else {\n        if (endPt_1.x === targetRect.right) {\n          endPt_1.y = targetRect.top;\n          endSide = 'top';\n        } else {\n          endPt_1.x -= borderOffset;\n          endSide = 'left';\n        }\n      }\n\n      var slope = dy / dx;\n      var xDir_1 = Math.sign(dx);\n      var yDir = Math.sign(dy);\n      ptFns.push(function () {\n        return startPt_1;\n      });\n\n      if (xDir_1 === -1) {\n        if (yDir === -1) {\n          ptFns.push(function (prevPt) {\n            return {\n              x: prevPt.x,\n              y: Math.min(sourceRect.top - magic, targetRect.top - magic)\n            };\n          });\n        } else {\n          // ptFns.push(prevPt => ({\n          //   x: prevPt.x,\n          //   y: Math.max(\n          //     startPt.y + magic,\n          //     sourceRect.bottom,\n          //     eventContainerRect.bottom\n          //   )\n          // }));\n          if (sourceRect.bottom > startPt_1.y + magic) {\n            ptFns.push(function (prevPt) {\n              return {\n                x: prevPt.x,\n                y: Math.min(sourceRect.bottom + magic, endPt_1.y - magic)\n              };\n            });\n            ptFns.push(function (prevPt) {\n              return {\n                x: prevPt.x + magic * xDir_1,\n                y: prevPt.y\n              };\n            });\n          } else {\n            ptFns.push(function (prevPt) {\n              return {\n                x: prevPt.x,\n                y: Math.min(eventContainerRect.bottom + magic, endPt_1.y - magic)\n              };\n            });\n          }\n        }\n      }\n\n      if (endSide === 'top') {\n        ptFns.push(function () {\n          return {\n            x: endPt_1.x,\n            y: endPt_1.y - magic\n          };\n        });\n      } else if (endSide === 'bottom') {\n        ptFns.push(function () {\n          return {\n            x: endPt_1.x,\n            y: endPt_1.y + magic\n          };\n        });\n      }\n\n      ptFns.push(function () {\n        return endPt_1;\n      }, function () {\n        return endPt_1;\n      });\n    }\n\n    var pts = ptFns.reduce(function (acc, ptFn, i) {\n      acc.push(ptFn(acc[i - 1] || acc[0]));\n      return acc;\n    }, []);\n    var circles = pts.slice();\n    var path = pts.reduce(function (acc, point, i) {\n      if (i === 0) {\n        return \"M \" + point.x + \",\" + point.y;\n      }\n\n      if (i === pts.length - 1) {\n        return acc;\n      }\n\n      var prevPoint = pts[i - 1];\n      var nextPoint = pts[i + 1];\n      var dx = point.x - prevPoint.x;\n      var dy = point.y - prevPoint.y;\n      var nextDx = nextPoint.x - point.x;\n      var nextDy = nextPoint.y - point.y;\n      var midpoint1 = {\n        x: prevPoint.x + dx / 2,\n        y: prevPoint.y + dy / 2\n      };\n      var midpoint2 = {\n        x: point.x + nextDx / 2,\n        y: point.y + nextDy / 2\n      };\n      circles.push(midpoint1, midpoint2);\n      return (// acc + `L ${midpoint1.x},${midpoint1.y} L ${midpoint2.x},${midpoint2.y}`\n        acc + (\"L \" + midpoint1.x + \",\" + midpoint1.y + \" Q \" + point.x + \",\" + point.y + \" \" + midpoint2.x + \",\" + midpoint2.y + \" \")\n      );\n    }, '');\n    var isHighlighted = this.props.preview;\n    return React.createElement(\"g\", null, React.createElement(\"path\", {\n      d: path,\n      stroke: isHighlighted ? 'var(--color-edge-active)' : 'var(--color-edge)',\n      strokeWidth: strokeWidth,\n      fill: \"none\",\n      markerEnd: isHighlighted ? \"url(#marker-preview)\" : \"url(#marker)\",\n      ref: this.ref\n    }), process.env.NODE_ENV === 'development' ? circles.map(function (circle, i) {\n      var fill = i > pts.length ? 'red' : 'blue';\n      return React.createElement(\"circle\", {\n        cx: circle.x,\n        cy: circle.y,\n        r: i > pts.length ? 0.5 : 1,\n        fill: circle.color || fill\n      }, React.createElement(\"text\", null, i));\n    }) : null);\n  };\n\n  return Edge;\n}(Component);\n\nexport { Edge };","var __makeTemplateObject = this && this.__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nimport styled from 'styled-components';\nexport var StyledButton = styled.button(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  appearance: none;\\n  background: transparent;\\n  color: white;\\n  height: 2rem;\\n  border-radius: 0.25rem;\\n  border: none;\\n  font-weight: bold;\\n  cursor: pointer;\\n  transition: all 0.3s ease-in-out;\\n  flex-shrink: 0;\\n  text-transform: uppercase;\\n  letter-spacing: 1px;\\n\\n  &:hover {\\n    background: white;\\n  }\\n\\n  &:focus {\\n    outline: none;\\n  }\\n\\n  &[data-variant='primary'] {\\n    background: white;\\n    color: #111;\\n    border-radius: 2px;\\n    border: none;\\n  }\\n\\n  &[data-variant='secondary'] {\\n    background: #656565;\\n    border-radius: 2px;\\n    border: none;\\n  }\\n\\n  &[data-variant='link'] {\\n    background: transparent;\\n    color: var(--color-link);\\n    letter-spacing: 0;\\n    height: auto;\\n    padding: 0;\\n    margin-left: 0.5rem;\\n  }\\n\\n  &[data-size='full'] {\\n    width: 100%;\\n  }\\n\\n  &:disabled {\\n    opacity: 0.5;\\n    cursor: not-allowed;\\n  }\\n\"], [\"\\n  appearance: none;\\n  background: transparent;\\n  color: white;\\n  height: 2rem;\\n  border-radius: 0.25rem;\\n  border: none;\\n  font-weight: bold;\\n  cursor: pointer;\\n  transition: all 0.3s ease-in-out;\\n  flex-shrink: 0;\\n  text-transform: uppercase;\\n  letter-spacing: 1px;\\n\\n  &:hover {\\n    background: white;\\n  }\\n\\n  &:focus {\\n    outline: none;\\n  }\\n\\n  &[data-variant='primary'] {\\n    background: white;\\n    color: #111;\\n    border-radius: 2px;\\n    border: none;\\n  }\\n\\n  &[data-variant='secondary'] {\\n    background: #656565;\\n    border-radius: 2px;\\n    border: none;\\n  }\\n\\n  &[data-variant='link'] {\\n    background: transparent;\\n    color: var(--color-link);\\n    letter-spacing: 0;\\n    height: auto;\\n    padding: 0;\\n    margin-left: 0.5rem;\\n  }\\n\\n  &[data-size='full'] {\\n    width: 100%;\\n  }\\n\\n  &:disabled {\\n    opacity: 0.5;\\n    cursor: not-allowed;\\n  }\\n\"])));\nvar templateObject_1;","var __makeTemplateObject = this && this.__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nimport styled from 'styled-components';\nimport React from 'react';\nexport var StyledPopover = styled.aside(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  position: absolute;\\n  bottom: 100%;\\n  left: 0;\\n  background: black;\\n  color: white;\\n  border-radius: var(--radius);\\n  pointer-events: none;\\n  opacity: 0;\\n\"], [\"\\n  position: absolute;\\n  bottom: 100%;\\n  left: 0;\\n  background: black;\\n  color: white;\\n  border-radius: var(--radius);\\n  pointer-events: none;\\n  opacity: 0;\\n\"])));\nexport var Popover = function Popover(_a) {\n  var children = _a.children;\n  return React.createElement(StyledPopover, null, children);\n};\nvar templateObject_1;","var __makeTemplateObject = this && this.__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React from 'react';\nimport { actionTypes } from 'xstate/lib/actions';\nimport styled from 'styled-components';\nimport { Popover, StyledPopover } from './Popover';\nimport SyntaxHighlighter from 'react-syntax-highlighter'; // @ts-ignore\n\nimport { monokai } from 'react-syntax-highlighter/dist/esm/styles/hljs';\n\nvar Code = function Code(_a) {\n  var children = _a.children;\n  return React.createElement(SyntaxHighlighter, {\n    language: \"ts\",\n    style: monokai,\n    customStyle: {\n      margin: 0\n    }\n  }, children);\n};\n\nvar StyledStateChartAction = styled.li(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: flex-start;\\n  align-items: baseline;\\n  max-width: 30ch;\\n  padding: 0 0.25rem;\\n  line-height: 1rem;\\n\\n  &:hover > \", \" {\\n    opacity: 1;\\n  }\\n\\n  &:before {\\n    font-weight: bold;\\n    color: var(--color-gray);\\n    margin-right: 0.25rem;\\n    font-size: 75%;\\n    content: attr(data-action-type) ' /';\\n    white-space: nowrap;\\n  }\\n\"], [\"\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: flex-start;\\n  align-items: baseline;\\n  max-width: 30ch;\\n  padding: 0 0.25rem;\\n  line-height: 1rem;\\n\\n  &:hover > \", \" {\\n    opacity: 1;\\n  }\\n\\n  &:before {\\n    font-weight: bold;\\n    color: var(--color-gray);\\n    margin-right: 0.25rem;\\n    font-size: 75%;\\n    content: attr(data-action-type) ' /';\\n    white-space: nowrap;\\n  }\\n\"])), StyledPopover);\nvar StyledStateChartActionText = styled.span(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  overflow: hidden;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n\"], [\"\\n  overflow: hidden;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n\"])));\nexport var StateChartAction = function StateChartAction(_a) {\n  var action = _a.action,\n      dataAttrs = __rest(_a, [\"action\"]);\n\n  switch (action.type) {\n    case actionTypes.assign:\n      return typeof action.assignment === 'function' ? React.createElement(StyledStateChartAction, __assign({}, dataAttrs, {\n        title: \"assign\"\n      }), React.createElement(\"strong\", null, \"assign\")) : React.createElement(React.Fragment, null, Object.keys(action.assignment).map(function (key) {\n        return React.createElement(StyledStateChartAction, __assign({\n          key: key,\n          title: \"assign \" + key\n        }, dataAttrs), React.createElement(Popover, null, React.createElement(Code, null, action.assignment[key].toString())), React.createElement(StyledStateChartActionText, null, React.createElement(\"strong\", null, \"assign\"), \" \", key));\n      }));\n\n    case actionTypes.invoke:\n      return React.createElement(StyledStateChartAction, __assign({}, dataAttrs, {\n        title: \"invoke \" + action.id\n      }), React.createElement(StyledStateChartActionText, null, action.id));\n\n    case actionTypes.send:\n      var sendAction = action;\n\n      if (sendAction.event.type.indexOf('xstate.after') === 0) {\n        return null;\n      }\n\n      return React.createElement(StyledStateChartAction, __assign({}, dataAttrs, {\n        title: \"send \" + sendAction.event.type + \" to \\\"\" + JSON.stringify(sendAction.to) + \"\\\"\"\n      }), React.createElement(StyledStateChartActionText, null, React.createElement(\"em\", null, \"send\"), \" \", sendAction.event.type, ' ', sendAction.to ? \"to \" + JSON.stringify(sendAction.to) : ''));\n\n    case actionTypes.log:\n      return React.createElement(StyledStateChartAction, __assign({}, dataAttrs, {\n        title: \"log\"\n      }), React.createElement(StyledStateChartActionText, null, React.createElement(\"em\", null, \"log\")));\n\n    default:\n      if (action.type.indexOf('xstate.') === 0 && action.type !== 'xstate.invoke') {\n        return null;\n      }\n\n      return React.createElement(StyledStateChartAction, __assign({}, dataAttrs, {\n        title: action.type\n      }), React.createElement(StyledStateChartActionText, null, action.type));\n  }\n};\nvar templateObject_1, templateObject_2;","var __makeTemplateObject = this && this.__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nimport React from 'react';\nimport styled from 'styled-components';\nvar StyledSCGuard = styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  padding: 0 0.5rem;\\n\"], [\"\\n  padding: 0 0.5rem;\\n\"])));\nexport var StateChartGuard = function StateChartGuard(_a) {\n  var guard = _a.guard,\n      state = _a.state;\n  var valid = guard.predicate && typeof guard.predicate === 'function' ? guard.predicate(state.context, state.event, {\n    cond: guard\n  }) : undefined;\n  return React.createElement(StyledSCGuard, {\n    style: {\n      color: valid === undefined ? 'var(--color-gray)' : valid ? 'var(--color-success)' : 'var(--color-failure)'\n    }\n  }, \"[\", guard.type === 'xstate.guard' ? guard.name : guard.type, \"]\");\n};\nvar templateObject_1;","var __makeTemplateObject = this && this.__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport React from 'react';\nimport styled from 'styled-components';\nimport { serializeEdge, stateActions, getEventDelay } from './utils';\nimport { EventName } from './EventName';\nimport { tracker } from './tracker';\nimport { getEdges } from 'xstate/lib/graph';\nimport { StyledButton } from './Button';\nimport { StateChartAction } from './StateChartAction';\nimport { StateChartGuard } from './StateChartGuard';\nvar StyledChildStates = styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  padding: 1rem;\\n  border-top: 1px solid var(--color-border);\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: wrap;\\n  align-items: flex-start;\\n  min-height: 1rem;\\n\"], [\"\\n  padding: 1rem;\\n  border-top: 1px solid var(--color-border);\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: wrap;\\n  align-items: flex-start;\\n  min-height: 1rem;\\n\"])));\nvar StyledChildStatesToggle = styled.button(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  appearance: none;\\n  display: inline-flex;\\n  height: 1rem;\\n  width: 1rem;\\n  justify-content: center;\\n  align-items: center;\\n  background: transparent;\\n  border: none;\\n  padding: 0;\\n  cursor: pointer;\\n\\n  &:not(:hover) {\\n    opacity: 0.5;\\n  }\\n\\n  &:before {\\n    --dot-size: 3px;\\n    content: '';\\n    display: block;\\n    height: var(--dot-size);\\n    width: var(--dot-size);\\n    border-radius: 50%;\\n    background: var(--toggle-color, gray);\\n    flex-shrink: 0;\\n    box-shadow: calc(-1 * (var(--dot-size) + 1px)) 0 var(--toggle-color, gray),\\n      calc(var(--dot-size) + 1px) 0 var(--toggle-color, gray);\\n  }\\n\\n  &:focus {\\n    outline: none;\\n  }\\n\"], [\"\\n  appearance: none;\\n  display: inline-flex;\\n  height: 1rem;\\n  width: 1rem;\\n  justify-content: center;\\n  align-items: center;\\n  background: transparent;\\n  border: none;\\n  padding: 0;\\n  cursor: pointer;\\n\\n  &:not(:hover) {\\n    opacity: 0.5;\\n  }\\n\\n  &:before {\\n    --dot-size: 3px;\\n    content: '';\\n    display: block;\\n    height: var(--dot-size);\\n    width: var(--dot-size);\\n    border-radius: 50%;\\n    background: var(--toggle-color, gray);\\n    flex-shrink: 0;\\n    box-shadow: calc(-1 * (var(--dot-size) + 1px)) 0 var(--toggle-color, gray),\\n      calc(var(--dot-size) + 1px) 0 var(--toggle-color, gray);\\n  }\\n\\n  &:focus {\\n    outline: none;\\n  }\\n\"])));\nvar StyledToken = styled.div(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  background: var(--color-border);\\n  color: inherit;\\n  font-weight: bold;\\n\"], [\"\\n  background: var(--color-border);\\n  color: inherit;\\n  font-weight: bold;\\n\"])));\nvar StyledStateNodeHeader = styled.header(templateObject_4 || (templateObject_4 = __makeTemplateObject([\"\\n  z-index: 1;\\n  display: flex;\\n  flex-direction: row;\\n  white-space: nowrap;\\n  // position: sticky;\\n  // top: calc(var(--depth, 0) * 1rem);\\n  // background: rgba(255, 255, 255, 0.5);\\n\\n  > * {\\n    padding: 0.25rem;\\n  }\\n\\n  &:before {\\n    display: none;\\n    content: '';\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    height: 100%;\\n    width: 100%;\\n    background: var(--color-app-background);\\n  }\\n\\n  &[data-type-symbol='history' i] {\\n    --symbol-color: orange;\\n  }\\n\\n  &[data-type-symbol] {\\n    padding-right: 5em;\\n\\n    &:after {\\n      content: attr(data-type-symbol);\\n      position: absolute;\\n      top: 0;\\n      right: 0;\\n      border-bottom-left-radius: 0.25rem;\\n      background: var(--symbol-color, gray);\\n      color: white;\\n      padding: 0.25rem 0.5rem;\\n      font-weight: bold;\\n      font-size: 0.75em;\\n    }\\n  }\\n\"], [\"\\n  z-index: 1;\\n  display: flex;\\n  flex-direction: row;\\n  white-space: nowrap;\\n  // position: sticky;\\n  // top: calc(var(--depth, 0) * 1rem);\\n  // background: rgba(255, 255, 255, 0.5);\\n\\n  > * {\\n    padding: 0.25rem;\\n  }\\n\\n  &:before {\\n    display: none;\\n    content: '';\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    height: 100%;\\n    width: 100%;\\n    background: var(--color-app-background);\\n  }\\n\\n  &[data-type-symbol='history' i] {\\n    --symbol-color: orange;\\n  }\\n\\n  &[data-type-symbol] {\\n    padding-right: 5em;\\n\\n    &:after {\\n      content: attr(data-type-symbol);\\n      position: absolute;\\n      top: 0;\\n      right: 0;\\n      border-bottom-left-radius: 0.25rem;\\n      background: var(--symbol-color, gray);\\n      color: white;\\n      padding: 0.25rem 0.5rem;\\n      font-weight: bold;\\n      font-size: 0.75em;\\n    }\\n  }\\n\"])));\nvar StyledStateNode = styled.div(templateObject_5 || (templateObject_5 = __makeTemplateObject([\"\\n  --color-shadow: rgba(0, 0, 0, 0.05);\\n  --color-node-border: var(--color-border);\\n  --state-event-gap: 0.5rem;\\n  position: relative;\\n  margin: 0.5rem;\\n  flex-grow: 0;\\n  flex-shrink: 1;\\n  // background: rgba(255, 255, 255, 0.5);\\n  color: #313131;\\n  min-height: 1rem;\\n  display: inline-grid;\\n  grid-template-columns: min-content auto;\\n  grid-column-gap: var(--state-event-gap);\\n  border: none;\\n\\n  &[data-type~='machine'] {\\n    display: grid;\\n    border: none;\\n    box-shadow: none;\\n    width: 100%;\\n    background: none;\\n    margin: 2rem 0;\\n    grid-template-columns: auto 1fr;\\n\\n    > \", \" {\\n      left: 1rem;\\n      font-size: 1rem;\\n    }\\n\\n    > ul {\\n      padding-right: 1.5rem;\\n    }\\n  }\\n  &:not([data-type~='machine']) {\\n    // opacity: 0.75;\\n  }\\n\\n  &:not([data-open='true']) \", \" > * {\\n    display: none;\\n  }\\n\\n  \", \" {\\n    position: absolute;\\n    bottom: 0;\\n    right: 0;\\n  }\\n\\n  &[data-type~='machine'] > \", \" {\\n    display: none;\\n  }\\n\\n  &[data-active] {\\n    --color-node-border: var(--color-primary);\\n    --color-shadow: var(--color-primary-shadow);\\n    opacity: 1;\\n\\n    > \", \" {\\n      color: var(--color-primary);\\n    }\\n\\n    > \", \" {\\n      --toggle-color: var(--color-primary);\\n    }\\n  }\\n\\n  &[data-preview]:not([data-active]) {\\n    --color-node-border: var(--color-primary-faded);\\n  }\\n\\n  &[data-type~='parallel'] {\\n    grid-template-columns: auto 1fr;\\n  }\\n\\n  &[data-type~='final'] {\\n    > div:first-child:after {\\n      content: '';\\n      position: absolute;\\n      top: -5px;\\n      left: -5px;\\n      width: calc(100% + 10px);\\n      height: calc(100% + 10px);\\n      border: 2px solid var(--color-node-border);\\n      pointer-events: none;\\n      border-radius: 6px;\\n      z-index: 1;\\n    }\\n  }\\n\\n  &:before {\\n    content: attr(data-key);\\n    color: transparent;\\n    visibility: hidden;\\n    height: 1px;\\n    display: block;\\n  }\\n\\n  &:hover {\\n    z-index: 2;\\n  }\\n\"], [\"\\n  --color-shadow: rgba(0, 0, 0, 0.05);\\n  --color-node-border: var(--color-border);\\n  --state-event-gap: 0.5rem;\\n  position: relative;\\n  margin: 0.5rem;\\n  flex-grow: 0;\\n  flex-shrink: 1;\\n  // background: rgba(255, 255, 255, 0.5);\\n  color: #313131;\\n  min-height: 1rem;\\n  display: inline-grid;\\n  grid-template-columns: min-content auto;\\n  grid-column-gap: var(--state-event-gap);\\n  border: none;\\n\\n  &[data-type~='machine'] {\\n    display: grid;\\n    border: none;\\n    box-shadow: none;\\n    width: 100%;\\n    background: none;\\n    margin: 2rem 0;\\n    grid-template-columns: auto 1fr;\\n\\n    > \", \" {\\n      left: 1rem;\\n      font-size: 1rem;\\n    }\\n\\n    > ul {\\n      padding-right: 1.5rem;\\n    }\\n  }\\n  &:not([data-type~='machine']) {\\n    // opacity: 0.75;\\n  }\\n\\n  &:not([data-open='true']) \", \" > * {\\n    display: none;\\n  }\\n\\n  \", \" {\\n    position: absolute;\\n    bottom: 0;\\n    right: 0;\\n  }\\n\\n  &[data-type~='machine'] > \", \" {\\n    display: none;\\n  }\\n\\n  &[data-active] {\\n    --color-node-border: var(--color-primary);\\n    --color-shadow: var(--color-primary-shadow);\\n    opacity: 1;\\n\\n    > \", \" {\\n      color: var(--color-primary);\\n    }\\n\\n    > \", \" {\\n      --toggle-color: var(--color-primary);\\n    }\\n  }\\n\\n  &[data-preview]:not([data-active]) {\\n    --color-node-border: var(--color-primary-faded);\\n  }\\n\\n  &[data-type~='parallel'] {\\n    grid-template-columns: auto 1fr;\\n  }\\n\\n  &[data-type~='final'] {\\n    > div:first-child:after {\\n      content: '';\\n      position: absolute;\\n      top: -5px;\\n      left: -5px;\\n      width: calc(100% + 10px);\\n      height: calc(100% + 10px);\\n      border: 2px solid var(--color-node-border);\\n      pointer-events: none;\\n      border-radius: 6px;\\n      z-index: 1;\\n    }\\n  }\\n\\n  &:before {\\n    content: attr(data-key);\\n    color: transparent;\\n    visibility: hidden;\\n    height: 1px;\\n    display: block;\\n  }\\n\\n  &:hover {\\n    z-index: 2;\\n  }\\n\"])), StyledStateNodeHeader, StyledChildStates, StyledChildStatesToggle, StyledChildStatesToggle, StyledStateNodeHeader, StyledChildStatesToggle);\nvar StyledStateNodeState = styled.div(templateObject_6 || (templateObject_6 = __makeTemplateObject([\"\\n  grid-column: 1 / 2;\\n  align-self: self-start;\\n  border-radius: 0.25rem;\\n  border: 2px solid var(--color-node-border);\\n  text-align: left;\\n  box-shadow: 0 0.5rem 1rem var(--color-shadow);\\n  color: #313131;\\n  min-height: 1rem;\\n  z-index: 1;\\n  transition: border-color var(--duration) var(--easing);\\n\\n  &[data-type~='parallel'] > \", \" > \", \" > & {\\n    border-style: dashed;\\n  }\\n\"], [\"\\n  grid-column: 1 / 2;\\n  align-self: self-start;\\n  border-radius: 0.25rem;\\n  border: 2px solid var(--color-node-border);\\n  text-align: left;\\n  box-shadow: 0 0.5rem 1rem var(--color-shadow);\\n  color: #313131;\\n  min-height: 1rem;\\n  z-index: 1;\\n  transition: border-color var(--duration) var(--easing);\\n\\n  &[data-type~='parallel'] > \", \" > \", \" > & {\\n    border-style: dashed;\\n  }\\n\"])), StyledChildStates, StyledStateNode);\nvar StyledStateNodeEvents = styled.div(templateObject_7 || (templateObject_7 = __makeTemplateObject([\"\\n  grid-column: 2 / 3;\\n  padding: 0;\\n  margin-right: 1rem;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: flex-start;\\n\\n  &:empty {\\n    display: none;\\n  }\\n\"], [\"\\n  grid-column: 2 / 3;\\n  padding: 0;\\n  margin-right: 1rem;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: flex-start;\\n\\n  &:empty {\\n    display: none;\\n  }\\n\"])));\nexport var StyledStateNodeActions = styled.ul(templateObject_8 || (templateObject_8 = __makeTemplateObject([\"\\n  list-style: none;\\n  padding: 0;\\n  margin: 0;\\n  margin-bottom: 0.5rem;\\n  z-index: 1;\\n\\n  &:empty {\\n    display: none;\\n  }\\n\"], [\"\\n  list-style: none;\\n  padding: 0;\\n  margin: 0;\\n  margin-bottom: 0.5rem;\\n  z-index: 1;\\n\\n  &:empty {\\n    display: none;\\n  }\\n\"])));\nvar StyledEventDot = styled.div(templateObject_9 || (templateObject_9 = __makeTemplateObject([\"\\n  --size: 0.5rem;\\n  position: relative;\\n  display: inline-block;\\n  height: var(--size);\\n  width: var(--size);\\n  border-radius: 50%;\\n  background-color: white;\\n\\n  &:before {\\n    content: '';\\n    position: absolute;\\n    top: -0.25rem;\\n    right: 0;\\n    width: calc(100% + 0.5rem);\\n    height: calc(100% + 0.5rem);\\n    border-radius: inherit;\\n    background-color: var(--color-event);\\n  }\\n\\n  &:after {\\n    content: '';\\n    position: absolute;\\n    top: 0;\\n    right: 0.25rem;\\n    width: 100%;\\n    height: 100%;\\n    border-radius: inherit;\\n    background-color: white;\\n  }\\n\"], [\"\\n  --size: 0.5rem;\\n  position: relative;\\n  display: inline-block;\\n  height: var(--size);\\n  width: var(--size);\\n  border-radius: 50%;\\n  background-color: white;\\n\\n  &:before {\\n    content: '';\\n    position: absolute;\\n    top: -0.25rem;\\n    right: 0;\\n    width: calc(100% + 0.5rem);\\n    height: calc(100% + 0.5rem);\\n    border-radius: inherit;\\n    background-color: var(--color-event);\\n  }\\n\\n  &:after {\\n    content: '';\\n    position: absolute;\\n    top: 0;\\n    right: 0.25rem;\\n    width: 100%;\\n    height: 100%;\\n    border-radius: inherit;\\n    background-color: white;\\n  }\\n\"])));\nvar StyledEventButtonLabel = styled.label(templateObject_10 || (templateObject_10 = __makeTemplateObject([\"\\n  white-space: nowrap;\\n\"], [\"\\n  white-space: nowrap;\\n\"])));\nvar StyledEventButton = styled.button(templateObject_11 || (templateObject_11 = __makeTemplateObject([\"\\n  --color-event: var(--color-primary);\\n  padding: 0;\\n  position: relative;\\n  appearance: none;\\n  border: 2px solid var(--color-event);\\n  background: white;\\n  color: white;\\n  font-size: 0.75em;\\n  font-weight: bold;\\n  cursor: pointer;\\n  border-radius: 2rem;\\n  line-height: 1;\\n  display: inline-flex;\\n  flex-direction: row;\\n  justify-content: space-between;\\n  align-items: center;\\n  overflow: hidden;\\n\\n  > * {\\n    padding: 0.15rem 0.35rem;\\n  }\\n\\n  > label {\\n    background-color: var(--color-event);\\n    cursor: inherit;\\n    text-align: left;\\n    transition: background var(--duration) var(--easing);\\n\\n    &:empty {\\n      display: none;\\n    }\\n\\n    &:first-child:last-child {\\n      width: 100%;\\n    }\\n  }\\n\\n  &:not(:disabled):not([data-builtin]):hover {\\n    --color-event: var(--color-primary);\\n  }\\n\\n  &:disabled {\\n    cursor: not-allowed;\\n    --color-event: var(--color-disabled);\\n  }\\n\\n  &:focus {\\n    outline: none;\\n  }\\n\\n  // duration\\n  &[data-delay] {\\n    > * {\\n      background: none;\\n    }\\n\\n    &:not([disabled]):before {\\n      content: '';\\n      position: absolute;\\n      top: 0;\\n      left: 0;\\n      width: 100%;\\n      height: 100%;\\n      background-color: var(--color-event);\\n      animation: move-left calc(var(--delay) * 1ms) linear;\\n      z-index: 0;\\n      opacity: 0.5;\\n    }\\n  }\\n\\n  @keyframes move-left {\\n    from {\\n      transform: translateX(-100%);\\n    }\\n    to {\\n      transform: none;\\n    }\\n  }\\n\\n  &[data-builtin] {\\n    color: black;\\n    font-style: italic;\\n  }\\n\\n  &[data-transient] {\\n    > \", \" {\\n      order: -1;\\n    }\\n  }\\n\"], [\"\\n  --color-event: var(--color-primary);\\n  padding: 0;\\n  position: relative;\\n  appearance: none;\\n  border: 2px solid var(--color-event);\\n  background: white;\\n  color: white;\\n  font-size: 0.75em;\\n  font-weight: bold;\\n  cursor: pointer;\\n  border-radius: 2rem;\\n  line-height: 1;\\n  display: inline-flex;\\n  flex-direction: row;\\n  justify-content: space-between;\\n  align-items: center;\\n  overflow: hidden;\\n\\n  > * {\\n    padding: 0.15rem 0.35rem;\\n  }\\n\\n  > label {\\n    background-color: var(--color-event);\\n    cursor: inherit;\\n    text-align: left;\\n    transition: background var(--duration) var(--easing);\\n\\n    &:empty {\\n      display: none;\\n    }\\n\\n    &:first-child:last-child {\\n      width: 100%;\\n    }\\n  }\\n\\n  &:not(:disabled):not([data-builtin]):hover {\\n    --color-event: var(--color-primary);\\n  }\\n\\n  &:disabled {\\n    cursor: not-allowed;\\n    --color-event: var(--color-disabled);\\n  }\\n\\n  &:focus {\\n    outline: none;\\n  }\\n\\n  // duration\\n  &[data-delay] {\\n    > * {\\n      background: none;\\n    }\\n\\n    &:not([disabled]):before {\\n      content: '';\\n      position: absolute;\\n      top: 0;\\n      left: 0;\\n      width: 100%;\\n      height: 100%;\\n      background-color: var(--color-event);\\n      animation: move-left calc(var(--delay) * 1ms) linear;\\n      z-index: 0;\\n      opacity: 0.5;\\n    }\\n  }\\n\\n  @keyframes move-left {\\n    from {\\n      transform: translateX(-100%);\\n    }\\n    to {\\n      transform: none;\\n    }\\n  }\\n\\n  &[data-builtin] {\\n    color: black;\\n    font-style: italic;\\n  }\\n\\n  &[data-transient] {\\n    > \", \" {\\n      order: -1;\\n    }\\n  }\\n\"])), StyledEventDot);\nvar StyledEvent = styled.div(templateObject_12 || (templateObject_12 = __makeTemplateObject([\"\\n  list-style: none;\\n  margin: 0;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: flex-start;\\n  align-items: stretch;\\n\\n  &:not(:last-child) {\\n    margin-bottom: 0.25rem;\\n  }\\n\\n  &[data-disabled] > \", \" {\\n    opacity: 0.7;\\n  }\\n\\n  &[data-internal] {\\n  }\\n\"], [\"\\n  list-style: none;\\n  margin: 0;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: flex-start;\\n  align-items: stretch;\\n\\n  &:not(:last-child) {\\n    margin-bottom: 0.25rem;\\n  }\\n\\n  &[data-disabled] > \", \" {\\n    opacity: 0.7;\\n  }\\n\\n  &[data-internal] {\\n  }\\n\"])), StyledStateNodeActions);\nvar StyledStateNodeAction = styled.div(templateObject_13 || (templateObject_13 = __makeTemplateObject([\"\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  list-style: none;\\n  padding: 0;\\n  margin: 0;\\n\\n  &:before {\\n    content: '\\u2192';\\n    margin-right: 0.5ch;\\n  }\\n\"], [\"\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  list-style: none;\\n  padding: 0;\\n  margin: 0;\\n\\n  &:before {\\n    content: '\\u2192';\\n    margin-right: 0.5ch;\\n  }\\n\"])));\nvar StyledActiveAnim = styled.div(templateObject_14 || (templateObject_14 = __makeTemplateObject([\"\\n  position: absolute;\\n  z-index: 0;\\n  height: 100%;\\n  width: 100%;\\n  top: 0;\\n  left: 0;\\n  animation: bg 1s both;\\n  background: var(--color-primary);\\n  will-change: opacity;\\n\\n  @keyframes bg {\\n    from {\\n      opacity: 0.5;\\n    }\\n    to {\\n      opacity: 0;\\n    }\\n  }\\n\"], [\"\\n  position: absolute;\\n  z-index: 0;\\n  height: 100%;\\n  width: 100%;\\n  top: 0;\\n  left: 0;\\n  animation: bg 1s both;\\n  background: var(--color-primary);\\n  will-change: opacity;\\n\\n  @keyframes bg {\\n    from {\\n      opacity: 0.5;\\n    }\\n    to {\\n      opacity: 0;\\n    }\\n  }\\n\"])));\n\nvar StateChartNode =\n/** @class */\nfunction (_super) {\n  __extends(StateChartNode, _super);\n\n  function StateChartNode() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      toggled: true\n    };\n    _this.stateRef = React.createRef();\n    return _this;\n  }\n\n  StateChartNode.prototype.componentDidUpdate = function () {\n    tracker.update(this.props.stateNode.id, this.stateRef.current);\n  };\n\n  StateChartNode.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        stateNode = _a.stateNode,\n        current = _a.current,\n        preview = _a.preview,\n        onEvent = _a.onEvent,\n        onPreEvent = _a.onPreEvent,\n        onExitPreEvent = _a.onExitPreEvent,\n        onReset = _a.onReset;\n    var isActive = !stateNode.parent || current.matches(stateNode.path.join('.')) || undefined;\n    var isPreview = preview ? preview.matches(stateNode.path.join('.')) || undefined : undefined;\n    var dataType = stateNode.parent ? stateNode.type : \"machine \" + stateNode.type;\n    return React.createElement(StyledStateNode, {\n      key: stateNode.id,\n      \"data-key\": stateNode.key,\n      \"data-type\": dataType,\n      \"data-active\": isActive && stateNode.parent,\n      \"data-preview\": isPreview && stateNode.parent,\n      \"data-open\": this.state.toggled || undefined,\n      ref: this.stateRef\n    }, React.createElement(StyledStateNodeState, {\n      \"data-id\": stateNode.id,\n      \"data-type\": dataType\n    }, isActive && (dataType === 'atomic' || dataType === 'final') && React.createElement(StyledActiveAnim, {\n      key: this.props.transitionCount,\n      style: {\n        // @ts-ignore\n        '--level': this.props.level\n      }\n    }), React.createElement(StyledStateNodeHeader, {\n      style: {\n        // @ts-ignore\n        '--depth': stateNode.path.length\n      }\n    }, dataType === 'history' && React.createElement(StyledToken, null, \"H\"), React.createElement(\"strong\", {\n      title: \"#\" + stateNode.id\n    }, stateNode.key), stateNode.path.length === 0 ? React.createElement(StyledButton, {\n      \"data-variant\": \"link\",\n      onClick: onReset ? function () {\n        return onReset();\n      } : undefined,\n      title: \"Reset machine to its initial state\"\n    }, \"Reset\") : null), !!stateActions(stateNode).length && React.createElement(React.Fragment, null, React.createElement(StyledStateNodeActions, null, stateNode.definition.onEntry.map(function (action) {\n      var actionString = action.type;\n      return React.createElement(StateChartAction, {\n        key: actionString,\n        \"data-action-type\": \"entry\",\n        action: action\n      });\n    })), React.createElement(StyledStateNodeActions, null, stateNode.definition.onExit.map(function (action) {\n      var actionString = action.type;\n      return React.createElement(StateChartAction, {\n        key: actionString,\n        \"data-action-type\": \"exit\",\n        action: action\n      });\n    }))), React.createElement(StyledStateNodeActions, {\n      \"data-title\": \"invoke\"\n    }, stateNode.invoke.map(function (invocation) {\n      return React.createElement(StateChartAction, {\n        key: invocation.id,\n        \"data-action-type\": \"invoke\",\n        action: invocation\n      }, invocation.id);\n    })), Object.keys(stateNode.states).length ? React.createElement(StyledChildStates, null, Object.keys(stateNode.states || []).map(function (key) {\n      var childStateNode = stateNode.states[key];\n      return React.createElement(StateChartNode, {\n        stateNode: childStateNode,\n        level: _this.props.level + 1,\n        current: current,\n        preview: preview,\n        key: childStateNode.id,\n        onEvent: onEvent,\n        onPreEvent: onPreEvent,\n        onExitPreEvent: onExitPreEvent,\n        toggledStates: _this.props.toggledStates,\n        onSelectServiceId: _this.props.onSelectServiceId,\n        transitionCount: _this.props.transitionCount\n      });\n    })) : null, Object.keys(stateNode.states).length > 0 ? React.createElement(StyledChildStatesToggle, {\n      title: this.state.toggled ? 'Hide children' : 'Show children',\n      onClick: function onClick(e) {\n        e.stopPropagation();\n\n        _this.setState({\n          toggled: !_this.state.toggled\n        }, function () {\n          tracker.updateAll();\n        });\n      }\n    }) : null), React.createElement(StyledStateNodeEvents, null, getEdges(stateNode, {\n      depth: 0\n    }).map(function (edge) {\n      var ownEvent = edge.event;\n      var isBuiltInEvent = ownEvent.indexOf('xstate.') === 0;\n      var guard = edge.transition.cond;\n      var valid = guard && guard.predicate ? guard.predicate(current.context, current.event, {\n        cond: guard\n      }) : true;\n      var disabled = !valid || !isActive || current.nextEvents.indexOf(ownEvent) === -1; // || (!!edge.cond &&\n      //   typeof edge.cond === 'function' &&\n      //   !edge.cond(current.context, { type: ownEvent }, { cond: undefined, }));\n\n      var delay = isBuiltInEvent ? getEventDelay(ownEvent) : false;\n\n      if (typeof delay === 'string') {\n        var delayExpr = stateNode.machine.options.delays[delay];\n        delay = typeof delayExpr === 'number' ? delayExpr : delayExpr(current.context, current.event);\n      }\n\n      var isTransient = ownEvent === '';\n      return React.createElement(StyledEvent, {\n        style: {\n          //@ts-ignore\n          '--delay': delay || 0\n        },\n        \"data-disabled\": disabled || undefined,\n        key: serializeEdge(edge),\n        \"data-internal\": edge.transition.internal || undefined\n      }, React.createElement(StyledEventButton, {\n        onClick: function onClick() {\n          return !isBuiltInEvent ? onEvent(ownEvent) : undefined;\n        },\n        onMouseOver: function onMouseOver() {\n          return onPreEvent(ownEvent);\n        },\n        onMouseOut: function onMouseOut() {\n          return onExitPreEvent();\n        },\n        disabled: disabled,\n        \"data-delay\": edge.transition.delay,\n        \"data-builtin\": isBuiltInEvent || undefined,\n        \"data-transient\": isTransient || undefined,\n        \"data-id\": serializeEdge(edge),\n        title: ownEvent\n      }, React.createElement(StyledEventButtonLabel, null, React.createElement(EventName, {\n        event: ownEvent\n      })), edge.transition.cond && React.createElement(StateChartGuard, {\n        guard: edge.transition.cond,\n        state: current\n      })), !!(edge.transition.actions.length || edge.transition.cond) && React.createElement(StyledStateNodeActions, null, edge.transition.actions.map(function (action, i) {\n        return React.createElement(StateChartAction, {\n          key: i,\n          action: action,\n          \"data-action-type\": \"do\"\n        });\n      })));\n    })));\n  };\n\n  return StateChartNode;\n}(React.Component);\n\nexport { StateChartNode };\nvar templateObject_1, templateObject_2, templateObject_3, templateObject_4, templateObject_5, templateObject_6, templateObject_7, templateObject_8, templateObject_9, templateObject_10, templateObject_11, templateObject_12, templateObject_13, templateObject_14;","var __makeTemplateObject = this && this.__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { getEdges } from 'xstate/lib/graph';\nimport { serializeEdge, initialStateNodes } from './utils';\nimport { Edge } from './Edge';\nimport { InitialEdge } from './InitialEdge';\nimport { StateChartNode } from './StateChartNode';\nimport { useService } from '@xstate/react';\nvar StyledVisualization = styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  position: relative;\\n  max-height: inherit;\\n  overflow-y: auto;\\n\"], [\"\\n  position: relative;\\n  max-height: inherit;\\n  overflow-y: auto;\\n\"])));\nexport var StateChartVisualization = function StateChartVisualization(_a) {\n  var service = _a.service,\n      visible = _a.visible,\n      onSelectService = _a.onSelectService,\n      onReset = _a.onReset;\n\n  var _b = useState(0),\n      transitionCount = _b[0],\n      setTransitionCount = _b[1];\n\n  var _c = useService(service),\n      current = _c[0],\n      send = _c[1];\n\n  var _d = React.useState({\n    toggledStates: {},\n    previewEvent: undefined,\n    preview: undefined\n  }),\n      state = _d[0],\n      setState = _d[1];\n\n  var svgRef = React.useRef(null);\n  var edges;\n\n  try {\n    edges = getEdges(service.machine);\n  } catch (err) {\n    edges = null;\n    console.error(err);\n  }\n\n  useEffect(function () {\n    setTransitionCount(transitionCount + 1);\n  }, [current]);\n\n  if (!visible || !edges) {\n    return null;\n  }\n\n  return React.createElement(StyledVisualization, null, React.createElement(\"svg\", {\n    width: \"100%\",\n    height: \"100%\",\n    style: {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      // @ts-ignore\n      '--color': 'gray',\n      overflow: 'visible',\n      pointerEvents: 'none'\n    },\n    ref: svgRef,\n    key: JSON.stringify(state.toggledStates)\n  }, React.createElement(\"defs\", null, React.createElement(\"marker\", {\n    id: \"marker\",\n    markerWidth: \"4\",\n    markerHeight: \"4\",\n    refX: \"2\",\n    refY: \"2\",\n    markerUnits: \"strokeWidth\",\n    orient: \"auto\"\n  }, React.createElement(\"path\", {\n    d: \"M0,0 L0,4 L4,2 z\",\n    fill: \"var(--color-edge)\"\n  })), React.createElement(\"marker\", {\n    id: \"marker-preview\",\n    markerWidth: \"4\",\n    markerHeight: \"4\",\n    refX: \"2\",\n    refY: \"2\",\n    markerUnits: \"strokeWidth\",\n    orient: \"auto\"\n  }, React.createElement(\"path\", {\n    d: \"M0,0 L0,4 L4,2 z\",\n    fill: \"var(--color-edge-active)\"\n  }))), edges.map(function (edge) {\n    if (!svgRef.current) {\n      return;\n    } // const svgRect = this.svgRef.current.getBoundingClientRect();\n\n\n    return React.createElement(Edge, {\n      key: serializeEdge(edge),\n      svg: svgRef.current,\n      edge: edge,\n      preview: edge.event === state.previewEvent && current.matches(edge.source.path.join('.')) && !!state.preview && state.preview.matches(edge.target.path.join('.'))\n    });\n  }), initialStateNodes(service.machine).map(function (initialStateNode, i) {\n    if (!svgRef.current) {\n      return;\n    }\n\n    return React.createElement(InitialEdge, {\n      key: initialStateNode.id + \"_\" + i,\n      source: initialStateNode,\n      svgRef: svgRef.current,\n      preview: current.matches(initialStateNode.path.join('.')) || !!state.preview && state.preview.matches(initialStateNode.path.join('.'))\n    });\n  })), React.createElement(StateChartNode, {\n    stateNode: service.machine,\n    current: service.state,\n    transitionCount: transitionCount,\n    level: 0,\n    preview: state.preview,\n    onReset: onReset,\n    onEvent: function onEvent(event) {\n      send(event);\n    },\n    onPreEvent: function onPreEvent(event) {\n      if (!state.preview) {\n        setState(__assign({}, state, {\n          preview: service.nextState(event),\n          previewEvent: event\n        }));\n      }\n    },\n    onExitPreEvent: function onExitPreEvent() {\n      setState(__assign({}, state, {\n        preview: undefined,\n        previewEvent: undefined\n      }));\n    },\n    onSelectServiceId: function onSelectServiceId(serviceId) {\n      var s = service.children.get(serviceId);\n\n      if (s) {\n        onSelectService(s); // TODO: pass service via context\n      }\n    },\n    toggledStates: state.toggledStates\n  }));\n};\nvar templateObject_1;","var __makeTemplateObject = this && this.__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nimport React from 'react';\nimport { StateChartVisualization } from './StateChartVisualization';\nimport styled from 'styled-components';\nexport var StyledStateChartContainer = styled.section(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  display: grid;\\n  grid-column-gap: 1rem;\\n  grid-row-gap: 1rem;\\n  padding: 0 1rem;\\n\\n  &[data-child] {\\n    grid-template-columns: 1fr 1fr;\\n  }\\n\"], [\"\\n  display: grid;\\n  grid-column-gap: 1rem;\\n  grid-row-gap: 1rem;\\n  padding: 0 1rem;\\n\\n  &[data-child] {\\n    grid-template-columns: 1fr 1fr;\\n  }\\n\"])));\nexport var StateChartContainer = function StateChartContainer(_a) {\n  var service = _a.service,\n      onReset = _a.onReset;\n  return React.createElement(StyledStateChartContainer, null, React.createElement(StateChartVisualization, {\n    service: service,\n    visible: true,\n    onSelectService: function onSelectService() {\n      return void 0;\n    },\n    onReset: onReset\n  }));\n};\nvar templateObject_1;","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport React from 'react';\nimport { tracker } from './tracker';\nimport { relative } from './utils';\n\nvar InitialEdge =\n/** @class */\nfunction (_super) {\n  __extends(InitialEdge, _super);\n\n  function InitialEdge() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      sourceElement: undefined\n    };\n    return _this;\n  }\n\n  InitialEdge.prototype.componentDidMount = function () {\n    var _this = this;\n\n    var id = this.props.source.id;\n    tracker.listen(id, function (data) {\n      _this.setState({\n        sourceElement: data.element\n      });\n    });\n  };\n\n  InitialEdge.prototype.render = function () {\n    var _a = this.props,\n        svgRef = _a.svgRef,\n        preview = _a.preview;\n\n    if (!this.state.sourceElement) {\n      return null;\n    }\n\n    var rect = relative(this.state.sourceElement.getBoundingClientRect(), svgRef);\n    var top = rect.top,\n        left = rect.left;\n    var stroke = preview ? 'var(--color-edge-active)' : 'var(--color-edge)';\n    return React.createElement(\"g\", null, React.createElement(\"circle\", {\n      r: \"4\",\n      cx: left - 10,\n      cy: top,\n      fill: stroke\n    }), React.createElement(\"path\", {\n      d: \"M \" + (left - 10) + \",\" + top + \" Q \" + (left - 10) + \",\" + (top + 10) + \" \" + (left - 1) + \",\" + (top + 10) + \" L \" + left + \",\" + (top + 10),\n      stroke: stroke,\n      strokeWidth: \"2\",\n      fill: \"none\",\n      markerEnd: preview ? \"url(#marker-preview)\" : \"url(#marker)\"\n    }));\n  };\n\n  return InitialEdge;\n}(React.Component);\n\nexport { InitialEdge };","import React from 'react';\nimport { DELAY_EVENT_REGEX } from './utils';\nexport var EventName = function EventName(_a) {\n  var event = _a.event;\n  var match = event.match(DELAY_EVENT_REGEX);\n\n  if (match) {\n    var isMs = Number.isFinite(+match[1]);\n    return React.createElement(\"span\", null, React.createElement(\"em\", null, \"after\"), \" \", match[1], isMs ? 'ms' : '');\n  }\n\n  match = event.match(/^done\\.state/);\n\n  if (match) {\n    return React.createElement(\"span\", null, React.createElement(\"em\", null, \"done\"));\n  }\n\n  match = event.match(/^done\\.invoke\\.(.+)/);\n\n  if (match) {\n    return React.createElement(\"span\", null, React.createElement(\"em\", null, \"done\"), \" (\", match[1], \")\");\n  }\n\n  match = event.match(/^error\\.platform\\.(.+)/);\n\n  if (match) {\n    return React.createElement(\"span\", null, React.createElement(\"em\", null, \"error\"), \" (\", match[1], \")\");\n  }\n\n  return React.createElement(\"span\", null, event);\n};","var __makeTemplateObject = this && this.__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport React from 'react';\nimport styled from 'styled-components';\nvar StyledField = styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  &:not(:last-child) {\\n    margin-bottom: 1rem;\\n  }\\n\\n  margin-top: 0.5rem;\\n  width: 100%;\\n  overflow: hidden;\\n\\n  > label {\\n    text-transform: uppercase;\\n    display: block;\\n    margin-bottom: 0.5em;\\n    font-weight: bold;\\n    opacity: 0.5;\\n  }\\n\\n  &[data-empty] {\\n    opacity: 0.5;\\n    > label {\\n      margin-bottom: 0;\\n    }\\n  }\\n\"], [\"\\n  &:not(:last-child) {\\n    margin-bottom: 1rem;\\n  }\\n\\n  margin-top: 0.5rem;\\n  width: 100%;\\n  overflow: hidden;\\n\\n  > label {\\n    text-transform: uppercase;\\n    display: block;\\n    margin-bottom: 0.5em;\\n    font-weight: bold;\\n    opacity: 0.5;\\n  }\\n\\n  &[data-empty] {\\n    opacity: 0.5;\\n    > label {\\n      margin-bottom: 0;\\n    }\\n  }\\n\"])));\n\nfunction Field(_a) {\n  var label = _a.label,\n      children = _a.children,\n      disabled = _a.disabled,\n      style = _a.style;\n  return React.createElement(StyledField, {\n    style: __assign({}, style, disabled ? {\n      opacity: 0.5\n    } : undefined),\n    \"data-empty\": !children || undefined\n  }, React.createElement(\"label\", null, label), children);\n}\n\nvar StyledDetails = styled.details(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  margin: 0;\\n  padding: 0 1rem;\\n\\n  & & {\\n    border-left: 2px solid #737373;\\n  }\\n\\n  > summary {\\n    font-weight: bold;\\n    font-size: 1rem;\\n  }\\n\"], [\"\\n  margin: 0;\\n  padding: 0 1rem;\\n\\n  & & {\\n    border-left: 2px solid #737373;\\n  }\\n\\n  > summary {\\n    font-weight: bold;\\n    font-size: 1rem;\\n  }\\n\"])));\nvar StyledPanelAction = styled.div(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  display: grid;\\n  grid-template-columns: auto 1fr;\\n  grid-column-gap: 1ch;\\n\\n  & + & {\\n    margin-top: 0.5rem;\\n  }\\n\\n  pre {\\n    margin: 0;\\n  }\\n\"], [\"\\n  display: grid;\\n  grid-template-columns: auto 1fr;\\n  grid-column-gap: 1ch;\\n\\n  & + & {\\n    margin-top: 0.5rem;\\n  }\\n\\n  pre {\\n    margin: 0;\\n  }\\n\"])));\nexport var StatePanel = function StatePanel(_a) {\n  var state = _a.state,\n      service = _a.service;\n  var simplifiedState = {\n    value: state.value,\n    context: state.context\n  };\n  return React.createElement(StyledDetails, {\n    key: service.id,\n    open: true\n  }, React.createElement(\"summary\", null, service.id), React.createElement(Field, {\n    label: \"state\"\n  }, React.createElement(\"pre\", null, JSON.stringify(simplifiedState, null, 2))), React.createElement(Field, {\n    label: \"actions\"\n  }, state.actions.map(function (action, i) {\n    return React.createElement(StyledPanelAction, {\n      key: i\n    }, Object.keys(action).map(function (key) {\n      var value = action[key];\n\n      if (value === undefined) {\n        return null;\n      }\n\n      return React.createElement(React.Fragment, {\n        key: key\n      }, React.createElement(\"strong\", null, key, \":\"), React.createElement(\"pre\", null, JSON.stringify(action[key], null, 2)));\n    }));\n  })), React.createElement(Field, {\n    label: \"Children\"\n  }, Array.from(service.children.values()).map(function (child, i) {\n    if (!child.state) {\n      return null;\n    }\n\n    return React.createElement(StatePanel, {\n      state: child.state,\n      service: child,\n      key: i\n    });\n  })));\n};\nvar templateObject_1, templateObject_2, templateObject_3;","var __makeTemplateObject = this && this.__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nimport React, { useEffect, useState } from 'react';\nimport { Machine, assign } from 'xstate';\nimport { produce } from 'immer';\nimport { log } from 'xstate/lib/actions';\nimport styled from 'styled-components';\nimport { notificationsActor } from './Header';\nexport var notificationsMachine = Machine({\n  id: 'notifications',\n  context: {\n    notifications: []\n  },\n  initial: 'inactive',\n  states: {\n    inactive: {},\n    active: {\n      entry: log(),\n      on: {\n        'NOTIFICATION.DISMISS': {\n          actions: assign({\n            notifications: function notifications(ctx, e) {\n              return produce(ctx.notifications, function (draft) {\n                draft.splice(e.index, 1);\n              });\n            }\n          })\n        }\n      }\n    }\n  },\n  on: {\n    'NOTIFICATIONS.QUEUE': {\n      target: '.active',\n      actions: assign({\n        notifications: function notifications(ctx, e) {\n          return produce(ctx.notifications, function (draft) {\n            draft.unshift(e.data);\n          });\n        }\n      })\n    }\n  }\n});\nvar StyledNotificationDismissButton = styled.button(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  appearance: none;\\n  background: transparent;\\n  color: white;\\n\"], [\"\\n  appearance: none;\\n  background: transparent;\\n  color: white;\\n\"])));\nvar StyledNotification = styled.div(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  padding: 1rem;\\n  margin: 1rem;\\n  border-radius: var(--radius);\\n  border-top: 2px solid currentColor;\\n  border-top-left-radius: 0;\\n  border-top-right-radius: 0;\\n  background: white;\\n  box-shadow: var(--shadow);\\n  animation: notification-slideDown calc(var(--timeout, 4000) * 1ms) ease both;\\n  will-change: transform;\\n  transition: transform var(--duration);\\n  cursor: default;\\n\\n  &[data-severity='success'] {\\n    color: #40d38d;\\n  }\\n\\n  &[data-severity='info'] {\\n    color: #2f86eb;\\n  }\\n\\n  &[data-severity='error'] {\\n    color: #f16462;\\n  }\\n\\n  > \", \" {\\n    position: absolute;\\n    right: 0;\\n  }\\n\\n  @keyframes notification-slideDown {\\n    from {\\n      transform: translateY(-100%);\\n    }\\n    from,\\n    50% {\\n      pointer-events: auto;\\n      opacity: 1;\\n    }\\n    20%,\\n    to {\\n      transform: translateY(calc(var(--index) * 100% + 0.5rem));\\n    }\\n    to {\\n      opacity: 0;\\n      pointer-events: none;\\n    }\\n  }\\n\"], [\"\\n  padding: 1rem;\\n  margin: 1rem;\\n  border-radius: var(--radius);\\n  border-top: 2px solid currentColor;\\n  border-top-left-radius: 0;\\n  border-top-right-radius: 0;\\n  background: white;\\n  box-shadow: var(--shadow);\\n  animation: notification-slideDown calc(var(--timeout, 4000) * 1ms) ease both;\\n  will-change: transform;\\n  transition: transform var(--duration);\\n  cursor: default;\\n\\n  &[data-severity='success'] {\\n    color: #40d38d;\\n  }\\n\\n  &[data-severity='info'] {\\n    color: #2f86eb;\\n  }\\n\\n  &[data-severity='error'] {\\n    color: #f16462;\\n  }\\n\\n  > \", \" {\\n    position: absolute;\\n    right: 0;\\n  }\\n\\n  @keyframes notification-slideDown {\\n    from {\\n      transform: translateY(-100%);\\n    }\\n    from,\\n    50% {\\n      pointer-events: auto;\\n      opacity: 1;\\n    }\\n    20%,\\n    to {\\n      transform: translateY(calc(var(--index) * 100% + 0.5rem));\\n    }\\n    to {\\n      opacity: 0;\\n      pointer-events: none;\\n    }\\n  }\\n\"])), StyledNotificationDismissButton);\nvar StyledNotifications = styled.div(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  pointer-events: none;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: flex-start;\\n  align-items: center;\\n  z-index: 10;\\n\\n  > \", \" {\\n    position: absolute;\\n    pointer-events: auto;\\n  }\\n\"], [\"\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  pointer-events: none;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: flex-start;\\n  align-items: center;\\n  z-index: 10;\\n\\n  > \", \" {\\n    position: absolute;\\n    pointer-events: auto;\\n  }\\n\"])), StyledNotification);\nvar StyledNotificationDescription = styled.div(templateObject_4 || (templateObject_4 = __makeTemplateObject([\"\\n  color: #111;\\n\"], [\"\\n  color: #111;\\n\"])));\nexport var Notifications = function Notifications(_a) {\n  var notifier = _a.notifier;\n\n  var _b = useState(),\n      current = _b[0],\n      setCurrent = _b[1];\n\n  useEffect(function () {\n    notifier.subscribe(function (state) {\n      setCurrent(state);\n    });\n  }, []);\n\n  if (!current) {\n    return null;\n  }\n\n  var notifications = current.context.notifications;\n  return React.createElement(StyledNotifications, null, notifications.map(function (notification, i) {\n    return React.createElement(StyledNotification, {\n      key: notifications.length - i,\n      \"data-severity\": notification.severity,\n      style: {\n        // @ts-ignore\n        '--timeout': 5000,\n        '--index': i\n      },\n      onClick: function onClick() {\n        return notificationsActor.send({\n          type: 'NOTIFICATION.DISMISS',\n          index: i\n        });\n      }\n    }, React.createElement(\"strong\", null, notification.message), notification.description && React.createElement(StyledNotificationDescription, null, React.createElement(\"small\", null, notification.description, ' ', notification.severity === 'error' ? '(See console for more details)' : '')));\n  }));\n};\nvar templateObject_1, templateObject_2, templateObject_3, templateObject_4;","var __makeTemplateObject = this && this.__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nimport React, { useContext } from 'react';\nimport { AppContext } from './App';\nimport styled from 'styled-components';\nimport { StyledButton } from './Button';\nvar StyledUserName = styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  font-weight: bold;\\n  font-size: 0.8rem;\\n\"], [\"\\n  font-weight: bold;\\n  font-size: 0.8rem;\\n\"])));\nvar StyledUserDetails = styled.div(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  text-align: right;\\n  animation: fade-in-left 0.6s var(--easing);\\n\\n  @keyframes fade-in-left {\\n    from {\\n      transform: translateX(50%);\\n      opacity: 0;\\n    }\\n    to: {\\n      transform: none;\\n      opacity: 1;\\n    }\\n  }\\n\"], [\"\\n  text-align: right;\\n  animation: fade-in-left 0.6s var(--easing);\\n\\n  @keyframes fade-in-left {\\n    from {\\n      transform: translateX(50%);\\n      opacity: 0;\\n    }\\n    to: {\\n      transform: none;\\n      opacity: 1;\\n    }\\n  }\\n\"])));\nvar StyledUser = styled.div(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  height: 100%;\\n  display: grid;\\n  grid-template-columns: 1fr 3rem;\\n  grid-column-gap: 1rem;\\n  grid-template-rows: 50% 50%;\\n  grid-template-areas:\\n    'details avatar'\\n    'details avatar';\\n  padding: 0.5rem;\\n\\n  &:not([data-state~='auth.authorized']) {\\n    display: flex;\\n    justify-content: flex-end;\\n    align-items: center;\\n  }\\n\\n  > \", \" {\\n    grid-area: details;\\n    justify-self: end;\\n  }\\n\\n  > figure {\\n    margin: 0;\\n    grid-area: avatar;\\n  }\\n\"], [\"\\n  height: 100%;\\n  display: grid;\\n  grid-template-columns: 1fr 3rem;\\n  grid-column-gap: 1rem;\\n  grid-template-rows: 50% 50%;\\n  grid-template-areas:\\n    'details avatar'\\n    'details avatar';\\n  padding: 0.5rem;\\n\\n  &:not([data-state~='auth.authorized']) {\\n    display: flex;\\n    justify-content: flex-end;\\n    align-items: center;\\n  }\\n\\n  > \", \" {\\n    grid-area: details;\\n    justify-self: end;\\n  }\\n\\n  > figure {\\n    margin: 0;\\n    grid-area: avatar;\\n  }\\n\"])), StyledUserDetails);\nvar StyledImg = styled.img(templateObject_4 || (templateObject_4 = __makeTemplateObject([\"\\n  height: 100%;\\n  border-radius: 0.5rem;\\n  background: gray;\\n\"], [\"\\n  height: 100%;\\n  border-radius: 0.5rem;\\n  background: gray;\\n\"])));\nexport var User = function User() {\n  var _a = useContext(AppContext),\n      state = _a.state,\n      send = _a.send;\n\n  var user = state.context.user;\n  return React.createElement(\"div\", null, React.createElement(StyledUser, {\n    \"data-state\": state.toStrings().join(' ')\n  }, state.matches({\n    auth: 'unauthorized'\n  }) ? React.createElement(StyledButton, {\n    \"data-variant\": \"link\",\n    onClick: function onClick() {\n      return send('LOGIN');\n    }\n  }, \"Login\") : !state.matches({\n    auth: 'authorized'\n  }) ? React.createElement(\"div\", null, \"Authorizing...\", ' ', React.createElement(StyledButton, {\n    \"data-variant\": \"link\",\n    onClick: function onClick() {\n      return send('AUTH.CANCEL');\n    }\n  }, \"Cancel\")) : React.createElement(React.Fragment, null, React.createElement(StyledUserDetails, null, React.createElement(StyledUserName, null, user ? user.login : React.createElement(\"em\", null, \"Anonymous\")), React.createElement(StyledButton, {\n    \"data-variant\": \"link\",\n    onClick: function onClick() {\n      return send('LOGOUT');\n    }\n  }, \"Log out\")), React.createElement(\"figure\", null, user ? React.createElement(StyledImg, {\n    src: user.avatar_url\n  }) : React.createElement(StyledImg, {\n    as: \"div\"\n  })))));\n};\nvar templateObject_1, templateObject_2, templateObject_3, templateObject_4;","var __makeTemplateObject = this && this.__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nimport React from 'react';\nimport styled from 'styled-components';\nvar StyledLoader = styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  padding: 1rem;\\n  padding-top: 1.5rem;\\n  margin: auto auto;\\n  transform-style: preserve-3d;\\n  perspective: 100px;\\n  text-align: center;\\n  font-size: 80%;\\n  font-weight: bold;\\n  text-transform: uppercase;\\n  letter-spacing: 1px;\\n\\n  &:before,\\n  &:after {\\n    content: '';\\n    width: 1rem;\\n    height: 1rem;\\n    top: 0;\\n    left: calc(50% - 0.5rem);\\n    position: absolute;\\n    border: 2px solid rgba(87, 176, 234, 1);\\n    border-radius: 0.2rem;\\n    animation: loader-box 1s infinite both;\\n  }\\n\\n  &:after {\\n    animation-delay: 0.5s;\\n  }\\n\\n  @keyframes loader-box {\\n    from {\\n      transform: rotateY(40deg) translateX(150%);\\n      opacity: 0;\\n    }\\n    50% {\\n      transform: none;\\n      opacity: 1;\\n    }\\n    to {\\n      transform: rotateY(-40deg) translateX(-150%);\\n      opacity: 0;\\n    }\\n  }\\n\"], [\"\\n  padding: 1rem;\\n  padding-top: 1.5rem;\\n  margin: auto auto;\\n  transform-style: preserve-3d;\\n  perspective: 100px;\\n  text-align: center;\\n  font-size: 80%;\\n  font-weight: bold;\\n  text-transform: uppercase;\\n  letter-spacing: 1px;\\n\\n  &:before,\\n  &:after {\\n    content: '';\\n    width: 1rem;\\n    height: 1rem;\\n    top: 0;\\n    left: calc(50% - 0.5rem);\\n    position: absolute;\\n    border: 2px solid rgba(87, 176, 234, 1);\\n    border-radius: 0.2rem;\\n    animation: loader-box 1s infinite both;\\n  }\\n\\n  &:after {\\n    animation-delay: 0.5s;\\n  }\\n\\n  @keyframes loader-box {\\n    from {\\n      transform: rotateY(40deg) translateX(150%);\\n      opacity: 0;\\n    }\\n    50% {\\n      transform: none;\\n      opacity: 1;\\n    }\\n    to {\\n      transform: rotateY(-40deg) translateX(-150%);\\n      opacity: 0;\\n    }\\n  }\\n\"])));\nexport var Loader = function Loader(_a) {\n  var _b = _a.children,\n      children = _b === void 0 ? 'Loading...' : _b;\n  return React.createElement(StyledLoader, null, children);\n};\nvar templateObject_1;","var __makeTemplateObject = this && this.__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nimport React from 'react';\nimport styled from 'styled-components';\nexport var StyledLayoutButton = styled.button(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  appearance: none;\\n  background: white;\\n  box-shadow: var(--shadow);\\n  font-weight: bold;\\n  text-transform: uppercase;\\n  padding: 0.5rem 1rem;\\n  border-top-left-radius: 1rem;\\n  border-bottom-left-radius: 1rem;\\n  color: black;\\n  border: none;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  cursor: pointer;\\n  z-index: 2;\\n  margin-top: 1rem;\\n  opacity: 0.7;\\n  transition: all var(--duration) var(--easing);\\n  transform: translateX(0.5rem);\\n\\n  &:focus,\\n  &:hover {\\n    outline: none;\\n  }\\n\\n  &:hover {\\n    opacity: 1;\\n    transform: none;\\n  }\\n\\n  [data-layout='viz'] & {\\n    right: 100%;\\n    color: black;\\n  }\\n\"], [\"\\n  appearance: none;\\n  background: white;\\n  box-shadow: var(--shadow);\\n  font-weight: bold;\\n  text-transform: uppercase;\\n  padding: 0.5rem 1rem;\\n  border-top-left-radius: 1rem;\\n  border-bottom-left-radius: 1rem;\\n  color: black;\\n  border: none;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  cursor: pointer;\\n  z-index: 2;\\n  margin-top: 1rem;\\n  opacity: 0.7;\\n  transition: all var(--duration) var(--easing);\\n  transform: translateX(0.5rem);\\n\\n  &:focus,\\n  &:hover {\\n    outline: none;\\n  }\\n\\n  &:hover {\\n    opacity: 1;\\n    transform: none;\\n  }\\n\\n  [data-layout='viz'] & {\\n    right: 100%;\\n    color: black;\\n  }\\n\"])));\nexport var LayoutButton = function LayoutButton(_a) {\n  var onClick = _a.onClick,\n      children = _a.children;\n  return React.createElement(StyledLayoutButton, {\n    onClick: onClick\n  }, children);\n};\nvar templateObject_1;","var examples = {\n  omni: \"Machine({\\n    id: 'example',\\n    initial: 'leaf',\\n    states: {\\n      leaf: {\\n        on: {\\n          NEXT: 'compound'\\n        }\\n      },\\n      'another leaf': {\\n        entry: ['one', 'two'],\\n        exit: ['three', 'four'],\\n        on: {\\n          NEXT: {\\n            target: 'compound',\\n            cond: function someCondition() { return true }\\n          },\\n          NEVER: {\\n            target: 'leaf',\\n            cond: function falseCondition() { return false }\\n          }\\n        }\\n      },\\n      compound: {\\n        initial: 'child 1',\\n        states: {\\n          'child 1': {\\n            on: {\\n              NEXT: 'child 2'\\n            }\\n          },\\n          'child 2': {\\n            initial: 'subchild 1',\\n            states: {\\n              'subchild 1': {\\n                on: { NEXT: 'subchild 2' }\\n              },\\n              'subchild 2': {\\n                on: { NEXT: 'subchild 3', PREV: 'subchild 1' }\\n              },\\n              'subchild 3': {\\n                type: 'final'\\n              }\\n            }\\n          }\\n        },\\n        on: {\\n          PREV: 'leaf',\\n          NEXT: 'parallel',\\n          INTERNAL: '.child 1'\\n        }\\n      },\\n      parallel: {\\n        type: 'parallel',\\n        states: {\\n          foo: {},\\n          bar: {\\n            initial: 'one',\\n            states: {\\n              one: {\\n                on: {\\n                  NEXT: 'two'\\n                }\\n              },\\n              two: {\\n                on: {\\n                  NEXT: 'three',\\n                  PREV: 'two'\\n                }\\n              },\\n              three: {\\n                on: {\\n                  SELF: 'three',\\n                  SELF_INTERNAL: '.',\\n                  PREV: 'two',\\n                  CYCLE: 'one'\\n                }\\n              }\\n            }\\n          },\\n          baz: {\\n            initial: 'one',\\n            states: {\\n              one: {\\n                on: {\\n                  TWO_CHILD: 'two.foo'\\n                }\\n              },\\n              two: {\\n                initial: 'foo',\\n                states: {\\n                  foo: {},\\n                  bar: {},\\n                  history: {\\n                    type: 'history'\\n                  }\\n                }\\n              },\\n              three: {}\\n            }\\n          }\\n        }\\n      }\\n    }\\n  })\",\n  basic: \"\\n  // Available variables:\\n  // - Machine\\n  // - interpret\\n  // - assign\\n  // - send\\n  // - sendParent\\n  // - spawn\\n  // - raise\\n  // - actions\\n  // - XState (all XState exports)\\n  \\n  const fetchMachine = Machine({\\n    id: 'fetch',\\n    initial: 'idle',\\n    context: {\\n      retries: 0\\n    },\\n    states: {\\n      idle: {\\n        on: {\\n          FETCH: 'loading'\\n        }\\n      },\\n      loading: {\\n        on: {\\n          RESOLVE: 'success',\\n          REJECT: 'failure'\\n        }\\n      },\\n      success: {\\n        type: 'final'\\n      },\\n      failure: {\\n        on: {\\n          RETRY: {\\n            target: 'loading',\\n            actions: assign({\\n              retries: (context, event) => context.retries + 1\\n            })\\n          }\\n        }\\n      }\\n    }\\n  });\\n  \"\n};\nexport { examples };","var __makeTemplateObject = this && this.__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar _this = this;\n\nimport React, { createContext, useReducer } from 'react';\nimport { StateChart, Notifications } from './index';\nimport styled from 'styled-components';\nimport { Machine, assign } from 'xstate';\nimport queryString from 'query-string';\nimport { useMachine } from '@xstate/react';\nimport { User } from './User';\nimport { examples } from './examples';\nimport { Header, notificationsActor } from './Header';\nimport { Logo } from './logo';\nimport { Loader } from './Loader';\nimport { LayoutButton, StyledLayoutButton } from './LayoutButton';\nimport { toMachine } from './StateChart';\nexport var StyledHeader = styled.header(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  justify-content: stretch;\\n  grid-area: header;\\n  padding: 0.5rem 1rem;\\n  z-index: 1;\\n  white-space: nowrap;\\n\"], [\"\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  justify-content: stretch;\\n  grid-area: header;\\n  padding: 0.5rem 1rem;\\n  z-index: 1;\\n  white-space: nowrap;\\n\"])));\nvar StyledApp = styled.main(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  --color-app-background: #fff;\\n  --color-border: #c9c9c9;\\n  --color-primary: rgba(87, 176, 234, 1);\\n  --color-primary-faded: rgba(87, 176, 234, 0.5);\\n  --color-primary-shadow: rgba(87, 176, 234, 0.1);\\n  --color-link: rgba(87, 176, 234, 1);\\n  --color-disabled: #b3b3b3;\\n  --color-edge: #c9c9c9;\\n  --color-edge-active: var(--color-primary);\\n  --color-secondary: rgba(255, 152, 0, 1);\\n  --color-secondary-light: rgba(255, 152, 0, 0.5);\\n  --color-sidebar: #272722;\\n  --color-gray: #555;\\n  --color-failure: #ee7170;\\n  --color-success: #31ae00;\\n  --radius: 0.2rem;\\n  --border-width: 2px;\\n  --sidebar-width: 25rem;\\n  --shadow: 0 0.5rem 1rem var(--shadow-color, rgba(0, 0, 0, 0.2));\\n  --duration: 0.2s;\\n  --easing: cubic-bezier(0.5, 0, 0.5, 1);\\n\\n  height: 100%;\\n  display: grid;\\n  grid-template-areas:\\n    'header sidebar'\\n    'content content';\\n  grid-template-rows: 3rem auto;\\n  grid-template-columns: auto var(--sidebar-width);\\n  overflow: hidden;\\n\\n  > \", \" {\\n    display: inline-block;\\n    grid-row: 2;\\n    grid-column: -1;\\n  }\\n\\n  @media (max-width: 900px) {\\n    grid-template-columns: 50% 50%;\\n  }\\n\\n  &[data-embed] {\\n    grid-template-rows: 0 auto;\\n\\n    > \", \" {\\n      display: none;\\n    }\\n  }\\n\"], [\"\\n  --color-app-background: #fff;\\n  --color-border: #c9c9c9;\\n  --color-primary: rgba(87, 176, 234, 1);\\n  --color-primary-faded: rgba(87, 176, 234, 0.5);\\n  --color-primary-shadow: rgba(87, 176, 234, 0.1);\\n  --color-link: rgba(87, 176, 234, 1);\\n  --color-disabled: #b3b3b3;\\n  --color-edge: #c9c9c9;\\n  --color-edge-active: var(--color-primary);\\n  --color-secondary: rgba(255, 152, 0, 1);\\n  --color-secondary-light: rgba(255, 152, 0, 0.5);\\n  --color-sidebar: #272722;\\n  --color-gray: #555;\\n  --color-failure: #ee7170;\\n  --color-success: #31ae00;\\n  --radius: 0.2rem;\\n  --border-width: 2px;\\n  --sidebar-width: 25rem;\\n  --shadow: 0 0.5rem 1rem var(--shadow-color, rgba(0, 0, 0, 0.2));\\n  --duration: 0.2s;\\n  --easing: cubic-bezier(0.5, 0, 0.5, 1);\\n\\n  height: 100%;\\n  display: grid;\\n  grid-template-areas:\\n    'header sidebar'\\n    'content content';\\n  grid-template-rows: 3rem auto;\\n  grid-template-columns: auto var(--sidebar-width);\\n  overflow: hidden;\\n\\n  > \", \" {\\n    display: inline-block;\\n    grid-row: 2;\\n    grid-column: -1;\\n  }\\n\\n  @media (max-width: 900px) {\\n    grid-template-columns: 50% 50%;\\n  }\\n\\n  &[data-embed] {\\n    grid-template-rows: 0 auto;\\n\\n    > \", \" {\\n      display: none;\\n    }\\n  }\\n\"])), StyledLayoutButton, StyledHeader);\nexport var StyledLogo = styled(Logo)(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  height: 2rem;\\n\"], [\"\\n  height: 2rem;\\n\"])));\nexport var StyledLink = styled.a(templateObject_4 || (templateObject_4 = __makeTemplateObject([\"\\n  text-decoration: none;\\n  color: #57b0ea;\\n  text-transform: uppercase;\\n  display: block;\\n  font-size: 75%;\\n  font-weight: bold;\\n  margin: 0 0.25rem;\\n\"], [\"\\n  text-decoration: none;\\n  color: #57b0ea;\\n  text-transform: uppercase;\\n  display: block;\\n  font-size: 75%;\\n  font-weight: bold;\\n  margin: 0 0.25rem;\\n\"])));\nexport var StyledLinks = styled.nav(templateObject_5 || (templateObject_5 = __makeTemplateObject([\"\\n  display: flex;\\n  flex-direction: row;\\n\\n  > \", \" {\\n    line-height: 2rem;\\n    margin-left: 1rem;\\n  }\\n\\n  &,\\n  &:visited {\\n  }\\n\"], [\"\\n  display: flex;\\n  flex-direction: row;\\n\\n  > \", \" {\\n    line-height: 2rem;\\n    margin-left: 1rem;\\n  }\\n\\n  &,\\n  &:visited {\\n  }\\n\"])), StyledLink);\n\nvar invokeSaveGist = function invokeSaveGist(ctx, e) {\n  return fetch(\"https://api.github.com/gists/\" + ctx.gist.id, {\n    method: 'post',\n    body: JSON.stringify({\n      description: 'Generated by XState Viz: https://xstate.js.org/viz',\n      public: true,\n      files: {\n        'machine.js': {\n          content: e.code\n        }\n      }\n    }),\n    headers: {\n      Authorization: \"token \" + ctx.token\n    }\n  }).then(function (response) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var _a;\n\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            if (!!response.ok) return [3\n            /*break*/\n            , 2];\n            _a = Error.bind;\n            return [4\n            /*yield*/\n            , response.json()];\n\n          case 1:\n            throw new (_a.apply(Error, [void 0, _b.sent().message]))();\n\n          case 2:\n            return [2\n            /*return*/\n            , response.json()];\n        }\n      });\n    });\n  });\n};\n\nvar invokePostGist = function invokePostGist(ctx, e) {\n  return fetch(\"https://api.github.com/gists\", {\n    method: 'post',\n    body: JSON.stringify({\n      description: 'Generated by XState Viz: https://xstate.js.org/viz',\n      public: true,\n      files: {\n        'machine.js': {\n          content: e.code\n        }\n      }\n    }),\n    headers: {\n      Authorization: \"token \" + ctx.token\n    }\n  }).then(function (response) {\n    if (!response.ok) {\n      throw new Error('Unable to post gist');\n    }\n\n    return response.json();\n  });\n};\n\nfunction parseGist(gistQuery) {\n  var gistMatch = gistQuery.match(/([a-zA-Z0-9]{32})/);\n  return !gistMatch ? null : gistMatch[0];\n}\n\nvar invokeFetchGist = function invokeFetchGist(ctx) {\n  var gist = parseGist(ctx.query.gist);\n\n  if (!gist) {\n    return Promise.reject('Invalid gist ID.');\n  }\n\n  return fetch(\"https://api.github.com/gists/\" + gist, {\n    headers: {\n      Accept: 'application/json'\n    }\n  }).then(function (data) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var _a;\n\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            if (!!data.ok) return [3\n            /*break*/\n            , 2];\n            _a = Error.bind;\n            return [4\n            /*yield*/\n            , data.json()];\n\n          case 1:\n            throw new (_a.apply(Error, [void 0, _b.sent().message]))();\n\n          case 2:\n            return [2\n            /*return*/\n            , data.json()];\n        }\n      });\n    });\n  });\n};\n\nvar getUser = function getUser(ctx) {\n  return fetch(\"https://api.github.com/user\", {\n    headers: {\n      Authorization: \"token \" + ctx.token\n    }\n  }).then(function (response) {\n    if (!response.ok) {\n      throw new Error('Unable to get user');\n    }\n\n    return response.json();\n  });\n};\n\nfunction createAuthActor() {\n  var listener = null;\n  var code = null;\n  return {\n    send: function send(_code) {\n      code = _code;\n\n      if (listener) {\n        listener(_code);\n      }\n    },\n    listen: function listen(l) {\n      listener = l;\n\n      if (code) {\n        listener(code);\n      }\n    }\n  };\n}\n\nfunction updateQuery(query) {\n  if (!window.history) return;\n\n  var fullQuery = __assign({}, queryString.parse(window.location.search), query);\n\n  window.history.replaceState(null, '', \"?\" + queryString.stringify(fullQuery));\n}\n\nwindow.updateQuery = updateQuery;\nvar authActor = createAuthActor();\n\nwindow.authCallback = function (code) {\n  authActor.send(code);\n};\n\nvar query = queryString.parse(window.location.search);\nvar appMachine = Machine({\n  id: 'app',\n  context: {\n    query: query,\n    token: undefined,\n    // token: process.env.REACT_APP_TEST_TOKEN,\n    gist: undefined,\n    machine: examples.basic,\n    user: undefined\n  },\n  invoke: [{\n    id: 'test',\n    src: function src() {\n      return function (cb) {\n        authActor.listen(function (code) {\n          cb({\n            type: 'CODE',\n            code: code\n          });\n        });\n      };\n    }\n  }],\n  type: 'parallel',\n  states: {\n    auth: {\n      initial: 'checkingCode',\n      states: {\n        checkingCode: {\n          on: {\n            '': [{\n              target: 'authorizing',\n              cond: function cond(ctx) {\n                return !!ctx.query.code;\n              }\n            }, {\n              target: 'gettingUser',\n              cond: function cond(ctx) {\n                return !!ctx.token;\n              }\n            }, {\n              target: 'unauthorized',\n              actions: assign({\n                machine: examples.basic\n              })\n            }]\n          }\n        },\n        authorizing: {\n          invoke: {\n            src: function src(ctx, e) {\n              return fetch(\"https://xstate-gist.azurewebsites.net/api/GistPost?code=\" + e.code + \"&redirect_uri=\" + encodeURI(window.location.href)).then(function (response) {\n                if (!response.ok) {\n                  throw new Error('unauthorized');\n                }\n\n                return response.json();\n              }).then(function (data) {\n                if (data.error) {\n                  throw new Error('expired code');\n                }\n\n                return data;\n              });\n            },\n            onDone: {\n              target: 'gettingUser',\n              actions: assign({\n                token: function token(ctx, e) {\n                  return e.data.access_token;\n                }\n              })\n            },\n            onError: {\n              target: 'unauthorized',\n              actions: function actions(_, e) {\n                return alert(e.data);\n              }\n            }\n          }\n        },\n        gettingUser: {\n          invoke: {\n            src: getUser,\n            onDone: {\n              target: 'authorized',\n              actions: assign({\n                // @ts-ignore\n                user: function user(_, e) {\n                  return e.data;\n                }\n              })\n            },\n            onError: {\n              target: 'unauthorized',\n              actions: function actions(_, e) {\n                console.error(e);\n                notificationsActor.notify({\n                  message: 'Authorization failed',\n                  description: e.data.message,\n                  severity: 'error'\n                });\n              }\n            }\n          }\n        },\n        authorized: {\n          type: 'parallel',\n          states: {\n            user: {},\n            gist: {\n              initial: 'idle',\n              states: {\n                idle: {\n                  initial: 'default',\n                  states: {\n                    default: {},\n                    patched: {\n                      after: {\n                        1000: 'default'\n                      }\n                    },\n                    posted: {\n                      after: {\n                        1000: 'default'\n                      }\n                    }\n                  }\n                },\n                patching: {\n                  invoke: {\n                    src: invokeSaveGist,\n                    onDone: {\n                      target: 'idle.patched',\n                      actions: [function (ctx) {\n                        return notificationsActor.notify({\n                          message: 'Saved!',\n                          description: 'Copy and paste the URL to share the visualization.',\n                          severity: 'success'\n                        });\n                      }]\n                    },\n                    onError: {\n                      target: 'idle',\n                      actions: function actions(ctx, e) {\n                        console.error(e);\n                        notificationsActor.notify({\n                          message: 'Failed to save machine',\n                          severity: 'error',\n                          description: e.data.message\n                        });\n                      }\n                    }\n                  }\n                },\n                posting: {\n                  invoke: {\n                    src: invokePostGist,\n                    onDone: {\n                      target: 'idle.posted',\n                      actions: [assign({\n                        gist: function gist(_, e) {\n                          return e.data;\n                        }\n                      }), function () {\n                        return notificationsActor.notify({\n                          message: 'Visualization uploaded!',\n                          description: 'Copy and paste the URL to share the visualization.',\n                          severity: 'success'\n                        });\n                      }, function (_a) {\n                        var gist = _a.gist;\n                        return updateQuery({\n                          gist: gist.id\n                        });\n                      }]\n                    }\n                  }\n                }\n              },\n              on: {\n                'GIST.SAVE': [{\n                  target: '.idle',\n                  cond: function cond(ctx, e) {\n                    try {\n                      toMachine(e.code);\n                    } catch (e) {\n                      console.error(e);\n                      notificationsActor.notify({\n                        message: 'Failed to upload machine',\n                        severity: 'error',\n                        description: e.message\n                      });\n                      return true;\n                    }\n\n                    return false;\n                  }\n                }, {\n                  target: '.patching',\n                  cond: function cond(ctx) {\n                    return !!ctx.gist && ctx.gist.owner.login === ctx.user.login;\n                  }\n                }, {\n                  target: '.posting'\n                }]\n              }\n            }\n          },\n          on: {\n            LOGOUT: {\n              target: 'unauthorized',\n              actions: assign({\n                token: undefined,\n                user: undefined\n              })\n            }\n          }\n        },\n        unauthorized: {\n          on: {\n            LOGIN: 'pendingAuthorization',\n            'GIST.SAVE': 'pendingAuthorization'\n          }\n        },\n        pendingAuthorization: {\n          entry: function entry() {\n            window.open('https://github.com/login/oauth/authorize?client_id=39c1ec91c4ed507f6e4c&scope=gist', 'Login with GitHub', 'width=800,height=600');\n          },\n          on: {\n            CODE: 'authorizing',\n            'AUTH.CANCEL': 'unauthorized'\n          },\n          after: {\n            AUTH_TIMEOUT: {\n              target: 'unauthorized',\n              actions: function actions() {\n                notificationsActor.notify({\n                  message: 'Authorization timed out',\n                  severity: 'error'\n                });\n              }\n            }\n          }\n        }\n      },\n      on: {\n        LOGIN: '.pendingAuthorization'\n      }\n    },\n    gist: {\n      initial: 'checking',\n      states: {\n        checking: {\n          on: {\n            '': [{\n              target: 'fetching',\n              cond: function cond(ctx) {\n                return !!ctx.query.gist;\n              }\n            }, {\n              target: 'idle'\n            }]\n          }\n        },\n        idle: {},\n        fetching: {\n          invoke: {\n            src: invokeFetchGist,\n            onDone: {\n              target: 'loaded',\n              actions: assign({\n                gist: function gist(_, e) {\n                  return e.data;\n                },\n                // @ts-ignore\n                machine: function machine(_, e) {\n                  return e.data.files['machine.js'].content;\n                }\n              })\n            },\n            onError: {\n              target: 'idle',\n              actions: [assign({\n                gist: undefined\n              }), function (ctx, e) {\n                notificationsActor.notify({\n                  message: \"Gist not found\",\n                  description: \"\" + e.data,\n                  severity: 'error'\n                });\n              }]\n            }\n          }\n        },\n        loaded: {\n          entry: function entry(ctx, e) {\n            return notificationsActor.notify('Gist loaded!');\n          }\n        }\n      }\n    }\n  }\n}, {\n  delays: {\n    AUTH_TIMEOUT: 15000\n  }\n});\nexport var AppContext = createContext({\n  state: appMachine.initialState,\n  send: function send() {},\n  service: {}\n});\n\nfunction layoutReducer(state, event) {\n  switch (state) {\n    case 'full':\n      switch (event) {\n        case 'TOGGLE':\n          return 'viz';\n\n        default:\n          return state;\n      }\n\n    case 'viz':\n      switch (event) {\n        case 'TOGGLE':\n          return 'full';\n\n        default:\n          return state;\n      }\n\n    default:\n      return state;\n  }\n}\n\nexport function App() {\n  var _a = useMachine(appMachine),\n      current = _a[0],\n      send = _a[1],\n      service = _a[2];\n\n  var _b = useReducer(layoutReducer, query.layout || (!!query.embed ? 'viz' : 'full')),\n      layout = _b[0],\n      dispatchLayout = _b[1];\n\n  return React.createElement(StyledApp, {\n    \"data-layout\": layout,\n    \"data-embed\": query.embed\n  }, React.createElement(Notifications, {\n    notifier: notificationsActor\n  }), React.createElement(AppContext.Provider, {\n    value: {\n      state: current,\n      send: send,\n      service: service\n    }\n  }, React.createElement(User, null), React.createElement(Header, null), current.matches({\n    gist: 'fetching'\n  }) ? React.createElement(Loader, null) : React.createElement(React.Fragment, null, React.createElement(StateChart, {\n    machine: current.context.machine,\n    onSave: function onSave(code) {\n      send('GIST.SAVE', {\n        code: code\n      });\n    }\n  }), React.createElement(LayoutButton, {\n    onClick: function onClick() {\n      return dispatchLayout('TOGGLE');\n    }\n  }, {\n    full: 'Hide',\n    viz: 'Code'\n  }[layout] || 'Show'))));\n}\nvar templateObject_1, templateObject_2, templateObject_3, templateObject_4, templateObject_5;","import React from 'react';\nexport var Logo = function Logo(_a) {\n  var className = _a.className;\n  return React.createElement(\"svg\", {\n    version: \"1.1\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 279.8 98.5\",\n    xmlSpace: \"preserve\",\n    className: className\n  }, React.createElement(\"g\", null, React.createElement(\"g\", null, React.createElement(\"path\", {\n    d: \"M55.8,10.4L55.8,10.4h19.5L55.6,44.6l0,0C49.6,33.9,49.7,20.9,55.8,10.4z\",\n    fill: \"var(--fill, black)\"\n  }), React.createElement(\"polygon\", {\n    points: \"75.4,88.1 30.5,10.4 11,10.4 33.4,49.3 11,88.1 30.5,88.1 43.2,66.2 55.8,88.1\",\n    fill: \"var(--fill, black)\"\n  })), React.createElement(\"g\", {\n    className: \"st0\"\n  }, React.createElement(\"path\", {\n    d: \"M89.1,59.8c3.2,2.7,6.9,4,11.3,4.1c5.2-0.1,7.8-2,7.9-5.7c0-3.1-1.7-4.9-5.2-5.5c-1.6-0.2-3.4-0.5-5.3-0.8\\n\\t\\t\\tc-3.4-0.6-6-1.9-7.8-3.9c-1.8-2.1-2.8-4.6-2.8-7.6c0-3.6,1.2-6.5,3.5-8.7c2.2-2.2,5.4-3.3,9.5-3.3c4.9,0.1,9.2,1.5,12.9,4.2\\n\\t\\t\\tl-3.4,5.1c-3-2-6.3-3.1-9.8-3.2c-1.9,0-3.4,0.5-4.6,1.4c-1.3,1-2,2.5-2,4.4c0,1.2,0.4,2.3,1.3,3.2c0.9,1,2.3,1.7,4.3,2\\n\\t\\t\\tc1.1,0.2,2.6,0.4,4.5,0.6c3.7,0.5,6.5,1.9,8.3,4.1c1.8,2.2,2.6,4.7,2.6,7.7C114,66,109.4,69.9,100.3,70c-5.9,0-10.9-1.9-15.2-5.6\\n\\t\\t\\tL89.1,59.8z\",\n    fill: \"var(--fill, black)\"\n  }), React.createElement(\"path\", {\n    d: \"M135.5,34.2h-10.9v-5.5h27.8v5.5h-10.9v35.5h-6V34.2z\",\n    fill: \"var(--fill, black)\"\n  }), React.createElement(\"path\", {\n    d: \"M180.9,60.5h-15.1l-3.1,9.2h-6.4l14.4-41h5l14.4,41H184L180.9,60.5z M179.2,55l-5.7-17.9h-0.1L167.6,55H179.2z\",\n    fill: \"var(--fill, black)\"\n  }), React.createElement(\"path\", {\n    d: \"M205.4,34.2h-10.9v-5.5h27.8v5.5h-10.9v35.5h-6V34.2z\",\n    fill: \"var(--fill, black)\"\n  }), React.createElement(\"path\", {\n    d: \"M234.2,28.7h25.4v5.8h-19.4v11.7h16.5v5.5h-16.5v12.1h19.4v5.8h-25.4V28.7z\",\n    fill: \"var(--fill, black)\"\n  }))));\n};","import React from 'react';\nimport { notificationsMachine } from './Notifications';\nimport { StyledHeader, StyledLogo, StyledLinks, StyledLink } from './App';\nimport { interpret } from 'xstate';\nvar notificationsService = interpret(notificationsMachine).start();\nexport var notificationsActor = {\n  toJSON: function toJSON() {\n    return {\n      id: 'notifications'\n    };\n  },\n  id: 'notifications',\n  send: notificationsService.send.bind(notificationsService),\n  subscribe: notificationsService.subscribe.bind(notificationsService),\n  notify: function notify(message) {\n    return notificationsService.send({\n      type: 'NOTIFICATIONS.QUEUE',\n      data: typeof message === 'string' ? {\n        message: message,\n        severity: 'info'\n      } : message\n    });\n  }\n};\nexport function Header() {\n  return React.createElement(StyledHeader, null, React.createElement(StyledLogo, null), React.createElement(StyledLinks, null, React.createElement(StyledLink, {\n    href: \"https://github.com/davidkpiano/xstate\",\n    target: \"_xstate-github\"\n  }, \"GitHub\"), React.createElement(StyledLink, {\n    href: \"https://xstate.js.org/docs\",\n    target: \"_xstate-docs\"\n  }, \"Docs\"), React.createElement(StyledLink, {\n    href: \"https://spectrum.chat/statecharts\",\n    target: \"_statecharts-community\"\n  }, \"Community\"), React.createElement(StyledLink, {\n    href: \"https://opencollective.com/xstate\",\n    target: \"_sponsor\"\n  }, \"Sponsor \\uD83D\\uDC99\")));\n}","var __makeTemplateObject = this && this.__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nimport React, { useEffect, useRef, useCallback } from 'react';\nimport { Machine, assign } from 'xstate';\nimport AceEditor from 'react-ace';\nimport { isBuiltInEvent } from './utils';\nimport styled from 'styled-components';\nimport { useMachine } from '@xstate/react';\nimport { StyledButton } from './Button';\nimport { format } from 'date-fns';\nimport { notificationsActor } from './Header';\n\nfunction getNextEvents(state) {\n  var nextEvents = state.nextEvents;\n  return nextEvents.filter(function (eventType) {\n    return !isBuiltInEvent(eventType);\n  });\n}\n\nvar StyledEventPanelEvents = styled.ul(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  list-style: none;\\n  padding: 0;\\n  overflow-y: scroll;\\n\"], [\"\\n  list-style: none;\\n  padding: 0;\\n  overflow-y: scroll;\\n\"])));\nvar StyledEventPanelEvent = styled.li(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  border-bottom: 1px solid #444;\\n\\n  > pre {\\n    margin: 0;\\n    flex-grow: 1;\\n  }\\n\\n  &[data-builtin] {\\n    opacity: 0.5;\\n    cursor: not-allowed;\\n  }\\n\\n  details {\\n    width: 100%;\\n  }\\n\\n  summary {\\n    width: 100%;\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: flex-start;\\n    align-items: center;\\n    height: 2rem;\\n    padding: 0 0.5rem;\\n\\n    > :first-child {\\n      margin-right: auto;\\n      overflow: hidden;\\n      text-overflow: ellipsis;\\n      white-space: nowrap;\\n    }\\n  }\\n\"], [\"\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  border-bottom: 1px solid #444;\\n\\n  > pre {\\n    margin: 0;\\n    flex-grow: 1;\\n  }\\n\\n  &[data-builtin] {\\n    opacity: 0.5;\\n    cursor: not-allowed;\\n  }\\n\\n  details {\\n    width: 100%;\\n  }\\n\\n  summary {\\n    width: 100%;\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: flex-start;\\n    align-items: center;\\n    height: 2rem;\\n    padding: 0 0.5rem;\\n\\n    > :first-child {\\n      margin-right: auto;\\n      overflow: hidden;\\n      text-overflow: ellipsis;\\n      white-space: nowrap;\\n    }\\n  }\\n\"])));\nvar StyledEventPanel = styled.section(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  display: grid;\\n  grid-template-rows: 1fr 10rem;\\n  grid-template-areas: 'events' 'editor';\\n  overflow: hidden;\\n\"], [\"\\n  display: grid;\\n  grid-template-rows: 1fr 10rem;\\n  grid-template-areas: 'events' 'editor';\\n  overflow: hidden;\\n\"])));\nvar StyledEventPanelButtons = styled.div(templateObject_4 || (templateObject_4 = __makeTemplateObject([\"\\n  margin-bottom: 0.5rem;\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: flex-start;\\n  align-content: flex-start;\\n  flex-wrap: wrap;\\n  overflow-y: auto;\\n\"], [\"\\n  margin-bottom: 0.5rem;\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: flex-start;\\n  align-content: flex-start;\\n  flex-wrap: wrap;\\n  overflow-y: auto;\\n\"])));\nvar StyledEventPanelButton = styled.button(templateObject_5 || (templateObject_5 = __makeTemplateObject([\"\\n  appearance: none;\\n  margin-right: 0.5rem;\\n  margin-bottom: 0.5rem;\\n  background-color: var(--color-primary);\\n  border: none;\\n  color: white;\\n  padding: 0.25rem 0.5rem;\\n  border-radius: 2rem;\\n  font-size: 0.75em;\\n  font-weight: bold;\\n\"], [\"\\n  appearance: none;\\n  margin-right: 0.5rem;\\n  margin-bottom: 0.5rem;\\n  background-color: var(--color-primary);\\n  border: none;\\n  color: white;\\n  padding: 0.25rem 0.5rem;\\n  border-radius: 2rem;\\n  font-size: 0.75em;\\n  font-weight: bold;\\n\"])));\nvar StyledEventPanelEditor = styled.div(templateObject_6 || (templateObject_6 = __makeTemplateObject([\"\\n  display: grid;\\n  grid-template-columns: 60% 40%;\\n  grid-template-rows: 1fr auto;\\n  grid-template-areas: 'code events' 'code send';\\n  padding: 1rem;\\n  border-top: 2px solid #444;\\n\\n  > \", \" {\\n    grid-area: send;\\n  }\\n\\n  > \", \" {\\n    grid-area events;\\n  }\\n\"], [\"\\n  display: grid;\\n  grid-template-columns: 60% 40%;\\n  grid-template-rows: 1fr auto;\\n  grid-template-areas: 'code events' 'code send';\\n  padding: 1rem;\\n  border-top: 2px solid #444;\\n\\n  > \", \" {\\n    grid-area: send;\\n  }\\n\\n  > \", \" {\\n    grid-area events;\\n  }\\n\"])), StyledButton, StyledEventPanelButtons);\nvar StyledTime = styled.time(templateObject_7 || (templateObject_7 = __makeTemplateObject([\"\\n  color: #777;\\n  margin-left: 0.5rem;\\n\"], [\"\\n  color: #777;\\n  margin-left: 0.5rem;\\n\"])));\nvar sendEventContext = {\n  eventCode: JSON.stringify({\n    type: ''\n  }, null, 2)\n};\nvar sendEventMachine = Machine({\n  id: 'sendEvent',\n  initial: 'idle',\n  context: sendEventContext,\n  states: {\n    idle: {\n      on: {\n        UPDATE: {\n          actions: assign({\n            eventCode: function eventCode(_, e) {\n              return e.value;\n            }\n          })\n        },\n        AUTOFILL: {\n          actions: [assign({\n            eventCode: function eventCode(_, e) {\n              return e.value;\n            }\n          }), 'moveCursor']\n        },\n        SEND: {\n          actions: 'sendToService'\n        }\n      }\n    }\n  }\n});\nexport var EventPanel = function EventPanel(_a) {\n  var records = _a.records,\n      state = _a.state,\n      service = _a.service;\n\n  var _b = useMachine(sendEventMachine, {\n    execute: false\n  }),\n      current = _b[0],\n      send = _b[1],\n      sendEventService = _b[2];\n\n  var editorRef = useRef(null);\n  var eventsRef = useRef(null);\n  useEffect(function () {\n    sendEventService.execute(current, {\n      moveCursor: function moveCursor() {\n        if (editorRef.current) {\n          editorRef.current.moveCursorTo(1);\n          editorRef.current.navigateLineEnd();\n          editorRef.current.focus();\n        }\n      }\n    });\n  }, [current, service]);\n  useEffect(function () {\n    if (eventsRef.current) {\n      eventsRef.current.scrollTop = eventsRef.current.scrollHeight;\n    }\n  }, [eventsRef.current, records.length]);\n  var sendToService = useCallback(function (eventOrJSON) {\n    var event = eventOrJSON;\n\n    if (typeof eventOrJSON === 'string') {\n      try {\n        event = JSON.parse(eventOrJSON);\n      } catch (e) {\n        notificationsActor.notify({\n          message: 'Failed to send event',\n          description: e.message,\n          severity: 'error'\n        });\n        return;\n      }\n    }\n\n    if (!isBuiltInEvent(event.type)) {\n      service.send(event);\n    }\n  }, [service]);\n  return React.createElement(StyledEventPanel, null, React.createElement(StyledEventPanelEvents, {\n    ref: eventsRef\n  }, records.map(function (_a, i) {\n    var event = _a.event,\n        time = _a.time;\n    var pastEventCode = JSON.stringify(event, null, 2);\n    var isBuiltIn = isBuiltInEvent(event.type);\n    return React.createElement(StyledEventPanelEvent, {\n      key: i,\n      title: \"Double-click to send, click to edit\",\n      \"data-builtin\": isBuiltIn || undefined\n    }, React.createElement(\"details\", null, React.createElement(\"summary\", null, isBuiltIn ? React.createElement(\"em\", null, event.type) : React.createElement(React.Fragment, null, React.createElement(\"strong\", {\n      title: event.type\n    }, event.type), React.createElement(StyledButton, {\n      \"data-variant\": \"link\",\n      onClick: function onClick() {\n        sendToService(event);\n      }\n    }, \"Replay\"), React.createElement(StyledButton, {\n      \"data-variant\": \"link\",\n      onClick: function onClick(e) {\n        e.stopPropagation();\n        send('AUTOFILL', {\n          value: pastEventCode\n        });\n      }\n    }, \"Edit\")), React.createElement(StyledTime, null, format(time, 'hh:mm:ss.SS'))), React.createElement(\"pre\", null, isBuiltIn ? event.type : JSON.stringify(event, null, 2))));\n  })), React.createElement(StyledEventPanelEditor, null, React.createElement(StyledEventPanelButtons, null, getNextEvents(state).map(function (nextEvent) {\n    return React.createElement(StyledEventPanelButton, {\n      key: nextEvent,\n      onClick: function onClick(e) {\n        e.stopPropagation();\n        send('AUTOFILL', {\n          value: JSON.stringify({\n            type: nextEvent\n          }, null, 2)\n        });\n      }\n    }, nextEvent);\n  })), React.createElement(AceEditor, {\n    ref: function ref(r) {\n      if (!r) {\n        return;\n      }\n\n      editorRef.current = r.editor;\n    },\n    mode: \"javascript\",\n    theme: \"monokai\",\n    editorProps: {\n      $blockScrolling: true\n    },\n    value: current.context.eventCode,\n    onChange: function onChange(value) {\n      send('UPDATE', {\n        value: value\n      });\n    },\n    setOptions: {\n      tabSize: 2,\n      fontSize: '12px'\n    },\n    width: \"100%\",\n    height: '5em',\n    showGutter: false,\n    readOnly: false,\n    cursorStart: 3\n  }), React.createElement(StyledButton, {\n    \"data-variant\": \"primary\",\n    \"data-size\": \"full\",\n    onClick: function onClick() {\n      return sendToService(current.context.eventCode);\n    }\n  }, \"Send\")));\n};\nvar templateObject_1, templateObject_2, templateObject_3, templateObject_4, templateObject_5, templateObject_6, templateObject_7;","var __makeTemplateObject = this && this.__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nimport React, { useState, useContext } from 'react';\nimport AceEditor from 'react-ace';\nimport 'brace/theme/monokai';\nimport 'brace/mode/javascript';\nimport { StyledButton } from './Button';\nimport styled from 'styled-components';\nimport { AppContext } from './App';\nexport var StyledEditor = styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  height: 100%;\\n  width: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  padding: 1rem;\\n\"], [\"\\n  height: 100%;\\n  width: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  padding: 1rem;\\n\"])));\nexport var StyledButtons = styled.div(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  display: grid;\\n  grid-template-columns: repeat(2, 1fr);\\n  grid-column-gap: 1rem;\\n\"], [\"\\n  display: grid;\\n  grid-template-columns: repeat(2, 1fr);\\n  grid-column-gap: 1rem;\\n\"])));\nexport var Editor = function Editor(props) {\n  var _a = useState(props.code),\n      code = _a[0],\n      setCode = _a[1];\n\n  var state = useContext(AppContext).state;\n  var onChange = props.onChange,\n      onSave = props.onSave,\n      _b = props.height,\n      height = _b === void 0 ? '100%' : _b,\n      _c = props.changeText,\n      changeText = _c === void 0 ? 'Update' : _c,\n      _d = props.mode,\n      mode = _d === void 0 ? 'javascript' : _d;\n  var isSaving = state.matches({\n    auth: {\n      authorized: {\n        gist: 'patching'\n      }\n    }\n  }) || state.matches({\n    auth: {\n      authorized: {\n        gist: 'posting'\n      }\n    }\n  });\n  return React.createElement(StyledEditor, null, React.createElement(AceEditor, {\n    mode: mode,\n    theme: \"monokai\",\n    editorProps: {\n      $blockScrolling: true\n    },\n    value: code,\n    onChange: function onChange(value) {\n      return setCode(value);\n    },\n    setOptions: {\n      tabSize: 2,\n      fontSize: '12px'\n    },\n    width: \"100%\",\n    height: height,\n    showGutter: false,\n    readOnly: !onChange,\n    wrapEnabled: true\n  }), React.createElement(StyledButtons, null, React.createElement(StyledButton, {\n    \"data-variant\": \"secondary\",\n    disabled: isSaving,\n    onClick: function onClick() {\n      return onChange(code);\n    }\n  }, changeText), React.createElement(StyledButton, {\n    \"data-variant\": \"primary\",\n    disabled: isSaving || state.matches({\n      auth: 'pendingAuthorization'\n    }),\n    onClick: function onClick() {\n      onChange(code);\n      onSave(code);\n    }\n  }, state.matches({\n    auth: {\n      authorized: {\n        gist: 'patching'\n      }\n    }\n  }) ? 'Saving...' : state.matches({\n    auth: {\n      authorized: {\n        gist: 'posting'\n      }\n    }\n  }) ? 'Uploading...' : state.matches({\n    auth: {\n      authorized: {\n        gist: {\n          idle: 'patched'\n        }\n      }\n    }\n  }) ? 'Saved!' : state.matches({\n    auth: {\n      authorized: {\n        gist: {\n          idle: 'posted'\n        }\n      }\n    }\n  }) ? 'Uploaded!' : state.matches({\n    auth: 'authorized'\n  }) ? 'Save' : !state.matches({\n    auth: 'authorized'\n  }) && !state.matches({\n    auth: 'unauthorized'\n  }) ? 'Logging in...' : 'Login to save')));\n};\nvar templateObject_1, templateObject_2;","import React from 'react';\nimport { Editor } from './Editor';\nexport var CodePanel = function CodePanel(_a) {\n  var code = _a.code,\n      onChange = _a.onChange,\n      onSave = _a.onSave;\n  return React.createElement(Editor, {\n    code: code,\n    onChange: onChange,\n    onSave: onSave\n  });\n};","var __makeTemplateObject = this && this.__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport React from 'react';\nimport styled from 'styled-components';\nimport { Machine, assign, send, spawn, interpret } from 'xstate';\nimport * as XState from 'xstate';\nimport { StateChartContainer, StyledStateChartContainer } from './VizTabs';\nimport { StatePanel } from './StatePanel';\nimport { EventPanel } from './EventPanel';\nimport { CodePanel } from './CodePanel';\nimport { raise } from 'xstate/lib/actions';\nimport { getEdges } from 'xstate/lib/graph';\nimport { notificationsActor } from './Header';\nvar StyledViewTab = styled.li(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  padding: 0 1rem;\\n  border-bottom: 2px solid transparent;\\n  list-style: none;\\n  text-transform: uppercase;\\n  user-select: none;\\n  cursor: pointer;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n\\n  &:not([data-active]):hover {\\n    border-color: var(--color-secondary-light);\\n  }\\n\\n  &[data-active] {\\n    border-color: var(--color-secondary);\\n  }\\n\"], [\"\\n  padding: 0 1rem;\\n  border-bottom: 2px solid transparent;\\n  list-style: none;\\n  text-transform: uppercase;\\n  user-select: none;\\n  cursor: pointer;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n\\n  &:not([data-active]):hover {\\n    border-color: var(--color-secondary-light);\\n  }\\n\\n  &[data-active] {\\n    border-color: var(--color-secondary);\\n  }\\n\"])));\nvar StyledViewTabs = styled.ul(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  display: flex;\\n  width: 100%;\\n  height: 100%;\\n  flex-direction: row;\\n  justify-content: flex-start;\\n  align-items: stretch;\\n  margin: 0;\\n  padding: 0;\\n  flex-grow: 0;\\n  flex-shrink: 0;\\n  position: sticky;\\n  top: 0;\\n\"], [\"\\n  display: flex;\\n  width: 100%;\\n  height: 100%;\\n  flex-direction: row;\\n  justify-content: flex-start;\\n  align-items: stretch;\\n  margin: 0;\\n  padding: 0;\\n  flex-grow: 0;\\n  flex-shrink: 0;\\n  position: sticky;\\n  top: 0;\\n\"])));\nvar StyledSidebar = styled.div(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  background-color: var(--color-sidebar);\\n  color: white;\\n  overflow: hidden;\\n  display: grid;\\n  grid-template-columns: 1fr;\\n  grid-template-rows: 2rem 1fr;\\n  border-top-left-radius: 1rem;\\n  box-shadow: var(--shadow);\\n  transition: transform 0.6s cubic-bezier(0.5, 0, 0.5, 1);\\n  z-index: 1;\\n\"], [\"\\n  background-color: var(--color-sidebar);\\n  color: white;\\n  overflow: hidden;\\n  display: grid;\\n  grid-template-columns: 1fr;\\n  grid-template-rows: 2rem 1fr;\\n  border-top-left-radius: 1rem;\\n  box-shadow: var(--shadow);\\n  transition: transform 0.6s cubic-bezier(0.5, 0, 0.5, 1);\\n  z-index: 1;\\n\"])));\nexport var StyledStateChart = styled.div(templateObject_4 || (templateObject_4 = __makeTemplateObject([\"\\n  grid-area: content;\\n  display: grid;\\n  grid-template-columns: 1fr var(--sidebar-width, 25rem);\\n  grid-template-rows: 1fr;\\n  grid-template-areas: 'content sidebar';\\n  font-family: sans-serif;\\n  font-size: 12px;\\n  overflow: hidden;\\n  max-height: inherit;\\n\\n  @media (max-width: 900px) {\\n    grid-template-columns: 1fr 1fr;\\n  }\\n\\n  > \", \" {\\n    grid-area: sidebar;\\n  }\\n\\n  > \", \" {\\n    grid-area: content;\\n  }\\n\\n  > * {\\n    max-height: inherit;\\n    overflow-y: auto;\\n  }\\n\\n  [data-layout='viz'] & {\\n    > :not(\", \") {\\n      grid-column: 1 / -1;\\n    }\\n\\n    > \", \" {\\n      transform: translateX(100%);\\n    }\\n  }\\n\"], [\"\\n  grid-area: content;\\n  display: grid;\\n  grid-template-columns: 1fr var(--sidebar-width, 25rem);\\n  grid-template-rows: 1fr;\\n  grid-template-areas: 'content sidebar';\\n  font-family: sans-serif;\\n  font-size: 12px;\\n  overflow: hidden;\\n  max-height: inherit;\\n\\n  @media (max-width: 900px) {\\n    grid-template-columns: 1fr 1fr;\\n  }\\n\\n  > \", \" {\\n    grid-area: sidebar;\\n  }\\n\\n  > \", \" {\\n    grid-area: content;\\n  }\\n\\n  > * {\\n    max-height: inherit;\\n    overflow-y: auto;\\n  }\\n\\n  [data-layout='viz'] & {\\n    > :not(\", \") {\\n      grid-column: 1 / -1;\\n    }\\n\\n    > \", \" {\\n      transform: translateX(100%);\\n    }\\n  }\\n\"])), StyledSidebar, StyledStateChartContainer, StyledSidebar, StyledSidebar);\nexport function toMachine(machine) {\n  if (typeof machine !== 'string') {\n    return machine;\n  }\n\n  var createMachine;\n\n  try {\n    createMachine = new Function('Machine', 'interpret', 'assign', 'send', 'sendParent', 'spawn', 'raise', 'actions', 'XState', machine);\n  } catch (e) {\n    throw e;\n  }\n\n  var machines = [];\n\n  var machineProxy = function machineProxy(config, options) {\n    var machine = Machine(config, options);\n    machines.push(machine);\n    return machine;\n  };\n\n  try {\n    createMachine(machineProxy, interpret, assign, send, XState.sendParent, spawn, raise, XState.actions, XState);\n  } catch (e) {\n    throw e;\n  }\n\n  return machines[machines.length - 1];\n}\n\nvar StateChart =\n/** @class */\nfunction (_super) {\n  __extends(StateChart, _super);\n\n  function StateChart() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = function () {\n      var machine = toMachine(_this.props.machine);\n      return {\n        current: machine.initialState,\n        preview: undefined,\n        previewEvent: undefined,\n        view: 'definition',\n        machine: machine,\n        code: typeof _this.props.machine === 'string' ? _this.props.machine : \"Machine(\" + JSON.stringify(machine.config, null, 2) + \")\",\n        toggledStates: {},\n        service: interpret(machine, {}).onTransition(function (current) {\n          _this.handleTransition(current);\n        }),\n        events: []\n      };\n    }();\n\n    _this.svgRef = React.createRef();\n    return _this;\n  }\n\n  StateChart.prototype.handleTransition = function (state) {\n    var _this = this;\n\n    var formattedEvent = {\n      event: state.event,\n      time: Date.now()\n    };\n    this.setState({\n      current: state,\n      events: this.state.events.concat(formattedEvent)\n    }, function () {\n      if (_this.state.previewEvent) {// this.setState({\n        //   preview: this.state.service.nextState(this.state.previewEvent)\n        // });\n      }\n    });\n  };\n\n  StateChart.prototype.componentDidMount = function () {\n    this.state.service.start();\n  };\n\n  StateChart.prototype.componentDidUpdate = function (prevProps) {\n    var machine = this.props.machine;\n\n    if (machine !== prevProps.machine) {\n      this.updateMachine(machine.toString());\n    }\n  };\n\n  StateChart.prototype.renderView = function () {\n    var _this = this;\n\n    var _a = this.state,\n        view = _a.view,\n        current = _a.current,\n        code = _a.code,\n        service = _a.service,\n        events = _a.events;\n    var onSave = this.props.onSave;\n\n    switch (view) {\n      case 'definition':\n        return React.createElement(CodePanel, {\n          code: code,\n          onChange: function onChange(code) {\n            return _this.updateMachine(code);\n          },\n          onSave: onSave\n        });\n\n      case 'state':\n        return React.createElement(StatePanel, {\n          state: current,\n          service: service\n        });\n\n      case 'events':\n        return React.createElement(EventPanel, {\n          state: current,\n          service: service,\n          records: events\n        });\n\n      default:\n        return null;\n    }\n  };\n\n  StateChart.prototype.updateMachine = function (code) {\n    var machine;\n\n    try {\n      machine = toMachine(code);\n      getEdges(machine);\n    } catch (e) {\n      notificationsActor.notify({\n        message: 'Failed to update machine',\n        severity: 'error',\n        description: e.message\n      });\n      console.error(e);\n      return;\n    }\n\n    this.reset(code, machine);\n  };\n\n  StateChart.prototype.reset = function (code, machine) {\n    var _this = this;\n\n    if (code === void 0) {\n      code = this.state.code;\n    }\n\n    if (machine === void 0) {\n      machine = this.state.machine;\n    }\n\n    this.state.service.stop();\n    this.setState({\n      code: code,\n      machine: machine,\n      events: [],\n      current: machine.initialState\n    }, function () {\n      _this.setState({\n        service: interpret(_this.state.machine).onTransition(function (current) {\n          _this.handleTransition(current); // TODO: fix events\n          // this.setState({ current, events: [] }, () => {\n          //   if (this.state.previewEvent) {\n          //     this.setState({\n          //       preview: this.state.service.nextState(\n          //         this.state.previewEvent\n          //       )\n          //     });\n          //   }\n          // });\n\n        }).start()\n      }, function () {\n        console.log(_this.state.service);\n      });\n    });\n  };\n\n  StateChart.prototype.render = function () {\n    var _this = this;\n\n    var className = this.props.className;\n    var _a = this.state,\n        code = _a.code,\n        service = _a.service;\n    return React.createElement(StyledStateChart, {\n      className: className,\n      key: code,\n      style: {\n        background: 'var(--color-app-background)'\n      }\n    }, React.createElement(StateChartContainer, {\n      service: service,\n      onReset: function onReset() {\n        return _this.reset();\n      }\n    }), React.createElement(StyledSidebar, null, React.createElement(StyledViewTabs, null, ['definition', 'state', 'events'].map(function (view) {\n      return React.createElement(StyledViewTab, {\n        onClick: function onClick() {\n          return _this.setState({\n            view: view\n          });\n        },\n        key: view,\n        \"data-active\": _this.state.view === view || undefined\n      }, view);\n    })), this.renderView()));\n  };\n\n  return StateChart;\n}(React.Component);\n\nexport { StateChart };\nvar templateObject_1, templateObject_2, templateObject_3, templateObject_4;","import React, { Component, createContext, useState } from 'react';\nimport './App.css';\nimport { App } from '@statecharts/xstate-viz';\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport queryString from 'query-string';\n\nconst query = queryString.parse(window.location.search);\n\nif (query.code && window.opener) {\n  window.opener.authCallback(query.code);\n  setTimeout(() => window.close());\n} else {\n  ReactDOM.render(<App />, document.getElementById('root'));\n\n  // If you want your app to work offline and load faster, you can change\n  // unregister() to register() below. Note this comes with some pitfalls.\n  // Learn more about service workers: http://bit.ly/CRA-PWA\n  serviceWorker.unregister();\n}\n"],"sourceRoot":""}