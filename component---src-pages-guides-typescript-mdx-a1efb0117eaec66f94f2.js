(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{163:function(e,a,n){"use strict";n.r(a),n.d(a,"_frontmatter",function(){return p});var t=n(167),s=n.n(t),c=n(0),o=n.n(c),m=n(168),l=n(169);a.default=function(e){var a=e.components,n=s()(e,["components"]);return o.a.createElement(m.MDXTag,{name:"wrapper",Layout:l.a,layoutProps:n,components:a},o.a.createElement(m.MDXTag,{name:"h2",components:a,props:{id:"using-typescript"}},o.a.createElement(m.MDXTag,{name:"a",components:a,parentName:"h2",props:{href:"#using-typescript","aria-hidden":!0,class:"anchor"}}),"Using TypeScript"),o.a.createElement(m.MDXTag,{name:"p",components:a},"As XState is written in ",o.a.createElement(m.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://www.typescriptlang.org/"}},"TypeScript"),", strongly typing your statecharts is useful and encouraged. Consider this light machine example:"),o.a.createElement("div",{className:"gatsby-highlight","data-language":"typescript"},o.a.createElement("pre",{className:"language-typescript"},o.a.createElement("code",{className:"language-typescript"},o.a.createElement("span",{className:"token comment"},"// The hierarchical (recursive) schema for the states"),"\n",o.a.createElement("span",{className:"token keyword"},"interface")," ",o.a.createElement("span",{className:"token class-name"},"LightStateSchema")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","  ","states",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","    ","green",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},";"),"\n","    ","yellow",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},";"),"\n","    ","red",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","      ","states",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","        ","walk",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},";"),"\n","        ","wait",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},";"),"\n","        ","stop",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},";"),"\n","      ",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},";"),"\n","    ",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},";"),"\n","  ",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},";"),"\n",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","\n",o.a.createElement("span",{className:"token comment"},"// The events that the machine handles"),"\n",o.a.createElement("span",{className:"token keyword"},"type")," LightEvent ",o.a.createElement("span",{className:"token operator"},"="),"\n","  ",o.a.createElement("span",{className:"token operator"},"|")," ",o.a.createElement("span",{className:"token punctuation"},"{")," ",o.a.createElement("span",{className:"token keyword"},"type"),o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'TIMER'")," ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","  ",o.a.createElement("span",{className:"token operator"},"|")," ",o.a.createElement("span",{className:"token punctuation"},"{")," ",o.a.createElement("span",{className:"token keyword"},"type"),o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'POWER_OUTAGE'")," ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","  ",o.a.createElement("span",{className:"token operator"},"|")," ",o.a.createElement("span",{className:"token punctuation"},"{")," ",o.a.createElement("span",{className:"token keyword"},"type"),o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'PED_COUNTDOWN'"),o.a.createElement("span",{className:"token punctuation"},";")," duration",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token builtin"},"number")," ",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},";"),"\n","\n",o.a.createElement("span",{className:"token comment"},"// The context (extended state) of the machine"),"\n",o.a.createElement("span",{className:"token keyword"},"interface")," ",o.a.createElement("span",{className:"token class-name"},"LightContext")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","  ","elapsed",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token builtin"},"number"),o.a.createElement("span",{className:"token punctuation"},";"),"\n",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","\n",o.a.createElement("span",{className:"token keyword"},"const")," lightMachine ",o.a.createElement("span",{className:"token operator"},"=")," Machine",o.a.createElement("span",{className:"token operator"},"<"),"LightContext",o.a.createElement("span",{className:"token punctuation"},",")," LightStateSchema",o.a.createElement("span",{className:"token punctuation"},",")," LightEvent",o.a.createElement("span",{className:"token operator"},">"),o.a.createElement("span",{className:"token punctuation"},"("),o.a.createElement("span",{className:"token punctuation"},"{"),"\n","  ","key",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'light'"),o.a.createElement("span",{className:"token punctuation"},","),"\n","  ","initial",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'green'"),o.a.createElement("span",{className:"token punctuation"},","),"\n","  ","context",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{")," elapsed",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token number"},"0")," ",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},","),"\n","  ","states",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","    ","green",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","      ","on",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","        ",o.a.createElement("span",{className:"token constant"},"TIMER"),o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'yellow'"),o.a.createElement("span",{className:"token punctuation"},","),"\n","        ",o.a.createElement("span",{className:"token constant"},"POWER_OUTAGE"),o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'red'"),"\n","      ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","    ",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},","),"\n","    ","yellow",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","      ","on",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","        ",o.a.createElement("span",{className:"token constant"},"TIMER"),o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'red'"),o.a.createElement("span",{className:"token punctuation"},","),"\n","        ",o.a.createElement("span",{className:"token constant"},"POWER_OUTAGE"),o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'red'"),"\n","      ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","    ",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},","),"\n","    ","red",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","      ","on",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","        ",o.a.createElement("span",{className:"token constant"},"TIMER"),o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'green'"),o.a.createElement("span",{className:"token punctuation"},","),"\n","        ",o.a.createElement("span",{className:"token constant"},"POWER_OUTAGE"),o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'red'"),"\n","      ",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},","),"\n","      ","initial",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'walk'"),o.a.createElement("span",{className:"token punctuation"},","),"\n","      ","states",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","        ","walk",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","          ","on",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","            ",o.a.createElement("span",{className:"token constant"},"PED_COUNTDOWN"),o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'wait'"),"\n","          ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","        ",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},","),"\n","        ","wait",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","          ","on",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","            ",o.a.createElement("span",{className:"token constant"},"PED_COUNTDOWN"),o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","              ","target",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'stop'"),o.a.createElement("span",{className:"token punctuation"},","),"\n","              ","cond",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"("),"ctx",o.a.createElement("span",{className:"token punctuation"},",")," e",o.a.createElement("span",{className:"token punctuation"},")")," ",o.a.createElement("span",{className:"token operator"},"=>")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","                ",o.a.createElement("span",{className:"token keyword"},"return")," e",o.a.createElement("span",{className:"token punctuation"},"."),"duration ",o.a.createElement("span",{className:"token operator"},"===")," ",o.a.createElement("span",{className:"token number"},"0")," ",o.a.createElement("span",{className:"token operator"},"&&")," ctx",o.a.createElement("span",{className:"token punctuation"},"."),"elapsed ",o.a.createElement("span",{className:"token operator"},">")," ",o.a.createElement("span",{className:"token number"},"0"),o.a.createElement("span",{className:"token punctuation"},";"),"\n","              ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","            ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","          ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","        ",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},","),"\n","        ","stop",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","          ","on",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","            ",o.a.createElement("span",{className:"token string"},"''"),o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{")," target",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'green'")," ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","          ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","        ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","      ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","    ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","  ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},")"),o.a.createElement("span",{className:"token punctuation"},";")))),o.a.createElement(m.MDXTag,{name:"p",components:a},"Providing the context, state schema, and events as generic parameters for the ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"Machine()")," function may seem tedious (and is completely optional), but gives many advantages:"),o.a.createElement(m.MDXTag,{name:"ul",components:a},o.a.createElement(m.MDXTag,{name:"li",components:a,parentName:"ul"},"The context type/interface (",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"TContext"),") is passed on to action ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"exec")," functions, guard ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"cond")," functions, and more. It is also passed to deeply nested states."),o.a.createElement(m.MDXTag,{name:"li",components:a,parentName:"ul"},"The state schema type/interface (",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"TStateSchema"),") ensures that only state keys defined on the schema are allowed in the actual config object. Nested state schemas are recursively passed down to their representative child states."),o.a.createElement(m.MDXTag,{name:"li",components:a,parentName:"ul"},"The event type (",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"TEvent"),") ensures that only specified events (and built-in XState-specific ones) are used in transition configs. The provided event object shapes are also passed on to action ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"exec")," functions, guard ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"cond")," functions, and more. This can prevent unnecessary ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"event.somePayload === undefined")," checks.")))};var p={}}}]);
//# sourceMappingURL=component---src-pages-guides-typescript-mdx-a1efb0117eaec66f94f2.js.map