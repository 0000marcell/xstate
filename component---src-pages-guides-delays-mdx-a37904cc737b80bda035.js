(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{149:function(e,a,n){"use strict";n.r(a),n.d(a,"_frontmatter",function(){return p});var t=n(167),s=n.n(t),c=n(0),m=n.n(c),l=n(168),o=n(169);a.default=function(e){var a=e.components,n=s()(e,["components"]);return m.a.createElement(l.MDXTag,{name:"wrapper",Layout:o.a,layoutProps:n,components:a},m.a.createElement(l.MDXTag,{name:"h1",components:a,props:{id:"delayed-events-and-transitions"}},m.a.createElement(l.MDXTag,{name:"a",components:a,parentName:"h1",props:{href:"#delayed-events-and-transitions","aria-hidden":!0,class:"anchor"}}),"Delayed events and transitions"),m.a.createElement(l.MDXTag,{name:"p",components:a},"Transitions can automatically take place after a delay. This is represented in a state definition in the ",m.a.createElement(l.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"after")," property, which maps millisecond delays to their transitions:"),m.a.createElement("div",{className:"gatsby-highlight","data-language":"js"},m.a.createElement("pre",{className:"language-js"},m.a.createElement("code",{className:"language-js"},m.a.createElement("span",{className:"token keyword"},"const")," lightDelayMachine ",m.a.createElement("span",{className:"token operator"},"=")," ",m.a.createElement("span",{className:"token function"},"Machine"),m.a.createElement("span",{className:"token punctuation"},"("),m.a.createElement("span",{className:"token punctuation"},"{"),"\n","  ","id",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'lightDelay'"),m.a.createElement("span",{className:"token punctuation"},","),"\n","  ","initial",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'green'"),m.a.createElement("span",{className:"token punctuation"},","),"\n","  ","states",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","    ","green",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","      ","after",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","        ",m.a.createElement("span",{className:"token comment"},"// after 1 second, transition to yellow"),"\n","        ",m.a.createElement("span",{className:"token number"},"1000"),m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'yellow'"),"\n","      ",m.a.createElement("span",{className:"token punctuation"},"}"),"\n","    ",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},","),"\n","    ","yellow",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","      ","after",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","        ",m.a.createElement("span",{className:"token comment"},"// after 0.5 seconds, transition to red"),"\n","        ",m.a.createElement("span",{className:"token number"},"500"),m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'red'"),"\n","      ",m.a.createElement("span",{className:"token punctuation"},"}"),"\n","    ",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},","),"\n","    ","red",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","      ","after",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","        ",m.a.createElement("span",{className:"token comment"},"// after 2 seconds, transition to green"),"\n","        ",m.a.createElement("span",{className:"token number"},"2000"),m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'green'"),"\n","      ",m.a.createElement("span",{className:"token punctuation"},"}"),"\n","    ",m.a.createElement("span",{className:"token punctuation"},"}"),"\n","  ",m.a.createElement("span",{className:"token punctuation"},"}"),"\n",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},";")))),m.a.createElement(l.MDXTag,{name:"p",components:a},"You can specify delayed transitions in the same way that you specify them on the ",m.a.createElement(l.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"on: ...")," property. They can be explicit:"),m.a.createElement("div",{className:"gatsby-highlight","data-language":"js"},m.a.createElement("pre",{className:"language-js"},m.a.createElement("code",{className:"language-js"},m.a.createElement("span",{className:"token comment"},"// ..."),"\n","states",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","  ","green",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","    ","after",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","      ",m.a.createElement("span",{className:"token number"},"1000"),m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{")," target",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'yellow'")," ",m.a.createElement("span",{className:"token punctuation"},"}"),"\n","    ",m.a.createElement("span",{className:"token punctuation"},"}"),"\n","  ",m.a.createElement("span",{className:"token punctuation"},"}"),"\n",m.a.createElement("span",{className:"token punctuation"},"}"),"\n",m.a.createElement("span",{className:"token comment"},"// ...")))),m.a.createElement(l.MDXTag,{name:"p",components:a},"They can be also be conditional for a single delay:"),m.a.createElement("div",{className:"gatsby-highlight","data-language":"js"},m.a.createElement("pre",{className:"language-js"},m.a.createElement("code",{className:"language-js"},m.a.createElement("span",{className:"token comment"},"// ..."),"\n","states",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","  ","green",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","    ","after",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","      ",m.a.createElement("span",{className:"token number"},"1000"),m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"["),"\n","        ",m.a.createElement("span",{className:"token punctuation"},"{")," target",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'yellow'"),m.a.createElement("span",{className:"token punctuation"},",")," cond",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'trafficIsLight'")," ",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},","),"\n","        ",m.a.createElement("span",{className:"token punctuation"},"{")," target",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'green'")," ",m.a.createElement("span",{className:"token punctuation"},"}")," ",m.a.createElement("span",{className:"token comment"},"// reenter 'green' state"),"\n","      ",m.a.createElement("span",{className:"token punctuation"},"]"),"\n","    ",m.a.createElement("span",{className:"token punctuation"},"}"),"\n","  ",m.a.createElement("span",{className:"token punctuation"},"}"),"\n",m.a.createElement("span",{className:"token punctuation"},"}"),"\n",m.a.createElement("span",{className:"token comment"},"// ...")))),m.a.createElement(l.MDXTag,{name:"p",components:a},"Or they can be conditional for multiple delays. The first selected delayed transition will be taken, which will prevent later transitions from being taken. In this example, if the ",m.a.createElement(l.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"'trafficIsLight'")," condition is ",m.a.createElement(l.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"true"),", then the later ",m.a.createElement(l.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"2000: 'yellow'")," transition will not be taken:"),m.a.createElement("div",{className:"gatsby-highlight","data-language":"js"},m.a.createElement("pre",{className:"language-js"},m.a.createElement("code",{className:"language-js"},m.a.createElement("span",{className:"token comment"},"// ..."),"\n","states",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","  ","green",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","    ","after",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","      ",m.a.createElement("span",{className:"token number"},"1000"),m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{")," target",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'yellow'"),m.a.createElement("span",{className:"token punctuation"},",")," cond",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'trafficIsLight'")," ",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},","),"\n","      ",m.a.createElement("span",{className:"token number"},"2000"),m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'yellow'")," ",m.a.createElement("span",{className:"token comment"},"// always transition to 'yellow' after 2 seconds"),"\n","    ",m.a.createElement("span",{className:"token punctuation"},"}"),"\n","  ",m.a.createElement("span",{className:"token punctuation"},"}"),"\n",m.a.createElement("span",{className:"token punctuation"},"}"),"\n",m.a.createElement("span",{className:"token comment"},"// ...")))),m.a.createElement(l.MDXTag,{name:"p",components:a},"Conditional delayed transitions can also be specified as an array:"),m.a.createElement("div",{className:"gatsby-highlight","data-language":"js"},m.a.createElement("pre",{className:"language-js"},m.a.createElement("code",{className:"language-js"},m.a.createElement("span",{className:"token comment"},"// ..."),"\n","states",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","  ","green",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","    ","after",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"["),"\n","      ",m.a.createElement("span",{className:"token punctuation"},"{")," delay",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token number"},"1000"),m.a.createElement("span",{className:"token punctuation"},",")," target",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'yellow'"),m.a.createElement("span",{className:"token punctuation"},",")," cond",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'trafficIsLight'")," ",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},","),"\n","      ",m.a.createElement("span",{className:"token punctuation"},"{")," delay",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token number"},"2000"),m.a.createElement("span",{className:"token punctuation"},",")," target",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'yellow'")," ",m.a.createElement("span",{className:"token punctuation"},"}"),"\n","    ",m.a.createElement("span",{className:"token punctuation"},"]"),"\n","  ",m.a.createElement("span",{className:"token punctuation"},"}"),"\n",m.a.createElement("span",{className:"token punctuation"},"}"),"\n",m.a.createElement("span",{className:"token comment"},"// ...")))),m.a.createElement(l.MDXTag,{name:"h2",components:a,props:{id:"delayed-events"}},m.a.createElement(l.MDXTag,{name:"a",components:a,parentName:"h2",props:{href:"#delayed-events","aria-hidden":!0,class:"anchor"}}),"Delayed events"),m.a.createElement(l.MDXTag,{name:"p",components:a},"If you just want to send an event after a delay, you can specify the ",m.a.createElement(l.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"delay")," as an option in the second argument of the ",m.a.createElement(l.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"send(...)")," action creator:"),m.a.createElement("div",{className:"gatsby-highlight","data-language":"js"},m.a.createElement("pre",{className:"language-js"},m.a.createElement("code",{className:"language-js"},m.a.createElement("span",{className:"token keyword"},"import")," ",m.a.createElement("span",{className:"token punctuation"},"{")," actions ",m.a.createElement("span",{className:"token punctuation"},"}")," ",m.a.createElement("span",{className:"token keyword"},"from")," ",m.a.createElement("span",{className:"token string"},"'xstate'"),m.a.createElement("span",{className:"token punctuation"},";"),"\n",m.a.createElement("span",{className:"token keyword"},"const")," ",m.a.createElement("span",{className:"token punctuation"},"{")," send ",m.a.createElement("span",{className:"token punctuation"},"}")," ",m.a.createElement("span",{className:"token operator"},"=")," actions",m.a.createElement("span",{className:"token punctuation"},";"),"\n","\n",m.a.createElement("span",{className:"token comment"},"// action to send the 'TIMER' event after 1 second"),"\n",m.a.createElement("span",{className:"token keyword"},"const")," sendTimerAfter1Second ",m.a.createElement("span",{className:"token operator"},"=")," ",m.a.createElement("span",{className:"token function"},"send"),m.a.createElement("span",{className:"token punctuation"},"("),m.a.createElement("span",{className:"token string"},"'TIMER'"),m.a.createElement("span",{className:"token punctuation"},",")," ",m.a.createElement("span",{className:"token punctuation"},"{")," delay",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token number"},"1000")," ",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},";")))),m.a.createElement(l.MDXTag,{name:"p",components:a},"You can also prevent those delayed events from being sent by cancelling them. This is done with the ",m.a.createElement(l.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"cancel(...)")," action creator:"),m.a.createElement("div",{className:"gatsby-highlight","data-language":"js"},m.a.createElement("pre",{className:"language-js"},m.a.createElement("code",{className:"language-js"},m.a.createElement("span",{className:"token keyword"},"import")," ",m.a.createElement("span",{className:"token punctuation"},"{")," actions ",m.a.createElement("span",{className:"token punctuation"},"}")," ",m.a.createElement("span",{className:"token keyword"},"from")," ",m.a.createElement("span",{className:"token string"},"'xstate'"),m.a.createElement("span",{className:"token punctuation"},";"),"\n",m.a.createElement("span",{className:"token keyword"},"const")," ",m.a.createElement("span",{className:"token punctuation"},"{")," send",m.a.createElement("span",{className:"token punctuation"},",")," cancel ",m.a.createElement("span",{className:"token punctuation"},"}")," ",m.a.createElement("span",{className:"token operator"},"=")," actions",m.a.createElement("span",{className:"token punctuation"},";"),"\n","\n",m.a.createElement("span",{className:"token comment"},"// action to send the 'TIMER' event after 1 second"),"\n",m.a.createElement("span",{className:"token keyword"},"const")," sendTimerAfter1Second ",m.a.createElement("span",{className:"token operator"},"=")," ",m.a.createElement("span",{className:"token function"},"send"),m.a.createElement("span",{className:"token punctuation"},"("),m.a.createElement("span",{className:"token string"},"'TIMER'"),m.a.createElement("span",{className:"token punctuation"},",")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","  ","delay",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token number"},"1000"),m.a.createElement("span",{className:"token punctuation"},","),"\n","  ","id",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'oneSecondTimer'")," ",m.a.createElement("span",{className:"token comment"},"// give the event a unique ID"),"\n",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},";"),"\n","\n",m.a.createElement("span",{className:"token keyword"},"const")," cancelTimer ",m.a.createElement("span",{className:"token operator"},"=")," ",m.a.createElement("span",{className:"token function"},"cancel"),m.a.createElement("span",{className:"token punctuation"},"("),m.a.createElement("span",{className:"token string"},"'oneSecondTimer'"),m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},";")," ",m.a.createElement("span",{className:"token comment"},"// pass the ID of event to cancel"),"\n","\n",m.a.createElement("span",{className:"token keyword"},"const")," toggleMachine ",m.a.createElement("span",{className:"token operator"},"=")," ",m.a.createElement("span",{className:"token function"},"Machine"),m.a.createElement("span",{className:"token punctuation"},"("),m.a.createElement("span",{className:"token punctuation"},"{"),"\n","  ","id",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'toggle'"),m.a.createElement("span",{className:"token punctuation"},","),"\n","  ","initial",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'inactive'"),m.a.createElement("span",{className:"token punctuation"},","),"\n","  ","states",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","    ","inactive",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","      ","onEntry",m.a.createElement("span",{className:"token punctuation"},":")," sendTimerAfter1Second",m.a.createElement("span",{className:"token punctuation"},","),"\n","      ","on",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","        ",m.a.createElement("span",{className:"token constant"},"TIMER"),m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'active'"),"\n","        ",m.a.createElement("span",{className:"token constant"},"CANCEL"),m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{")," actions",m.a.createElement("span",{className:"token punctuation"},":")," cancelTimer ",m.a.createElement("span",{className:"token punctuation"},"}"),"\n","      ",m.a.createElement("span",{className:"token punctuation"},"}"),"\n","    ",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},","),"\n","    ","active",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),m.a.createElement("span",{className:"token punctuation"},"}"),"\n","  ",m.a.createElement("span",{className:"token punctuation"},"}"),"\n",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},";"),"\n","\n",m.a.createElement("span",{className:"token comment"},"// if the CANCEL event is sent before 1 second, the TIMER event will be canceled.")))),m.a.createElement(l.MDXTag,{name:"h2",components:a,props:{id:"interpretation"}},m.a.createElement(l.MDXTag,{name:"a",components:a,parentName:"h2",props:{href:"#interpretation","aria-hidden":!0,class:"anchor"}}),"Interpretation"),m.a.createElement(l.MDXTag,{name:"p",components:a},"With the XState ",m.a.createElement(l.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"./Interpretation"}},"interpreter"),", delayed actions will use the native",m.a.createElement(l.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"setTimeout")," and ",m.a.createElement(l.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"clearTimeout")," functions:"),m.a.createElement("div",{className:"gatsby-highlight","data-language":"js"},m.a.createElement("pre",{className:"language-js"},m.a.createElement("code",{className:"language-js"},m.a.createElement("span",{className:"token keyword"},"import")," ",m.a.createElement("span",{className:"token punctuation"},"{")," interpret ",m.a.createElement("span",{className:"token punctuation"},"}")," ",m.a.createElement("span",{className:"token keyword"},"from")," ",m.a.createElement("span",{className:"token string"},"'xstate/lib/interpreter'"),m.a.createElement("span",{className:"token punctuation"},";"),"\n","\n",m.a.createElement("span",{className:"token keyword"},"const")," service ",m.a.createElement("span",{className:"token operator"},"=")," ",m.a.createElement("span",{className:"token function"},"interpret"),m.a.createElement("span",{className:"token punctuation"},"("),"lightDelayMachine",m.a.createElement("span",{className:"token punctuation"},")"),"\n","  ",m.a.createElement("span",{className:"token punctuation"},"."),m.a.createElement("span",{className:"token function"},"onTransition"),m.a.createElement("span",{className:"token punctuation"},"("),"state ",m.a.createElement("span",{className:"token operator"},"=>")," console",m.a.createElement("span",{className:"token punctuation"},"."),m.a.createElement("span",{className:"token function"},"log"),m.a.createElement("span",{className:"token punctuation"},"("),"state",m.a.createElement("span",{className:"token punctuation"},"."),"value",m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},";"),"\n","\n","service",m.a.createElement("span",{className:"token punctuation"},"."),m.a.createElement("span",{className:"token function"},"start"),m.a.createElement("span",{className:"token punctuation"},"("),m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},";"),"\n",m.a.createElement("span",{className:"token comment"},"// => 'green'"),"\n","\n",m.a.createElement("span",{className:"token comment"},"// (after 1 second)"),"\n","\n",m.a.createElement("span",{className:"token comment"},"// => 'yellow'")))),m.a.createElement(l.MDXTag,{name:"p",components:a},"For testing, the XState interpreter provides a ",m.a.createElement(l.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"SimulatedClock"),":"),m.a.createElement("div",{className:"gatsby-highlight","data-language":"js"},m.a.createElement("pre",{className:"language-js"},m.a.createElement("code",{className:"language-js"},m.a.createElement("span",{className:"token keyword"},"import")," ",m.a.createElement("span",{className:"token punctuation"},"{")," interpret",m.a.createElement("span",{className:"token punctuation"},",")," SimulatedClock ",m.a.createElement("span",{className:"token punctuation"},"}")," ",m.a.createElement("span",{className:"token keyword"},"from")," ",m.a.createElement("span",{className:"token string"},"'xstate/lib/interpreter'"),m.a.createElement("span",{className:"token punctuation"},";"),"\n","\n",m.a.createElement("span",{className:"token keyword"},"const")," service ",m.a.createElement("span",{className:"token operator"},"=")," ",m.a.createElement("span",{className:"token function"},"interpret"),m.a.createElement("span",{className:"token punctuation"},"("),"lightDelayMachine",m.a.createElement("span",{className:"token punctuation"},",")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","    ","clock",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token keyword"},"new")," ",m.a.createElement("span",{className:"token class-name"},"SimulatedClock"),m.a.createElement("span",{className:"token punctuation"},"("),m.a.createElement("span",{className:"token punctuation"},")"),"\n","  ",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},"."),m.a.createElement("span",{className:"token function"},"onTransition"),m.a.createElement("span",{className:"token punctuation"},"("),"state ",m.a.createElement("span",{className:"token operator"},"=>")," console",m.a.createElement("span",{className:"token punctuation"},"."),m.a.createElement("span",{className:"token function"},"log"),m.a.createElement("span",{className:"token punctuation"},"("),"state",m.a.createElement("span",{className:"token punctuation"},"."),"value",m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},";"),"\n","\n","service",m.a.createElement("span",{className:"token punctuation"},"."),m.a.createElement("span",{className:"token function"},"start"),m.a.createElement("span",{className:"token punctuation"},"("),m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},";"),"\n",m.a.createElement("span",{className:"token comment"},"// => 'green'"),"\n","\n",m.a.createElement("span",{className:"token comment"},"// move the SimulatedClock forward by 1 second"),"\n","service",m.a.createElement("span",{className:"token punctuation"},"."),"clock",m.a.createElement("span",{className:"token punctuation"},"."),m.a.createElement("span",{className:"token function"},"increment"),m.a.createElement("span",{className:"token punctuation"},"("),m.a.createElement("span",{className:"token number"},"1000"),m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},";"),"\n",m.a.createElement("span",{className:"token comment"},"// => 'yellow'")))),m.a.createElement(l.MDXTag,{name:"p",components:a},'You can create your own "clock" to provide to the interpreter. The clock interface is an object with two functions/methods:'),m.a.createElement(l.MDXTag,{name:"ul",components:a},m.a.createElement(l.MDXTag,{name:"li",components:a,parentName:"ul"},m.a.createElement(l.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"setTimeout")," - same arguments as ",m.a.createElement(l.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"window.setTimeout(fn, timeout)")),m.a.createElement(l.MDXTag,{name:"li",components:a,parentName:"ul"},m.a.createElement(l.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"clearTimeout")," - same arguments as ",m.a.createElement(l.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"window.clearTimeout(id)"))),m.a.createElement(l.MDXTag,{name:"h2",components:a,props:{id:"behind-the-scenes"}},m.a.createElement(l.MDXTag,{name:"a",components:a,parentName:"h2",props:{href:"#behind-the-scenes","aria-hidden":!0,class:"anchor"}}),"Behind the scenes"),m.a.createElement(l.MDXTag,{name:"p",components:a},"The ",m.a.createElement(l.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"after: ...")," property does not introduce anything new to statechart semantics. Instead, it creates normal transitions that look like this:"),m.a.createElement("div",{className:"gatsby-highlight","data-language":"js"},m.a.createElement("pre",{className:"language-js"},m.a.createElement("code",{className:"language-js"},m.a.createElement("span",{className:"token comment"},"// ..."),"\n","states",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","  ","green",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","    ","onEntry",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"["),"\n","      ",m.a.createElement("span",{className:"token function"},"send"),m.a.createElement("span",{className:"token punctuation"},"("),m.a.createElement("span",{className:"token function"},"after"),m.a.createElement("span",{className:"token punctuation"},"("),m.a.createElement("span",{className:"token number"},"1000"),m.a.createElement("span",{className:"token punctuation"},",")," ",m.a.createElement("span",{className:"token string"},"'light.green'"),m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},",")," ",m.a.createElement("span",{className:"token punctuation"},"{")," delay",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token number"},"1000")," ",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},","),"\n","      ",m.a.createElement("span",{className:"token function"},"send"),m.a.createElement("span",{className:"token punctuation"},"("),m.a.createElement("span",{className:"token function"},"after"),m.a.createElement("span",{className:"token punctuation"},"("),m.a.createElement("span",{className:"token number"},"2000"),m.a.createElement("span",{className:"token punctuation"},",")," ",m.a.createElement("span",{className:"token string"},"'light.green'"),m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},",")," ",m.a.createElement("span",{className:"token punctuation"},"{")," delay",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token number"},"2000")," ",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},")"),"\n","    ",m.a.createElement("span",{className:"token punctuation"},"]"),m.a.createElement("span",{className:"token punctuation"},","),"\n","    ","onExit",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"["),"\n","      ",m.a.createElement("span",{className:"token function"},"cancel"),m.a.createElement("span",{className:"token punctuation"},"("),m.a.createElement("span",{className:"token function"},"after"),m.a.createElement("span",{className:"token punctuation"},"("),m.a.createElement("span",{className:"token number"},"1000"),m.a.createElement("span",{className:"token punctuation"},",")," ",m.a.createElement("span",{className:"token string"},"'light.green'"),m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},","),"\n","      ",m.a.createElement("span",{className:"token function"},"cancel"),m.a.createElement("span",{className:"token punctuation"},"("),m.a.createElement("span",{className:"token function"},"after"),m.a.createElement("span",{className:"token punctuation"},"("),m.a.createElement("span",{className:"token number"},"2000"),m.a.createElement("span",{className:"token punctuation"},",")," ",m.a.createElement("span",{className:"token string"},"'light.green'"),m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},")"),"\n","    ",m.a.createElement("span",{className:"token punctuation"},"]"),m.a.createElement("span",{className:"token punctuation"},","),"\n","    ","on",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","      ",m.a.createElement("span",{className:"token punctuation"},"["),m.a.createElement("span",{className:"token function"},"after"),m.a.createElement("span",{className:"token punctuation"},"("),m.a.createElement("span",{className:"token number"},"1000"),m.a.createElement("span",{className:"token punctuation"},",")," ",m.a.createElement("span",{className:"token string"},"'light.green'"),m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},"]"),m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","        ","target",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'yellow'"),m.a.createElement("span",{className:"token punctuation"},","),"\n","        ","cond",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'traffcIsLight'"),"\n","      ",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},","),"\n","      ",m.a.createElement("span",{className:"token punctuation"},"["),m.a.createElement("span",{className:"token function"},"after"),m.a.createElement("span",{className:"token punctuation"},"("),m.a.createElement("span",{className:"token number"},"2000"),m.a.createElement("span",{className:"token punctuation"},",")," ",m.a.createElement("span",{className:"token string"},"'light.green'"),m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},"]"),m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","        ","target",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'yellow'"),"\n","      ",m.a.createElement("span",{className:"token punctuation"},"}"),"\n","    ",m.a.createElement("span",{className:"token punctuation"},"}"),"\n","  ",m.a.createElement("span",{className:"token punctuation"},"}"),"\n",m.a.createElement("span",{className:"token punctuation"},"}"),"\n",m.a.createElement("span",{className:"token comment"},"// ...")))),m.a.createElement(l.MDXTag,{name:"p",components:a},"The interpreted statechart will ",m.a.createElement(l.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"send(...)")," the ",m.a.createElement(l.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"after(...)")," events after their ",m.a.createElement(l.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"delay"),", unless the state node is exited, which will ",m.a.createElement(l.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"cancel(...)")," those delayed ",m.a.createElement(l.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"send(...)")," events."),m.a.createElement(l.MDXTag,{name:"h2",components:a,props:{id:"notes"}},m.a.createElement(l.MDXTag,{name:"a",components:a,parentName:"h2",props:{href:"#notes","aria-hidden":!0,class:"anchor"}}),"Notes"))};var p={}}}]);
//# sourceMappingURL=component---src-pages-guides-delays-mdx-a37904cc737b80bda035.js.map