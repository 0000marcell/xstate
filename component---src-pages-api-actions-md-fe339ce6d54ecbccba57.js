(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{140:function(e,a,n){"use strict";n.r(a),n.d(a,"_frontmatter",function(){return r});var t=n(167),o=n.n(t),m=n(0),s=n.n(m),c=n(168),l=n(169);a.default=function(e){var a=e.components,n=o()(e,["components"]);return s.a.createElement(c.MDXTag,{name:"wrapper",Layout:l.a,layoutProps:n,components:a},s.a.createElement(c.MDXTag,{name:"h1",components:a,props:{id:"actions"}},s.a.createElement(c.MDXTag,{name:"a",components:a,parentName:"h1",props:{href:"#actions","aria-hidden":!0,class:"anchor"}}),"Actions"),s.a.createElement(c.MDXTag,{name:"p",components:a},"Actions in XState represent the side-effects that transitioning from/to a state can produce. These actions are never executed in XState; rather, they are provided to you in the ",s.a.createElement(c.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"state.actions")," property of the ",s.a.createElement(c.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"State")," instance, returned from ",s.a.createElement(c.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"machine.transition(...)"),"."),s.a.createElement(c.MDXTag,{name:"p",components:a},"An ",s.a.createElement(c.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"Action")," can be a:"),s.a.createElement(c.MDXTag,{name:"ul",components:a},s.a.createElement(c.MDXTag,{name:"li",components:a,parentName:"ul"},s.a.createElement(c.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"string"),", e.g., ",s.a.createElement(c.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"'fetchData'")),s.a.createElement(c.MDXTag,{name:"li",components:a,parentName:"ul"},s.a.createElement(c.MDXTag,{name:"p",components:a,parentName:"li"},s.a.createElement(c.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"ActionObject"),", which is an ",s.a.createElement(c.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"object")," with:"),s.a.createElement(c.MDXTag,{name:"ul",components:a,parentName:"li"},s.a.createElement(c.MDXTag,{name:"li",components:a,parentName:"ul"},"an ",s.a.createElement(c.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"action.type")," property whose ",s.a.createElement(c.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"string")," value identifies the action"),s.a.createElement(c.MDXTag,{name:"li",components:a,parentName:"ul"},"any other arbitrary properties relevant to the ",s.a.createElement(c.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"action"),"."))),s.a.createElement(c.MDXTag,{name:"li",components:a,parentName:"ul"},s.a.createElement(c.MDXTag,{name:"p",components:a,parentName:"li"},s.a.createElement(c.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"function"),", a named function with two arguments (since 3.3):"),s.a.createElement(c.MDXTag,{name:"ul",components:a,parentName:"li"},s.a.createElement(c.MDXTag,{name:"li",components:a,parentName:"ul"},s.a.createElement(c.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"ctx")," - the context (i.e., the ",s.a.createElement(c.MDXTag,{name:"a",components:a,parentName:"li",props:{href:"/xstate/guides/context"}},"extended state"),")"),s.a.createElement(c.MDXTag,{name:"li",components:a,parentName:"ul"},s.a.createElement(c.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"event")," - the ",s.a.createElement(c.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"EventObject")," associated with the action")))),s.a.createElement(c.MDXTag,{name:"h1",components:a,props:{id:"state-node-action-properties"}},s.a.createElement(c.MDXTag,{name:"a",components:a,parentName:"h1",props:{href:"#state-node-action-properties","aria-hidden":!0,class:"anchor"}}),"State Node Action Properties"),s.a.createElement(c.MDXTag,{name:"h2",components:a,props:{id:"statenodeonentry"}},s.a.createElement(c.MDXTag,{name:"a",components:a,parentName:"h2",props:{href:"#statenodeonentry","aria-hidden":!0,class:"anchor"}}),s.a.createElement(c.MDXTag,{name:"inlineCode",components:a,parentName:"h2"},"stateNode.onEntry")),s.a.createElement(c.MDXTag,{name:"p",components:a},"(",s.a.createElement(c.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"Action | Action[]"),") The action(s) to be executed upon entering the state."),s.a.createElement(c.MDXTag,{name:"p",components:a},s.a.createElement(c.MDXTag,{name:"strong",components:a,parentName:"p"},"Usage:")," A state's ",s.a.createElement(c.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"onEntry")," actions will be executed in the following scenarios:"),s.a.createElement(c.MDXTag,{name:"ul",components:a},s.a.createElement(c.MDXTag,{name:"li",components:a,parentName:"ul"},"When the state is a leaf state (i.e., no child states) and is entered from a different state"),s.a.createElement(c.MDXTag,{name:"li",components:a,parentName:"ul"},"When the state is a parent state and the previous state comes from a different same-level parent"),s.a.createElement(c.MDXTag,{name:"li",components:a,parentName:"ul"},"When the state explicitly transitions to itself"),s.a.createElement(c.MDXTag,{name:"li",components:a,parentName:"ul"},"When the state is an initial state or parent of an initial state, from ",s.a.createElement(c.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"machine.initialState"),".")),s.a.createElement(c.MDXTag,{name:"h2",components:a,props:{id:"statenodeonexit"}},s.a.createElement(c.MDXTag,{name:"a",components:a,parentName:"h2",props:{href:"#statenodeonexit","aria-hidden":!0,class:"anchor"}}),s.a.createElement(c.MDXTag,{name:"inlineCode",components:a,parentName:"h2"},"stateNode.onExit")),s.a.createElement(c.MDXTag,{name:"p",components:a},"(",s.a.createElement(c.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"Action | Action[]"),") The action(s) to be executed upon exiting the state."),s.a.createElement(c.MDXTag,{name:"p",components:a},s.a.createElement(c.MDXTag,{name:"strong",components:a,parentName:"p"},"Usage:")," A state's ",s.a.createElement(c.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"onExit")," actions will be executed in the following scenarios:"),s.a.createElement(c.MDXTag,{name:"ul",components:a},s.a.createElement(c.MDXTag,{name:"li",components:a,parentName:"ul"},"When the state is a leaf state and is exited to go to a different state"),s.a.createElement(c.MDXTag,{name:"li",components:a,parentName:"ul"},"When the state is a parent state and the next state goes to a different same-level parent"),s.a.createElement(c.MDXTag,{name:"li",components:a,parentName:"ul"},"When the state explicitly transitions to itself")),s.a.createElement(c.MDXTag,{name:"p",components:a},"All ",s.a.createElement(c.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"onExit")," actions will always occur first, before any ",s.a.createElement(c.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"onEntry")," or transition actions."),s.a.createElement(c.MDXTag,{name:"h2",components:a,props:{id:"transitionactions"}},s.a.createElement(c.MDXTag,{name:"a",components:a,parentName:"h2",props:{href:"#transitionactions","aria-hidden":!0,class:"anchor"}}),s.a.createElement(c.MDXTag,{name:"inlineCode",components:a,parentName:"h2"},"transition.actions")),s.a.createElement(c.MDXTag,{name:"p",components:a},"(",s.a.createElement(c.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"Action[]"),") The action(s) to be executed on the determined transition."),s.a.createElement(c.MDXTag,{name:"p",components:a},s.a.createElement(c.MDXTag,{name:"strong",components:a,parentName:"p"},"Usage:")," These actions will always occur before ",s.a.createElement(c.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"onEntry")," actions and after ",s.a.createElement(c.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"onExit")," actions."),s.a.createElement("div",{className:"gatsby-highlight","data-language":"js"},s.a.createElement("pre",{className:"language-js"},s.a.createElement("code",{className:"language-js"},s.a.createElement("span",{className:"token comment"},"// example of a named function action"),"\n",s.a.createElement("span",{className:"token keyword"},"function")," ",s.a.createElement("span",{className:"token function"},"showLoader"),s.a.createElement("span",{className:"token punctuation"},"("),"ctx",s.a.createElement("span",{className:"token punctuation"},",")," event",s.a.createElement("span",{className:"token punctuation"},")")," ",s.a.createElement("span",{className:"token punctuation"},"{"),"\n","  ",s.a.createElement("span",{className:"token comment"},"// ..."),"\n",s.a.createElement("span",{className:"token punctuation"},"}"),"\n","\n",s.a.createElement("span",{className:"token keyword"},"const")," fetchMachine ",s.a.createElement("span",{className:"token operator"},"=")," ",s.a.createElement("span",{className:"token function"},"Machine"),s.a.createElement("span",{className:"token punctuation"},"("),s.a.createElement("span",{className:"token punctuation"},"{"),"\n","  ","id",s.a.createElement("span",{className:"token punctuation"},":")," ",s.a.createElement("span",{className:"token string"},"'fetch'"),s.a.createElement("span",{className:"token punctuation"},","),"\n","  ","initial",s.a.createElement("span",{className:"token punctuation"},":")," ",s.a.createElement("span",{className:"token string"},"'idle'"),s.a.createElement("span",{className:"token punctuation"},","),"\n","  ","states",s.a.createElement("span",{className:"token punctuation"},":")," ",s.a.createElement("span",{className:"token punctuation"},"{"),"\n","    ","idle",s.a.createElement("span",{className:"token punctuation"},":")," ",s.a.createElement("span",{className:"token punctuation"},"{"),"\n","      ","on",s.a.createElement("span",{className:"token punctuation"},":")," ",s.a.createElement("span",{className:"token punctuation"},"{"),"\n","        ",s.a.createElement("span",{className:"token constant"},"FETCH"),s.a.createElement("span",{className:"token punctuation"},":")," ",s.a.createElement("span",{className:"token punctuation"},"{"),"\n","          ","target",s.a.createElement("span",{className:"token punctuation"},":")," ",s.a.createElement("span",{className:"token string"},"'pending'"),s.a.createElement("span",{className:"token punctuation"},",")," ",s.a.createElement("span",{className:"token comment"},"// since 4.0"),"\n","          ",s.a.createElement("span",{className:"token comment"},"// transition actions"),"\n","          ","actions",s.a.createElement("span",{className:"token punctuation"},":")," ",s.a.createElement("span",{className:"token punctuation"},"["),s.a.createElement("span",{className:"token string"},"'warmCache'"),s.a.createElement("span",{className:"token punctuation"},",")," showLoader",s.a.createElement("span",{className:"token punctuation"},"]"),"\n","        ",s.a.createElement("span",{className:"token punctuation"},"}"),"\n","      ",s.a.createElement("span",{className:"token punctuation"},"}"),s.a.createElement("span",{className:"token punctuation"},","),"\n","      ",s.a.createElement("span",{className:"token comment"},"// onExit actions"),"\n","      ","onExit",s.a.createElement("span",{className:"token punctuation"},":")," ",s.a.createElement("span",{className:"token punctuation"},"["),s.a.createElement("span",{className:"token string"},"'preloadViews'"),s.a.createElement("span",{className:"token punctuation"},"]"),"\n","    ",s.a.createElement("span",{className:"token punctuation"},"}"),s.a.createElement("span",{className:"token punctuation"},","),"\n","    ","pending",s.a.createElement("span",{className:"token punctuation"},":")," ",s.a.createElement("span",{className:"token punctuation"},"{"),"\n","      ",s.a.createElement("span",{className:"token comment"},"// onEntry actions"),"\n","      ","onEntry",s.a.createElement("span",{className:"token punctuation"},":")," ",s.a.createElement("span",{className:"token punctuation"},"["),s.a.createElement("span",{className:"token string"},"'fetchData'"),s.a.createElement("span",{className:"token punctuation"},"]"),"\n","    ",s.a.createElement("span",{className:"token punctuation"},"}"),"\n","  ",s.a.createElement("span",{className:"token punctuation"},"}"),"\n",s.a.createElement("span",{className:"token punctuation"},"}"),s.a.createElement("span",{className:"token punctuation"},")"),s.a.createElement("span",{className:"token punctuation"},";"),"\n","\n","console",s.a.createElement("span",{className:"token punctuation"},"."),s.a.createElement("span",{className:"token function"},"log"),s.a.createElement("span",{className:"token punctuation"},"("),"fetchMachine",s.a.createElement("span",{className:"token punctuation"},"."),s.a.createElement("span",{className:"token function"},"transition"),s.a.createElement("span",{className:"token punctuation"},"("),"fetchMachine",s.a.createElement("span",{className:"token punctuation"},"."),"initialState",s.a.createElement("span",{className:"token punctuation"},",")," ",s.a.createElement("span",{className:"token string"},"'FETCH'"),s.a.createElement("span",{className:"token punctuation"},")"),s.a.createElement("span",{className:"token punctuation"},")"),s.a.createElement("span",{className:"token punctuation"},";"),"\n",s.a.createElement("span",{className:"token comment"},"// => State ","{"),"\n",s.a.createElement("span",{className:"token comment"},"//","   ","value: 'pending',"),"\n",s.a.createElement("span",{className:"token comment"},"//","   ","history: new State('idle'),"),"\n",s.a.createElement("span",{className:"token comment"},"//","   ","actions: ["),"\n",s.a.createElement("span",{className:"token comment"},"//","     ","'preloadViews', // onExit action for 'idle' state"),"\n",s.a.createElement("span",{className:"token comment"},"//","     ","'warmCache', // transition action for 'idle' -> 'pending' on 'FETCH'"),"\n",s.a.createElement("span",{className:"token comment"},"//","     ","[Function: showLoader], // transition action for 'idle' -> 'pending' on 'FETCH'"),"\n",s.a.createElement("span",{className:"token comment"},"//","     ","'fetchData' // onEntry action for 'pending' state"),"\n",s.a.createElement("span",{className:"token comment"},"//","   ","]"),"\n",s.a.createElement("span",{className:"token comment"},"// ","}")))),s.a.createElement(c.MDXTag,{name:"p",components:a},s.a.createElement(c.MDXTag,{name:"strong",components:a,parentName:"p"},"Notes:")),s.a.createElement(c.MDXTag,{name:"ul",components:a},s.a.createElement(c.MDXTag,{name:"li",components:a,parentName:"ul"},"Prefer ",s.a.createElement(c.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"actions")," defined on transitions. Avoid excessive usage of ",s.a.createElement(c.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"onEntry")," or ",s.a.createElement(c.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"onExit")," actions."),s.a.createElement(c.MDXTag,{name:"li",components:a,parentName:"ul"},"As a rule of thumb, if you are absolutely sure that every possible transition to or from a state will exhibit the same actions, only then should you use ",s.a.createElement(c.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"onEntry")," or ",s.a.createElement(c.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"onExit")," actions, respectively."),s.a.createElement(c.MDXTag,{name:"li",components:a,parentName:"ul"},"Prefer action objects (e.g., ",s.a.createElement(c.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"{ type: 'SOME_EVENT' }"),") over string events."),s.a.createElement(c.MDXTag,{name:"li",components:a,parentName:"ul"},"Avoid unnamed function actions, such as ",s.a.createElement(c.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"() => { ... }"),". This makes visualization and debugging less useful.")))};var r={}}}]);
//# sourceMappingURL=component---src-pages-api-actions-md-fe339ce6d54ecbccba57.js.map