(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{145:function(e,a,n){"use strict";n.r(a),n.d(a,"_frontmatter",function(){return p});var t=n(167),s=n.n(t),c=n(0),o=n.n(c),m=n(168),l=n(169);a.default=function(e){var a=e.components,n=s()(e,["components"]);return o.a.createElement(m.MDXTag,{name:"wrapper",Layout:l.a,layoutProps:n,components:a},o.a.createElement(m.MDXTag,{name:"h1",components:a,props:{id:"actions-and-side-effects"}},o.a.createElement(m.MDXTag,{name:"a",components:a,parentName:"h1",props:{href:"#actions-and-side-effects","aria-hidden":!0,class:"anchor"}}),"Actions and side-effects"),o.a.createElement(m.MDXTag,{name:"p",components:a},"For a statechart to be useful in a real-world application, side-effects need to happen. In statecharts and XState, side-effects are declaratively represented by ",o.a.createElement(m.MDXTag,{name:"strong",components:a,parentName:"p"},"actions"),". When ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"machine.transition(...)")," is called, the ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"State")," returned will provide an array of ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"actions")," that an interpreter can then execute."),o.a.createElement(m.MDXTag,{name:"p",components:a},"There are three types of actions:"),o.a.createElement(m.MDXTag,{name:"ul",components:a},o.a.createElement(m.MDXTag,{name:"li",components:a,parentName:"ul"},o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"onEntry")," actions are executed upon entering a state"),o.a.createElement(m.MDXTag,{name:"li",components:a,parentName:"ul"},o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"onExit")," actions are executed upon exiting a state"),o.a.createElement(m.MDXTag,{name:"li",components:a,parentName:"ul"},"transition actions are executed when a transition is taken.")),o.a.createElement(m.MDXTag,{name:"p",components:a},"These are represented in the StateNode definition:"),o.a.createElement("div",{className:"gatsby-highlight","data-language":"js"},o.a.createElement("pre",{className:"language-js"},o.a.createElement("code",{className:"language-js"},o.a.createElement("span",{className:"token keyword"},"const")," triggerMachine ",o.a.createElement("span",{className:"token operator"},"=")," ",o.a.createElement("span",{className:"token function"},"Machine"),o.a.createElement("span",{className:"token punctuation"},"("),o.a.createElement("span",{className:"token punctuation"},"{"),"\n","  ","id",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'trigger'"),o.a.createElement("span",{className:"token punctuation"},","),"\n","  ","initial",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'inactive'"),o.a.createElement("span",{className:"token punctuation"},","),"\n","  ","states",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","    ","inactive",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","      ","on",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","        ",o.a.createElement("span",{className:"token constant"},"TRIGGER"),o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","          ","target",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'active'"),o.a.createElement("span",{className:"token punctuation"},","),"\n","          ",o.a.createElement("span",{className:"token comment"},"// transition actions"),"\n","          ","actions",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"["),o.a.createElement("span",{className:"token string"},"'activate'"),o.a.createElement("span",{className:"token punctuation"},",")," ",o.a.createElement("span",{className:"token string"},"'sendTelemetry'"),o.a.createElement("span",{className:"token punctuation"},"]"),"\n","        ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","      ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","    ",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},","),"\n","    ","active",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","      ",o.a.createElement("span",{className:"token comment"},"// entry actions"),"\n","      ","onEntry",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"["),o.a.createElement("span",{className:"token string"},"'notifyActive'"),o.a.createElement("span",{className:"token punctuation"},",")," ",o.a.createElement("span",{className:"token string"},"'sendTelemetry'"),o.a.createElement("span",{className:"token punctuation"},"]"),o.a.createElement("span",{className:"token punctuation"},","),"\n","      ",o.a.createElement("span",{className:"token comment"},"// exit actions"),"\n","      ","onExit",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"["),o.a.createElement("span",{className:"token string"},"'notifyInactive'"),o.a.createElement("span",{className:"token punctuation"},",")," ",o.a.createElement("span",{className:"token string"},"'sendTelemetry'"),o.a.createElement("span",{className:"token punctuation"},"]"),o.a.createElement("span",{className:"token punctuation"},","),"\n","      ","on",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","        ",o.a.createElement("span",{className:"token constant"},"STOP"),o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'inactive'"),"\n","      ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","    ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","  ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},",")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","  ","actions",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","    ",o.a.createElement("span",{className:"token comment"},"// action implementations"),"\n","    ","activate",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"("),"ctx",o.a.createElement("span",{className:"token punctuation"},",")," event",o.a.createElement("span",{className:"token punctuation"},")")," ",o.a.createElement("span",{className:"token operator"},"=>")," ",o.a.createElement("span",{className:"token punctuation"},"{")," console",o.a.createElement("span",{className:"token punctuation"},"."),o.a.createElement("span",{className:"token function"},"log"),o.a.createElement("span",{className:"token punctuation"},"("),o.a.createElement("span",{className:"token string"},"'activating...'"),o.a.createElement("span",{className:"token punctuation"},")")," ",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},","),"\n","    ","notifyActive",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"("),"ctx",o.a.createElement("span",{className:"token punctuation"},",")," event",o.a.createElement("span",{className:"token punctuation"},")")," ",o.a.createElement("span",{className:"token operator"},"=>")," ",o.a.createElement("span",{className:"token punctuation"},"{")," console",o.a.createElement("span",{className:"token punctuation"},"."),o.a.createElement("span",{className:"token function"},"log"),o.a.createElement("span",{className:"token punctuation"},"("),o.a.createElement("span",{className:"token string"},"'active!'"),o.a.createElement("span",{className:"token punctuation"},")")," ",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},","),"\n","    ","notifyInactive",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"("),"ctx",o.a.createElement("span",{className:"token punctuation"},",")," event",o.a.createElement("span",{className:"token punctuation"},")")," ",o.a.createElement("span",{className:"token operator"},"=>")," ",o.a.createElement("span",{className:"token punctuation"},"{")," console",o.a.createElement("span",{className:"token punctuation"},"."),o.a.createElement("span",{className:"token function"},"log"),o.a.createElement("span",{className:"token punctuation"},"("),o.a.createElement("span",{className:"token string"},"'inactive!'"),o.a.createElement("span",{className:"token punctuation"},")")," ",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},","),"\n","    ","sendTelemetry",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"("),"ctx",o.a.createElement("span",{className:"token punctuation"},",")," event",o.a.createElement("span",{className:"token punctuation"},")")," ",o.a.createElement("span",{className:"token operator"},"=>")," ",o.a.createElement("span",{className:"token punctuation"},"{")," console",o.a.createElement("span",{className:"token punctuation"},"."),o.a.createElement("span",{className:"token function"},"log"),o.a.createElement("span",{className:"token punctuation"},"("),o.a.createElement("span",{className:"token string"},"'time:'"),o.a.createElement("span",{className:"token punctuation"},",")," Date",o.a.createElement("span",{className:"token punctuation"},"."),o.a.createElement("span",{className:"token function"},"now"),o.a.createElement("span",{className:"token punctuation"},"("),o.a.createElement("span",{className:"token punctuation"},")"),o.a.createElement("span",{className:"token punctuation"},")")," ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","  ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},")"),o.a.createElement("span",{className:"token punctuation"},";")))),o.a.createElement(m.MDXTag,{name:"p",components:a},"The ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"State")," instance returned from a transition has an ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"actions")," property, which is an array of action objects for the interpreter to execute:"),o.a.createElement("div",{className:"gatsby-highlight","data-language":"js"},o.a.createElement("pre",{className:"language-js"},o.a.createElement("code",{className:"language-js"},o.a.createElement("span",{className:"token keyword"},"const")," activeState ",o.a.createElement("span",{className:"token operator"},"=")," triggerMachine",o.a.createElement("span",{className:"token punctuation"},"."),o.a.createElement("span",{className:"token function"},"transition"),o.a.createElement("span",{className:"token punctuation"},"("),o.a.createElement("span",{className:"token string"},"'inactive'"),o.a.createElement("span",{className:"token punctuation"},",")," ",o.a.createElement("span",{className:"token string"},"'TRIGGER'"),o.a.createElement("span",{className:"token punctuation"},")"),o.a.createElement("span",{className:"token punctuation"},";"),"\n","\n","activeState",o.a.createElement("span",{className:"token punctuation"},"."),"actions",o.a.createElement("span",{className:"token punctuation"},";"),"\n",o.a.createElement("span",{className:"token comment"},"// ["),"\n",o.a.createElement("span",{className:"token comment"},"//","   ","{"," type: 'activate', exec: ... ","}",","),"\n",o.a.createElement("span",{className:"token comment"},"//","   ","{"," type: 'sendTelemetry', exec: ... ","}",","),"\n",o.a.createElement("span",{className:"token comment"},"//","   ","{"," type: 'notifyActive', exec: ... ","}",","),"\n",o.a.createElement("span",{className:"token comment"},"//","   ","{"," type: 'sendTelemetry', exec: ... ","}"),"\n",o.a.createElement("span",{className:"token comment"},"// ]")))),o.a.createElement(m.MDXTag,{name:"p",components:a},"Each action object has two properties (and possibly others):"),o.a.createElement(m.MDXTag,{name:"ul",components:a},o.a.createElement(m.MDXTag,{name:"li",components:a,parentName:"ul"},o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"type")," - the action type"),o.a.createElement(m.MDXTag,{name:"li",components:a,parentName:"ul"},o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"exec")," - the action implementation function")),o.a.createElement(m.MDXTag,{name:"p",components:a},"The ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"exec")," function takes two arguments:"),o.a.createElement(m.MDXTag,{name:"ul",components:a},o.a.createElement(m.MDXTag,{name:"li",components:a,parentName:"ul"},o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"ctx")," - the current machine context"),o.a.createElement(m.MDXTag,{name:"li",components:a,parentName:"ul"},o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"event")," - the event that caused the transition")),o.a.createElement(m.MDXTag,{name:"p",components:a},"An interpreter would call the ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"exec")," function with the ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"currentState.context")," and the ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"event"),"."),o.a.createElement(m.MDXTag,{name:"h2",components:a,props:{id:"action-order"}},o.a.createElement(m.MDXTag,{name:"a",components:a,parentName:"h2",props:{href:"#action-order","aria-hidden":!0,class:"anchor"}}),"Action order"),o.a.createElement(m.MDXTag,{name:"p",components:a},"When interpreting statecharts, the order of actions should not necessarily matter (that is, they should not be dependent on each other). However, the order of the actions in the ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"state.actions")," array is:"),o.a.createElement(m.MDXTag,{name:"ol",components:a},o.a.createElement(m.MDXTag,{name:"li",components:a,parentName:"ol"},o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"onExit")," actions - all the exit actions of the exited states, from the atomic state node up"),o.a.createElement(m.MDXTag,{name:"li",components:a,parentName:"ol"},"transition ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"actions")," - all actions defined on the chosen transition"),o.a.createElement(m.MDXTag,{name:"li",components:a,parentName:"ol"},o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"onEntry")," actions - all the entry actions of the entered states, from the parent state down")),o.a.createElement(m.MDXTag,{name:"h2",components:a,props:{id:"built-in-actions"}},o.a.createElement(m.MDXTag,{name:"a",components:a,parentName:"h2",props:{href:"#built-in-actions","aria-hidden":!0,class:"anchor"}}),"Built-in actions"),o.a.createElement(m.MDXTag,{name:"p",components:a},"There are a number of useful built-in actions in:"),o.a.createElement(m.MDXTag,{name:"ul",components:a},o.a.createElement(m.MDXTag,{name:"li",components:a,parentName:"ul"},"The ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"send()"),' action creator queues an event to the statechart, in the external event queue. This means the event is sent on the next "step" of the interpreter.')),o.a.createElement("div",{className:"gatsby-highlight","data-language":"js"},o.a.createElement("pre",{className:"language-js"},o.a.createElement("code",{className:"language-js"},o.a.createElement("span",{className:"token keyword"},"import")," ",o.a.createElement("span",{className:"token punctuation"},"{")," Machine",o.a.createElement("span",{className:"token punctuation"},",")," actions ",o.a.createElement("span",{className:"token punctuation"},"}")," ",o.a.createElement("span",{className:"token keyword"},"from")," ",o.a.createElement("span",{className:"token string"},"'xstate'"),o.a.createElement("span",{className:"token punctuation"},";"),"\n",o.a.createElement("span",{className:"token keyword"},"const")," ",o.a.createElement("span",{className:"token punctuation"},"{")," send ",o.a.createElement("span",{className:"token punctuation"},"}")," ",o.a.createElement("span",{className:"token operator"},"=")," actions",o.a.createElement("span",{className:"token punctuation"},";"),"\n","\n",o.a.createElement("span",{className:"token keyword"},"const")," lazyStubbornMachine ",o.a.createElement("span",{className:"token operator"},"=")," ",o.a.createElement("span",{className:"token function"},"Machine"),o.a.createElement("span",{className:"token punctuation"},"("),o.a.createElement("span",{className:"token punctuation"},"{"),"\n","  ","id",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'stubborn'"),o.a.createElement("span",{className:"token punctuation"},","),"\n","  ","initial",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'inactive'"),o.a.createElement("span",{className:"token punctuation"},","),"\n","  ","states",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","    ","inactive",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","      ","on",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","        ",o.a.createElement("span",{className:"token constant"},"TOGGLE"),o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","          ","target",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'active'"),o.a.createElement("span",{className:"token punctuation"},","),"\n","          ",o.a.createElement("span",{className:"token comment"},"// send the TOGGLE event again to the service"),"\n","          ","actions",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token function"},"send"),o.a.createElement("span",{className:"token punctuation"},"("),o.a.createElement("span",{className:"token string"},"'TOGGLE'"),o.a.createElement("span",{className:"token punctuation"},")"),"\n","        ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","      ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","    ",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},","),"\n","    ","active",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","      ","on",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","        ",o.a.createElement("span",{className:"token constant"},"TOGGLE"),o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'inactive'"),"\n","      ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","    ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","  ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},")"),o.a.createElement("span",{className:"token punctuation"},";"),"\n","\n",o.a.createElement("span",{className:"token keyword"},"const")," nextState ",o.a.createElement("span",{className:"token operator"},"=")," lazyStubbornMachine",o.a.createElement("span",{className:"token punctuation"},"."),o.a.createElement("span",{className:"token function"},"transition"),o.a.createElement("span",{className:"token punctuation"},"("),o.a.createElement("span",{className:"token string"},"'inactive'"),o.a.createElement("span",{className:"token punctuation"},",")," ",o.a.createElement("span",{className:"token string"},"'TOGGLE'"),o.a.createElement("span",{className:"token punctuation"},")"),o.a.createElement("span",{className:"token punctuation"},";"),"\n","\n","nextState",o.a.createElement("span",{className:"token punctuation"},"."),"value",o.a.createElement("span",{className:"token punctuation"},";"),"\n",o.a.createElement("span",{className:"token comment"},"// => 'active'"),"\n","nextState",o.a.createElement("span",{className:"token punctuation"},"."),"actions",o.a.createElement("span",{className:"token punctuation"},";"),"\n",o.a.createElement("span",{className:"token comment"},"// => [","{"," type: 'xstate.send', event: ","{"," type: 'TOGGLE' ","}","}","]"),"\n","\n",o.a.createElement("span",{className:"token comment"},"// The service will proceed to send itself the ","{"," type: 'TOGGLE' ","}"," event.")))),o.a.createElement(m.MDXTag,{name:"ul",components:a},o.a.createElement(m.MDXTag,{name:"li",components:a,parentName:"ul"},"The ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"raise()"),' action creator queues an event to the statechart, in the internal event queue. This means the event is immediately sent on the current "step" of the interpreter.')),o.a.createElement("div",{className:"gatsby-highlight","data-language":"js"},o.a.createElement("pre",{className:"language-js"},o.a.createElement("code",{className:"language-js"},o.a.createElement("span",{className:"token keyword"},"import")," ",o.a.createElement("span",{className:"token punctuation"},"{")," Machine",o.a.createElement("span",{className:"token punctuation"},",")," actions ",o.a.createElement("span",{className:"token punctuation"},"}")," ",o.a.createElement("span",{className:"token keyword"},"from")," ",o.a.createElement("span",{className:"token string"},"'xstate'"),o.a.createElement("span",{className:"token punctuation"},";"),"\n",o.a.createElement("span",{className:"token keyword"},"const")," ",o.a.createElement("span",{className:"token punctuation"},"{")," raise ",o.a.createElement("span",{className:"token punctuation"},"}")," ",o.a.createElement("span",{className:"token operator"},"=")," actions",o.a.createElement("span",{className:"token punctuation"},";"),"\n","\n",o.a.createElement("span",{className:"token keyword"},"const")," stubbornMachine ",o.a.createElement("span",{className:"token operator"},"=")," ",o.a.createElement("span",{className:"token function"},"Machine"),o.a.createElement("span",{className:"token punctuation"},"("),o.a.createElement("span",{className:"token punctuation"},"{"),"\n","  ","id",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'stubborn'"),o.a.createElement("span",{className:"token punctuation"},","),"\n","  ","initial",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'inactive'"),o.a.createElement("span",{className:"token punctuation"},","),"\n","  ","states",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","    ","inactive",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","      ","on",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","        ",o.a.createElement("span",{className:"token constant"},"TOGGLE"),o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","          ","target",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'active'"),o.a.createElement("span",{className:"token punctuation"},","),"\n","          ",o.a.createElement("span",{className:"token comment"},"// immediately consume the TOGGLE event"),"\n","          ","actions",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token function"},"raise"),o.a.createElement("span",{className:"token punctuation"},"("),o.a.createElement("span",{className:"token string"},"'TOGGLE'"),o.a.createElement("span",{className:"token punctuation"},")"),"\n","        ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","      ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","    ",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},","),"\n","    ","active",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","      ","on",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","        ",o.a.createElement("span",{className:"token constant"},"TOGGLE"),o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'inactive'"),"\n","      ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","    ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","  ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},")"),o.a.createElement("span",{className:"token punctuation"},";"),"\n","\n",o.a.createElement("span",{className:"token keyword"},"const")," nextState ",o.a.createElement("span",{className:"token operator"},"=")," stubbornMachine",o.a.createElement("span",{className:"token punctuation"},"."),o.a.createElement("span",{className:"token function"},"transition"),o.a.createElement("span",{className:"token punctuation"},"("),o.a.createElement("span",{className:"token string"},"'inactive'"),o.a.createElement("span",{className:"token punctuation"},",")," ",o.a.createElement("span",{className:"token string"},"'TOGGLE'"),o.a.createElement("span",{className:"token punctuation"},")"),o.a.createElement("span",{className:"token punctuation"},";"),"\n","\n","nextState",o.a.createElement("span",{className:"token punctuation"},"."),"value",o.a.createElement("span",{className:"token punctuation"},";"),"\n",o.a.createElement("span",{className:"token comment"},"// => 'inactive'"),"\n","nextState",o.a.createElement("span",{className:"token punctuation"},"."),"actions",o.a.createElement("span",{className:"token punctuation"},";"),"\n",o.a.createElement("span",{className:"token comment"},"// => []")))),o.a.createElement(m.MDXTag,{name:"ul",components:a},o.a.createElement(m.MDXTag,{name:"li",components:a,parentName:"ul"},o.a.createElement(m.MDXTag,{name:"p",components:a,parentName:"li"},"The ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"log()")," action creator is a declarative way of logging anything related to the current state ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"context")," and/or ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"event"),". It takes two arguments:"),o.a.createElement(m.MDXTag,{name:"ul",components:a,parentName:"li"},o.a.createElement(m.MDXTag,{name:"li",components:a,parentName:"ul"},o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"expr")," - a function that takes the ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"context")," and ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"event")," as arguments and returns a value to be logged"),o.a.createElement(m.MDXTag,{name:"li",components:a,parentName:"ul"},o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"label")," (optional) - a string to label the logged message")))),o.a.createElement("div",{className:"gatsby-highlight","data-language":"js"},o.a.createElement("pre",{className:"language-js"},o.a.createElement("code",{className:"language-js"},o.a.createElement("span",{className:"token keyword"},"import")," ",o.a.createElement("span",{className:"token punctuation"},"{")," Machine",o.a.createElement("span",{className:"token punctuation"},",")," actions ",o.a.createElement("span",{className:"token punctuation"},"}")," ",o.a.createElement("span",{className:"token keyword"},"from")," ",o.a.createElement("span",{className:"token string"},"'xstate'"),o.a.createElement("span",{className:"token punctuation"},";"),"\n",o.a.createElement("span",{className:"token keyword"},"const")," ",o.a.createElement("span",{className:"token punctuation"},"{")," raise ",o.a.createElement("span",{className:"token punctuation"},"}")," ",o.a.createElement("span",{className:"token operator"},"=")," actions",o.a.createElement("span",{className:"token punctuation"},";"),"\n","\n",o.a.createElement("span",{className:"token keyword"},"const")," loggingMachine ",o.a.createElement("span",{className:"token operator"},"=")," ",o.a.createElement("span",{className:"token function"},"Machine"),o.a.createElement("span",{className:"token punctuation"},"("),o.a.createElement("span",{className:"token punctuation"},"{"),"\n","  ","id",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'logging'"),o.a.createElement("span",{className:"token punctuation"},","),"\n","  ","context",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{")," count",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token number"},"42")," ",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},","),"\n","  ","initial",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'start'"),o.a.createElement("span",{className:"token punctuation"},","),"\n","  ","states",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","    ","start",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","      ","on",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","        ",o.a.createElement("span",{className:"token constant"},"FINISH"),o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","          ","target",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'end'"),o.a.createElement("span",{className:"token punctuation"},","),"\n","          ","actions",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token function"},"log"),o.a.createElement("span",{className:"token punctuation"},"("),o.a.createElement("span",{className:"token punctuation"},"("),"ctx",o.a.createElement("span",{className:"token punctuation"},",")," event",o.a.createElement("span",{className:"token punctuation"},")")," ",o.a.createElement("span",{className:"token operator"},"=>"),"\n","            ",o.a.createElement("span",{className:"token template-string"},o.a.createElement("span",{className:"token string"},"`count: "),o.a.createElement("span",{className:"token interpolation"},o.a.createElement("span",{className:"token interpolation-punctuation punctuation"},"$","{"),"ctx",o.a.createElement("span",{className:"token punctuation"},"."),"count",o.a.createElement("span",{className:"token interpolation-punctuation punctuation"},"}")),o.a.createElement("span",{className:"token string"},", event: "),o.a.createElement("span",{className:"token interpolation"},o.a.createElement("span",{className:"token interpolation-punctuation punctuation"},"$","{"),"event",o.a.createElement("span",{className:"token punctuation"},"."),"type",o.a.createElement("span",{className:"token interpolation-punctuation punctuation"},"}")),o.a.createElement("span",{className:"token string"},"`")),o.a.createElement("span",{className:"token punctuation"},","),"\n","            ",o.a.createElement("span",{className:"token string"},"'Finish label'"),o.a.createElement("span",{className:"token punctuation"},")"),"\n","        ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","      ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","    ",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},","),"\n","    ","end",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),o.a.createElement("span",{className:"token punctuation"},"}"),"\n","  ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},")"),o.a.createElement("span",{className:"token punctuation"},";"),"\n","\n",o.a.createElement("span",{className:"token keyword"},"const")," endState ",o.a.createElement("span",{className:"token operator"},"=")," loggingMachine",o.a.createElement("span",{className:"token punctuation"},"."),o.a.createElement("span",{className:"token function"},"transition"),o.a.createElement("span",{className:"token punctuation"},"("),o.a.createElement("span",{className:"token string"},"'start'"),o.a.createElement("span",{className:"token punctuation"},",")," ",o.a.createElement("span",{className:"token string"},"'FINISH'"),o.a.createElement("span",{className:"token punctuation"},")"),o.a.createElement("span",{className:"token punctuation"},";"),"\n","\n","endState",o.a.createElement("span",{className:"token punctuation"},"."),"actions",o.a.createElement("span",{className:"token punctuation"},";"),"\n",o.a.createElement("span",{className:"token comment"},"// ["),"\n",o.a.createElement("span",{className:"token comment"},"//","   ","{"),"\n",o.a.createElement("span",{className:"token comment"},"//","     ","type: 'xstate.log',"),"\n",o.a.createElement("span",{className:"token comment"},"//","     ","label: 'Finish label',"),"\n",o.a.createElement("span",{className:"token comment"},"//","     ","expr: (ctx, event) => ..."),"\n",o.a.createElement("span",{className:"token comment"},"//","   ","}"),"\n",o.a.createElement("span",{className:"token comment"},"// ]"),"\n","\n",o.a.createElement("span",{className:"token comment"},"// The interpreter would log the action's evaluated expression"),"\n",o.a.createElement("span",{className:"token comment"},"// based on the current state context and event.")))),o.a.createElement(m.MDXTag,{name:"h2",components:a,props:{id:"actions-on-self-transitions"}},o.a.createElement(m.MDXTag,{name:"a",components:a,parentName:"h2",props:{href:"#actions-on-self-transitions","aria-hidden":!0,class:"anchor"}}),"Actions on self-transitions"),o.a.createElement(m.MDXTag,{name:"p",components:a},"A self-transition is when a state transitions to itself, in which it ",o.a.createElement(m.MDXTag,{name:"em",components:a,parentName:"p"},"may")," exit and then reenter itself. Self-transitions can either be an ",o.a.createElement(m.MDXTag,{name:"strong",components:a,parentName:"p"},"internal")," or ",o.a.createElement(m.MDXTag,{name:"strong",components:a,parentName:"p"},"external")," transition:"),o.a.createElement(m.MDXTag,{name:"ul",components:a},o.a.createElement(m.MDXTag,{name:"li",components:a,parentName:"ul"},o.a.createElement(m.MDXTag,{name:"p",components:a,parentName:"li"},"An internal transition will ",o.a.createElement(m.MDXTag,{name:"em",components:a,parentName:"p"},"not")," exit and reenter itself, so the state node's ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"onEntry")," and ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"onExit")," actions will not be executed again."),o.a.createElement(m.MDXTag,{name:"ul",components:a,parentName:"li"},o.a.createElement(m.MDXTag,{name:"li",components:a,parentName:"ul"},"Internal transitions are indicated with ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"{ internal: true }"),"."),o.a.createElement(m.MDXTag,{name:"li",components:a,parentName:"ul"},"Actions defined on the transition's ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"actions")," property will be executed."))),o.a.createElement(m.MDXTag,{name:"li",components:a,parentName:"ul"},o.a.createElement(m.MDXTag,{name:"p",components:a,parentName:"li"},"An external transition ",o.a.createElement(m.MDXTag,{name:"em",components:a,parentName:"p"},"will")," exit and reenter itself, so the state node's ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"onEntry")," and ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"onExit")," actions will be executed again."),o.a.createElement(m.MDXTag,{name:"ul",components:a,parentName:"li"},o.a.createElement(m.MDXTag,{name:"li",components:a,parentName:"ul"},"All transitions are external by default. To be explicit, you can indicate them with ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"{ internal: false }"),"."),o.a.createElement(m.MDXTag,{name:"li",components:a,parentName:"ul"},"Actions defined on the transition's ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"actions")," property will be executed.")))),o.a.createElement(m.MDXTag,{name:"p",components:a},"For example, this counter machine has one ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"'counting'")," state with internal and external transitions:"),o.a.createElement("div",{className:"gatsby-highlight","data-language":"js"},o.a.createElement("pre",{className:"language-js"},o.a.createElement("code",{className:"language-js"},o.a.createElement("span",{className:"token keyword"},"const")," counterMachine ",o.a.createElement("span",{className:"token operator"},"=")," ",o.a.createElement("span",{className:"token function"},"Machine"),o.a.createElement("span",{className:"token punctuation"},"("),o.a.createElement("span",{className:"token punctuation"},"{"),"\n","  ","id",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'counter'"),o.a.createElement("span",{className:"token punctuation"},","),"\n","  ","initial",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'counting'"),o.a.createElement("span",{className:"token punctuation"},","),"\n","  ","states",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","    ","counting",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","      ","onEntry",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'enterCounting'"),o.a.createElement("span",{className:"token punctuation"},","),"\n","      ","onExit",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'exitCounting'"),o.a.createElement("span",{className:"token punctuation"},","),"\n","      ","on",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{"),"\n","        ",o.a.createElement("span",{className:"token comment"},"// self-transitions"),"\n","        ",o.a.createElement("span",{className:"token constant"},"INC"),o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{")," actions",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'increment'")," ",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},",")," ",o.a.createElement("span",{className:"token comment"},"// since 4.0"),"\n","        ",o.a.createElement("span",{className:"token constant"},"DEC"),o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{")," actions",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'decrement'")," ",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},",")," ",o.a.createElement("span",{className:"token comment"},"// since 4.0"),"\n","        ",o.a.createElement("span",{className:"token constant"},"DO_NOTHING"),o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token punctuation"},"{")," internal",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token boolean"},"true"),o.a.createElement("span",{className:"token punctuation"},",")," actions",o.a.createElement("span",{className:"token punctuation"},":")," ",o.a.createElement("span",{className:"token string"},"'logNothing'")," ",o.a.createElement("span",{className:"token punctuation"},"}")," ",o.a.createElement("span",{className:"token comment"},"// since 4.0"),"\n","      ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","    ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n","  ",o.a.createElement("span",{className:"token punctuation"},"}"),"\n",o.a.createElement("span",{className:"token punctuation"},"}"),o.a.createElement("span",{className:"token punctuation"},")"),o.a.createElement("span",{className:"token punctuation"},";"),"\n","\n",o.a.createElement("span",{className:"token comment"},"// External transition (onExit + transition actions + onEntry)"),"\n",o.a.createElement("span",{className:"token keyword"},"const")," stateA ",o.a.createElement("span",{className:"token operator"},"=")," counterMachine",o.a.createElement("span",{className:"token punctuation"},"."),o.a.createElement("span",{className:"token function"},"transition"),o.a.createElement("span",{className:"token punctuation"},"("),o.a.createElement("span",{className:"token string"},"'counting'"),o.a.createElement("span",{className:"token punctuation"},",")," ",o.a.createElement("span",{className:"token string"},"'INC'"),o.a.createElement("span",{className:"token punctuation"},")"),o.a.createElement("span",{className:"token punctuation"},";"),"\n","stateA",o.a.createElement("span",{className:"token punctuation"},"."),"actions",o.a.createElement("span",{className:"token punctuation"},";"),"\n",o.a.createElement("span",{className:"token comment"},"// ['exitCounting', 'increment', 'enterCounting']"),"\n","\n",o.a.createElement("span",{className:"token comment"},"// Internal transition (transition actions)"),"\n",o.a.createElement("span",{className:"token keyword"},"const")," stateB ",o.a.createElement("span",{className:"token operator"},"=")," counterMachine",o.a.createElement("span",{className:"token punctuation"},"."),o.a.createElement("span",{className:"token function"},"transition"),o.a.createElement("span",{className:"token punctuation"},"("),o.a.createElement("span",{className:"token string"},"'counting'"),o.a.createElement("span",{className:"token punctuation"},",")," ",o.a.createElement("span",{className:"token string"},"'DO_NOTHING'"),o.a.createElement("span",{className:"token punctuation"},")"),o.a.createElement("span",{className:"token punctuation"},";"),"\n","stateB",o.a.createElement("span",{className:"token punctuation"},"."),"actions",o.a.createElement("span",{className:"token punctuation"},";"),"\n",o.a.createElement("span",{className:"token comment"},"// ['logNothing']")))))};var p={}}}]);
//# sourceMappingURL=component---src-pages-guides-actions-mdx-4c724d59f8bc30977201.js.map