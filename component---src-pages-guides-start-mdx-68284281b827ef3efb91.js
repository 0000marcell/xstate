(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{159:function(e,a,n){"use strict";n.r(a),n.d(a,"_frontmatter",function(){return p});var t=n(167),s=n.n(t),c=n(0),m=n.n(c),o=n(168),l=n(169);a.default=function(e){var a=e.components,n=s()(e,["components"]);return m.a.createElement(o.MDXTag,{name:"wrapper",Layout:l.a,layoutProps:n,components:a},m.a.createElement(o.MDXTag,{name:"h1",components:a,props:{id:"getting-started"}},m.a.createElement(o.MDXTag,{name:"a",components:a,parentName:"h1",props:{href:"#getting-started","aria-hidden":!0,class:"anchor"}}),"Getting Started"),m.a.createElement(o.MDXTag,{name:"p",components:a},"Suppose we want to model a ",m.a.createElement(o.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"}},"Promise")," as a state machine. First, install XState using NPM or Yarn:"),m.a.createElement("div",{className:"gatsby-highlight","data-language":"bash"},m.a.createElement("pre",{className:"language-bash"},m.a.createElement("code",{className:"language-bash"},m.a.createElement("span",{className:"token function"},"npm")," ",m.a.createElement("span",{className:"token function"},"install")," xstate --save"))),m.a.createElement(o.MDXTag,{name:"p",components:a},"Then, in your project, import ",m.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"Machine"),", which is a factory function that creates a state machine or statechart:"),m.a.createElement("div",{className:"gatsby-highlight","data-language":"js"},m.a.createElement("pre",{className:"language-js"},m.a.createElement("code",{className:"language-js"},m.a.createElement("span",{className:"token keyword"},"import")," ",m.a.createElement("span",{className:"token punctuation"},"{")," Machine ",m.a.createElement("span",{className:"token punctuation"},"}")," ",m.a.createElement("span",{className:"token keyword"},"from")," ",m.a.createElement("span",{className:"token string"},"'xstate'"),m.a.createElement("span",{className:"token punctuation"},";"),"\n","\n",m.a.createElement("span",{className:"token keyword"},"const")," promiseMachine ",m.a.createElement("span",{className:"token operator"},"=")," ",m.a.createElement("span",{className:"token function"},"Machine"),m.a.createElement("span",{className:"token punctuation"},"("),m.a.createElement("span",{className:"token comment"},"/* ... */"),m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},";")))),m.a.createElement(o.MDXTag,{name:"p",components:a},"We'll pass the ",m.a.createElement(o.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"/xstate/config"}},"machine configuration")," inside of ",m.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"Machine(...)"),". Since this is a ",m.a.createElement(o.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"/xstate/hierarchical"}},"hierarchical machine"),", we need to provide the:"),m.a.createElement(o.MDXTag,{name:"ul",components:a},m.a.createElement(o.MDXTag,{name:"li",components:a,parentName:"ul"},m.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"id")," - to identify the machine and set the base string for its child state node IDs"),m.a.createElement(o.MDXTag,{name:"li",components:a,parentName:"ul"},m.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"initial")," - to specify the initial state node this machine should be in"),m.a.createElement(o.MDXTag,{name:"li",components:a,parentName:"ul"},m.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"li"},"states")," - to define each of the child states:")),m.a.createElement("div",{className:"gatsby-highlight","data-language":"js"},m.a.createElement("pre",{className:"language-js"},m.a.createElement("code",{className:"language-js"},m.a.createElement("span",{className:"token keyword"},"import")," ",m.a.createElement("span",{className:"token punctuation"},"{")," Machine ",m.a.createElement("span",{className:"token punctuation"},"}")," ",m.a.createElement("span",{className:"token keyword"},"from")," ",m.a.createElement("span",{className:"token string"},"'xstate'"),m.a.createElement("span",{className:"token punctuation"},";"),"\n","\n",m.a.createElement("span",{className:"token keyword"},"const")," promiseMachine ",m.a.createElement("span",{className:"token operator"},"=")," ",m.a.createElement("span",{className:"token function"},"Machine"),m.a.createElement("span",{className:"token punctuation"},"("),m.a.createElement("span",{className:"token punctuation"},"{"),"\n","  ","id",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'promise'"),m.a.createElement("span",{className:"token punctuation"},","),"\n","  ","initial",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'pending'"),m.a.createElement("span",{className:"token punctuation"},","),"\n","  ","states",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","    ","pending",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},","),"\n","    ","resolved",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},","),"\n","    ","rejected",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),m.a.createElement("span",{className:"token punctuation"},"}"),"\n","  ",m.a.createElement("span",{className:"token punctuation"},"}"),"\n",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},";")))),m.a.createElement(o.MDXTag,{name:"p",components:a},"Then, we need to add ",m.a.createElement(o.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"/xstate/transitions"}},"transitions")," to the state nodes and mark the ",m.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"resolved")," and ",m.a.createElement(o.MDXTag,{name:"inlineCode",components:a,parentName:"p"},"rejected")," state nodes as ",m.a.createElement(o.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"/xstate/final"}},"final state nodes")," since the promise machine terminates running once it reaches those states:"),m.a.createElement("div",{className:"gatsby-highlight","data-language":"js"},m.a.createElement("pre",{className:"language-js"},m.a.createElement("code",{className:"language-js"},m.a.createElement("span",{className:"token keyword"},"import")," ",m.a.createElement("span",{className:"token punctuation"},"{")," Machine ",m.a.createElement("span",{className:"token punctuation"},"}")," ",m.a.createElement("span",{className:"token keyword"},"from")," ",m.a.createElement("span",{className:"token string"},"'xstate'"),m.a.createElement("span",{className:"token punctuation"},";"),"\n","\n",m.a.createElement("span",{className:"token keyword"},"const")," promiseMachine ",m.a.createElement("span",{className:"token operator"},"=")," ",m.a.createElement("span",{className:"token function"},"Machine"),m.a.createElement("span",{className:"token punctuation"},"("),m.a.createElement("span",{className:"token punctuation"},"{"),"\n","  ","id",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'promise'"),m.a.createElement("span",{className:"token punctuation"},","),"\n","  ","initial",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'pending'"),m.a.createElement("span",{className:"token punctuation"},","),"\n","  ","states",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","    ","pending",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","      ","on",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","        ",m.a.createElement("span",{className:"token constant"},"RESOLVE"),m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'resolved'"),m.a.createElement("span",{className:"token punctuation"},","),"\n","        ",m.a.createElement("span",{className:"token constant"},"REJECT"),m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'rejected'"),"\n","      ",m.a.createElement("span",{className:"token punctuation"},"}"),"\n","    ",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},","),"\n","    ","resolved",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","      ","type",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'final'"),"\n","    ",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},","),"\n","    ","rejected",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token punctuation"},"{"),"\n","      ","type",m.a.createElement("span",{className:"token punctuation"},":")," ",m.a.createElement("span",{className:"token string"},"'final'"),"\n","    ",m.a.createElement("span",{className:"token punctuation"},"}"),"\n","  ",m.a.createElement("span",{className:"token punctuation"},"}"),"\n",m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},";")))),m.a.createElement(o.MDXTag,{name:"p",components:a},"To ",m.a.createElement(o.MDXTag,{name:"a",components:a,parentName:"p",props:{href:"/xstate/interpretation"}},"interpret")," the machine and make it run, we need to add an interpreter. This creates a service:"),m.a.createElement("div",{className:"gatsby-highlight","data-language":"js"},m.a.createElement("pre",{className:"language-js"},m.a.createElement("code",{className:"language-js"},m.a.createElement("span",{className:"token keyword"},"import")," ",m.a.createElement("span",{className:"token punctuation"},"{")," Machine ",m.a.createElement("span",{className:"token punctuation"},"}")," ",m.a.createElement("span",{className:"token keyword"},"from")," ",m.a.createElement("span",{className:"token string"},"'xstate'"),m.a.createElement("span",{className:"token punctuation"},";"),"\n",m.a.createElement("span",{className:"token keyword"},"import")," ",m.a.createElement("span",{className:"token punctuation"},"{")," interpret ",m.a.createElement("span",{className:"token punctuation"},"}")," ",m.a.createElement("span",{className:"token keyword"},"from")," ",m.a.createElement("span",{className:"token string"},"'xstate/lib/interpreter'"),m.a.createElement("span",{className:"token punctuation"},";"),"\n","\n",m.a.createElement("span",{className:"token keyword"},"const")," promiseMachine ",m.a.createElement("span",{className:"token operator"},"=")," ",m.a.createElement("span",{className:"token function"},"Machine"),m.a.createElement("span",{className:"token punctuation"},"("),m.a.createElement("span",{className:"token punctuation"},"{"),m.a.createElement("span",{className:"token comment"},"/* ... */"),m.a.createElement("span",{className:"token punctuation"},"}"),m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},";"),"\n","\n",m.a.createElement("span",{className:"token keyword"},"const")," promiseService ",m.a.createElement("span",{className:"token operator"},"=")," ",m.a.createElement("span",{className:"token function"},"interpret"),m.a.createElement("span",{className:"token punctuation"},"("),"promiseMachine",m.a.createElement("span",{className:"token punctuation"},")"),"\n","  ",m.a.createElement("span",{className:"token punctuation"},"."),m.a.createElement("span",{className:"token function"},"onTransition"),m.a.createElement("span",{className:"token punctuation"},"("),"state ",m.a.createElement("span",{className:"token operator"},"=>")," console",m.a.createElement("span",{className:"token punctuation"},"."),m.a.createElement("span",{className:"token function"},"log"),m.a.createElement("span",{className:"token punctuation"},"("),"state",m.a.createElement("span",{className:"token punctuation"},"."),"value",m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},";"),"\n","\n",m.a.createElement("span",{className:"token comment"},"// Start the service"),"\n","promiseService",m.a.createElement("span",{className:"token punctuation"},"."),m.a.createElement("span",{className:"token function"},"start"),m.a.createElement("span",{className:"token punctuation"},"("),m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},";"),"\n",m.a.createElement("span",{className:"token comment"},"// => 'pending'"),"\n","\n","promiseService",m.a.createElement("span",{className:"token punctuation"},"."),m.a.createElement("span",{className:"token function"},"send"),m.a.createElement("span",{className:"token punctuation"},"("),m.a.createElement("span",{className:"token string"},"'RESOLVE'"),m.a.createElement("span",{className:"token punctuation"},")"),m.a.createElement("span",{className:"token punctuation"},";"),"\n",m.a.createElement("span",{className:"token comment"},"// => 'resolved'")))))};var p={}}}]);
//# sourceMappingURL=component---src-pages-guides-start-mdx-68284281b827ef3efb91.js.map